{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/** @jsx jsx */\n\n\nvar RangeSlider = function (_Component) {\n  _inherits(RangeSlider, _Component);\n\n  function RangeSlider(props) {\n    _classCallCheck(this, RangeSlider);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var selectedValue = props.selectedValue,\n        defaultValue = props.defaultValue,\n        value = props.value;\n    var valueToParse = selectedValue || value || defaultValue;\n    var currentValue = RangeSlider.parseValue(valueToParse, props);\n    _this.state = {\n      currentValue: currentValue,\n      stats: []\n    };\n    _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId); // Set custom query in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\n    _this.updateQueryOptions(props);\n\n    var hasMounted = false;\n\n    if (currentValue) {\n      _this.handleChange(currentValue, props, hasMounted);\n    }\n\n    return _this;\n  }\n\n  RangeSlider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['showHistogram', 'interval'], function () {\n      return _this2.updateQueryOptions(_this2.props);\n    });\n    (0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {\n      var options = _this2.props.options;\n\n      if (Array.isArray(options)) {\n        options.sort(function (a, b) {\n          if (a.key < b.key) return -1;\n          if (a.key > b.key) return 1;\n          return 0;\n        });\n      }\n\n      _this2.setState({\n        stats: options || []\n      });\n    });\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n      _this2.updateQueryOptions(_this2.props);\n\n      _this2.handleChange(_this2.state.currentValue, _this2.props);\n    });\n\n    if (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n      var value = RangeSlider.parseValue(this.props.value, this.props);\n      this.handleChange(value, this.props);\n    } else if (!(0, _helper.isEqual)(this.state.currentValue, this.props.selectedValue) && !(0, _helper.isEqual)(this.props.selectedValue, prevProps.selectedValue)) {\n      var _props = this.props,\n          _value = _props.value,\n          onChange = _props.onChange;\n\n      if (_value === undefined) {\n        var selectedValue = RangeSlider.parseValue(this.props.selectedValue, this.props);\n        this.handleChange(selectedValue, this.props);\n      } else if (onChange) {\n        onChange(this.props.selectedValue || null);\n      } else {\n        this.handleChange(this.state.currentValue);\n      }\n    }\n  };\n\n  RangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var upperLimit = Math.floor((nextProps.range.end - nextProps.range.start) / 2);\n\n    if (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n      console.warn('stepValue for RangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n      return false;\n    }\n\n    return true;\n  };\n\n  RangeSlider.prototype.render = function render() {\n    var _this3 = this;\n\n    return (0, _core.jsx)(_Slider4.default, {\n      primary: true,\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.title && (0, _core.jsx)(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), this.state.stats.length && this.props.showHistogram && this.props.showSlider ? (0, _core.jsx)(_HistogramContainer2.default, {\n      stats: this.state.stats,\n      range: this.props.range,\n      interval: this.getValidInterval(this.props)\n    }) : null, this.props.showSlider && (0, _core.jsx)(_Slider2.default, {\n      min: this.props.range.start,\n      max: this.props.range.end,\n      values: this.state.currentValue,\n      onChange: this.handleSlider,\n      onValuesUpdated: this.handleDrag,\n      snap: this.props.snap,\n      snapPoints: this.props.snap ? this.getSnapPoints() : null,\n      className: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n      handle: function handle(_ref) {\n        var className = _ref.className,\n            style = _ref.style,\n            passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n        return (0, _core.jsx)(_SliderHandle2.default, _extends({\n          style: style,\n          className: className\n        }, passProps, {\n          renderTooltipData: _this3.props.renderTooltipData,\n          tooltipTrigger: _this3.props.tooltipTrigger\n        }));\n      }\n    }), this.props.rangeLabels && this.props.showSlider && (0, _core.jsx)('div', {\n      css: _Label.rangeLabelsContainer\n    }, (0, _core.jsx)(_RangeLabel2.default, {\n      align: 'left',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, this.props.rangeLabels.start), (0, _core.jsx)(_RangeLabel2.default, {\n      align: 'right',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, this.props.rangeLabels.end)));\n  };\n\n  return RangeSlider;\n}(_react.Component);\n\nRangeSlider.parseValue = function (value, props) {\n  if (Array.isArray(value)) return value;\n  return value ? [value.start, value.end] : [props.range.start, props.range.end];\n};\n\nRangeSlider.defaultQuery = function (value, props) {\n  var query = null;\n\n  if (Array.isArray(value) && value.length) {\n    query = (0, _utils.getRangeQueryWithNullValues)(value, props);\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.getSnapPoints = function () {\n    var snapPoints = [];\n    var stepValue = _this4.props.stepValue; // limit the number of steps to prevent generating a large number of snapPoints\n\n    if ((_this4.props.range.end - _this4.props.range.start) / stepValue > 100) {\n      stepValue = (_this4.props.range.end - _this4.props.range.start) / 100;\n    }\n\n    for (var i = _this4.props.range.start; i <= _this4.props.range.end; i += stepValue) {\n      snapPoints = snapPoints.concat(i);\n    }\n\n    if (snapPoints[snapPoints.length - 1] !== _this4.props.range.end) {\n      snapPoints = snapPoints.concat(_this4.props.range.end);\n    }\n\n    return snapPoints;\n  };\n\n  this.getValidInterval = function (props) {\n    var min = Math.ceil((props.range.end - props.range.start) / 100) || 1;\n\n    if (!props.interval) {\n      return min;\n    } else if (props.interval < min) {\n      console.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n      return min;\n    }\n\n    return props.interval;\n  };\n\n  this.histogramQuery = function (props) {\n    var _query;\n\n    var query = (_query = {}, _query[props.dataField] = {\n      histogram: {\n        field: props.dataField,\n        interval: _this4.getValidInterval(props),\n        offset: props.range.start\n      }\n    }, _query);\n\n    if (props.nestedField) {\n      return {\n        inner: {\n          aggs: query,\n          nested: {\n            path: props.nestedField\n          }\n        }\n      };\n    }\n\n    return query;\n  };\n\n  this.handleChange = function (currentValue) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this4.props;\n    var hasMounted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var performUpdate = function performUpdate() {\n      var handleUpdates = function handleUpdates() {\n        var start = currentValue[0],\n            end = currentValue[1];\n\n        _this4.updateQuery([start, end], props);\n\n        if (props.onValueChange) {\n          props.onValueChange({\n            start: start,\n            end: end\n          });\n        }\n      };\n\n      var start = currentValue[0],\n          end = currentValue[1];\n      var range = props.range;\n\n      if (hasMounted && start <= end && start >= range.start && end <= range.end) {\n        _this4.setState({\n          currentValue: currentValue\n        }, handleUpdates);\n      } else {\n        handleUpdates();\n      }\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, {\n      start: currentValue[0],\n      end: currentValue[1]\n    }, props.beforeValueChange, performUpdate);\n  };\n\n  this.handleSlider = function (_ref2) {\n    var values = _ref2.values;\n\n    if (!(0, _helper.isEqual)(values, _this4.state.currentValue)) {\n      var _props2 = _this4.props,\n          value = _props2.value,\n          onChange = _props2.onChange;\n\n      if (value === undefined) {\n        _this4.handleChange(values);\n      } else if (onChange) {\n        // force re-rendering to avail the currentValue\n        // in rheostat component since it doesn't respect\n        // the controlled behavior properly\n        _this4.forceUpdate();\n\n        onChange(values);\n      } else {\n        // since value prop is set & onChange is not defined\n        // we need to reset the slider position\n        // to the original 'value' prop\n        _this4.setState({\n          currentValue: _this4.state.currentValue\n        });\n      }\n    }\n  };\n\n  this.handleDrag = function (values) {\n    if (_this4.props.onDrag) {\n      var min = values.min,\n          max = values.max,\n          currentValue = values.values;\n\n      _this4.props.onDrag(currentValue, [min, max]);\n    }\n  };\n\n  this.updateQuery = function (value, props) {\n    var customQuery = props.customQuery;\n    var query = RangeSlider.defaultQuery(value, props);\n    var customQueryOptions = void 0;\n\n    if (customQuery) {\n      var _ref3 = customQuery(value, props) || {};\n\n      query = _ref3.query;\n      customQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    var showFilter = props.showFilter,\n        _props$range = props.range,\n        start = _props$range.start,\n        end = _props$range.end;\n    var currentStart = value[0],\n        currentEnd = value[1]; // check if the slider is at its initial position\n\n    var isInitialValue = currentStart === start && currentEnd === end;\n    props.setQueryOptions(props.componentId, customQueryOptions);\n    props.updateQuery({\n      componentId: props.componentId,\n      query: query,\n      value: value,\n      label: props.filterLabel,\n      showFilter: showFilter && !isInitialValue,\n      URLParams: props.URLParams,\n      componentType: _constants.componentTypes.rangeSlider\n    });\n  };\n\n  this.updateQueryOptions = function (props) {\n    if (props.showHistogram) {\n      var customQuery = props.customQuery;\n      var queryOptions = {\n        size: 0,\n        aggs: (props.histogramQuery || _this4.histogramQuery)(props)\n      };\n      var value = [props.range.start, props.range.end];\n      var query = customQuery || RangeSlider.defaultQuery;\n      var customQueryOptions = customQuery ? (0, _helper.getOptionsFromQuery)(customQuery(value, props)) : null;\n      props.setQueryOptions(_this4.internalComponent, _extends({}, queryOptions, customQueryOptions), false);\n      props.updateQuery({\n        componentId: _this4.internalComponent,\n        query: query(value, props),\n        value: value\n      });\n    }\n  };\n};\n\nRangeSlider.propTypes = {\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  options: _types2.default.options,\n  selectedValue: _types2.default.selectedValue,\n  setCustomQuery: _types2.default.funcRequired,\n  // component props\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  componentId: _types2.default.stringRequired,\n  customQuery: _types2.default.func,\n  dataField: _types2.default.stringRequired,\n  defaultValue: _types2.default.range,\n  value: _types2.default.range,\n  filterLabel: _types2.default.string,\n  innerClass: _types2.default.style,\n  interval: _types2.default.number,\n  nestedField: _types2.default.string,\n  onDrag: _types2.default.func,\n  onQueryChange: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  range: _types2.default.range,\n  rangeLabels: _types2.default.rangeLabels,\n  react: _types2.default.react,\n  showHistogram: _types2.default.bool,\n  histogramQuery: _types2.default.func,\n  showFilter: _types2.default.bool,\n  showSlider: _types2.default.bool,\n  tooltipTrigger: _types2.default.tooltipTrigger,\n  renderTooltipData: _types2.default.func,\n  snap: _types2.default.bool,\n  stepValue: _types2.default.number,\n  style: _types2.default.style,\n  title: _types2.default.title,\n  URLParams: _types2.default.bool,\n  includeNullValues: _types2.default.bool\n};\nRangeSlider.defaultProps = {\n  className: null,\n  range: {\n    start: 0,\n    end: 10\n  },\n  showHistogram: true,\n  showSlider: true,\n  tooltipTrigger: 'none',\n  snap: true,\n  stepValue: 1,\n  showFilter: true,\n  style: {},\n  URLParams: false,\n  includeNullValues: false\n}; // Add componentType for SSR\n\nRangeSlider.componentType = _constants.componentTypes.rangeSlider;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var aggregation = props.nestedField && state.aggregations[props.componentId] ? state.aggregations[props.componentId].inner : state.aggregations[props.componentId];\n  return {\n    options: aggregation ? aggregation[props.dataField] && aggregation[props.dataField].buckets : [],\n    selectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return (0, _core.jsx)(_ComponentWrapper2.default, _extends({}, props, {\n    internalComponent: true,\n    componentType: _constants.componentTypes.rangeSlider\n  }), function () {\n    return (0, _core.jsx)(RangeSlider, _extends({\n      ref: props.myForwardedRef\n    }, props));\n  });\n}); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return (0, _core.jsx)(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, RangeSlider);\nForwardRefComponent.name = 'RangeSlider';\nexports.default = ForwardRefComponent;","map":{"version":3,"sources":["/Users/rogetgeoffroy/Desktop/Folders/react_js_folder/react-live-search-app/live-search/node_modules/@appbaseio/reactivesearch/lib/components/range/RangeSlider.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_core","require","_react","_react2","_interopRequireDefault","_actions","_hoistNonReactStatics","_hoistNonReactStatics2","_helper","_types","_types2","_Slider","_Slider2","_constants","_transform","_HistogramContainer","_HistogramContainer2","_RangeLabel","_RangeLabel2","_SliderHandle","_SliderHandle2","_Slider3","_Slider4","_Title","_Title2","_Label","_utils","_ComponentWrapper","_ComponentWrapper2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","RangeSlider","_Component","props","_this","_initialiseProps","selectedValue","defaultValue","valueToParse","currentValue","parseValue","state","stats","internalComponent","getInternalComponentID","componentId","updateCustomQuery","updateQueryOptions","hasMounted","handleChange","componentDidUpdate","prevProps","_this2","checkSomePropChange","checkPropChange","options","Array","isArray","sort","a","b","setState","isEqual","_props","_value","onChange","undefined","shouldComponentUpdate","nextProps","upperLimit","Math","floor","range","end","start","stepValue","console","warn","render","_this3","jsx","primary","style","className","title","getClassName","innerClass","showHistogram","showSlider","interval","getValidInterval","min","max","values","handleSlider","onValuesUpdated","handleDrag","snap","snapPoints","getSnapPoints","handle","_ref","passProps","renderTooltipData","tooltipTrigger","rangeLabels","css","rangeLabelsContainer","align","Component","defaultQuery","query","getRangeQueryWithNullValues","nestedField","nested","path","_this4","concat","ceil","error","histogramQuery","_query","dataField","histogram","field","offset","inner","aggs","performUpdate","handleUpdates","updateQuery","onValueChange","checkValueChange","beforeValueChange","_ref2","_props2","forceUpdate","onDrag","customQuery","customQueryOptions","_ref3","getOptionsFromQuery","showFilter","_props$range","currentStart","currentEnd","isInitialValue","setQueryOptions","label","filterLabel","URLParams","componentType","componentTypes","rangeSlider","queryOptions","size","propTypes","funcRequired","setCustomQuery","func","string","stringRequired","number","onQueryChange","react","bool","includeNullValues","defaultProps","mapStateToProps","aggregation","aggregations","buckets","selectedValues","mapDispatchtoProps","dispatch","component","execute","updateQueryObject","ConnectedComponent","connect","ref","myForwardedRef","ForwardRefComponent","forwardRef","name"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /** @jsx jsx */\n\n\nvar RangeSlider = function (_Component) {\n\t_inherits(RangeSlider, _Component);\n\n\tfunction RangeSlider(props) {\n\t\t_classCallCheck(this, RangeSlider);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar selectedValue = props.selectedValue,\n\t\t    defaultValue = props.defaultValue,\n\t\t    value = props.value;\n\n\t\tvar valueToParse = selectedValue || value || defaultValue;\n\t\tvar currentValue = RangeSlider.parseValue(valueToParse, props);\n\t\t_this.state = {\n\t\t\tcurrentValue: currentValue,\n\t\t\tstats: []\n\t\t};\n\n\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t// Set custom query in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\n\t\t_this.updateQueryOptions(props);\n\t\tvar hasMounted = false;\n\n\t\tif (currentValue) {\n\t\t\t_this.handleChange(currentValue, props, hasMounted);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tRangeSlider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['showHistogram', 'interval'], function () {\n\t\t\treturn _this2.updateQueryOptions(_this2.props);\n\t\t});\n\t\t(0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {\n\t\t\tvar options = _this2.props.options;\n\n\t\t\tif (Array.isArray(options)) {\n\t\t\t\toptions.sort(function (a, b) {\n\t\t\t\t\tif (a.key < b.key) return -1;\n\t\t\t\t\tif (a.key > b.key) return 1;\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t}\n\t\t\t_this2.setState({\n\t\t\t\tstats: options || []\n\t\t\t});\n\t\t});\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n\t\t\t_this2.updateQueryOptions(_this2.props);\n\t\t\t_this2.handleChange(_this2.state.currentValue, _this2.props);\n\t\t});\n\n\t\tif (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n\t\t\tvar value = RangeSlider.parseValue(this.props.value, this.props);\n\t\t\tthis.handleChange(value, this.props);\n\t\t} else if (!(0, _helper.isEqual)(this.state.currentValue, this.props.selectedValue) && !(0, _helper.isEqual)(this.props.selectedValue, prevProps.selectedValue)) {\n\t\t\tvar _props = this.props,\n\t\t\t    _value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\n\n\t\t\tif (_value === undefined) {\n\t\t\t\tvar selectedValue = RangeSlider.parseValue(this.props.selectedValue, this.props);\n\t\t\t\tthis.handleChange(selectedValue, this.props);\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange(this.props.selectedValue || null);\n\t\t\t} else {\n\t\t\t\tthis.handleChange(this.state.currentValue);\n\t\t\t}\n\t\t}\n\t};\n\n\tRangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n\t\tvar upperLimit = Math.floor((nextProps.range.end - nextProps.range.start) / 2);\n\t\tif (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n\t\t\tconsole.warn('stepValue for RangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tRangeSlider.prototype.render = function render() {\n\t\tvar _this3 = this;\n\n\t\treturn (0, _core.jsx)(\n\t\t\t_Slider4.default,\n\t\t\t{ primary: true, style: this.props.style, className: this.props.className },\n\t\t\tthis.props.title && (0, _core.jsx)(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tthis.state.stats.length && this.props.showHistogram && this.props.showSlider ? (0, _core.jsx)(_HistogramContainer2.default, {\n\t\t\t\tstats: this.state.stats,\n\t\t\t\trange: this.props.range,\n\t\t\t\tinterval: this.getValidInterval(this.props)\n\t\t\t}) : null,\n\t\t\tthis.props.showSlider && (0, _core.jsx)(_Slider2.default, {\n\t\t\t\tmin: this.props.range.start,\n\t\t\t\tmax: this.props.range.end,\n\t\t\t\tvalues: this.state.currentValue,\n\t\t\t\tonChange: this.handleSlider,\n\t\t\t\tonValuesUpdated: this.handleDrag,\n\t\t\t\tsnap: this.props.snap,\n\t\t\t\tsnapPoints: this.props.snap ? this.getSnapPoints() : null,\n\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n\t\t\t\thandle: function handle(_ref) {\n\t\t\t\t\tvar className = _ref.className,\n\t\t\t\t\t    style = _ref.style,\n\t\t\t\t\t    passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n\t\t\t\t\treturn (0, _core.jsx)(_SliderHandle2.default, _extends({\n\t\t\t\t\t\tstyle: style,\n\t\t\t\t\t\tclassName: className\n\t\t\t\t\t}, passProps, {\n\t\t\t\t\t\trenderTooltipData: _this3.props.renderTooltipData,\n\t\t\t\t\t\ttooltipTrigger: _this3.props.tooltipTrigger\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}),\n\t\t\tthis.props.rangeLabels && this.props.showSlider && (0, _core.jsx)(\n\t\t\t\t'div',\n\t\t\t\t{ css: _Label.rangeLabelsContainer },\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.rangeLabels.start\n\t\t\t\t),\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.rangeLabels.end\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn RangeSlider;\n}(_react.Component);\n\nRangeSlider.parseValue = function (value, props) {\n\tif (Array.isArray(value)) return value;\n\treturn value ? [value.start, value.end] : [props.range.start, props.range.end];\n};\n\nRangeSlider.defaultQuery = function (value, props) {\n\tvar query = null;\n\tif (Array.isArray(value) && value.length) {\n\t\tquery = (0, _utils.getRangeQueryWithNullValues)(value, props);\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this4 = this;\n\n\tthis.getSnapPoints = function () {\n\t\tvar snapPoints = [];\n\t\tvar stepValue = _this4.props.stepValue;\n\n\t\t// limit the number of steps to prevent generating a large number of snapPoints\n\n\t\tif ((_this4.props.range.end - _this4.props.range.start) / stepValue > 100) {\n\t\t\tstepValue = (_this4.props.range.end - _this4.props.range.start) / 100;\n\t\t}\n\n\t\tfor (var i = _this4.props.range.start; i <= _this4.props.range.end; i += stepValue) {\n\t\t\tsnapPoints = snapPoints.concat(i);\n\t\t}\n\t\tif (snapPoints[snapPoints.length - 1] !== _this4.props.range.end) {\n\t\t\tsnapPoints = snapPoints.concat(_this4.props.range.end);\n\t\t}\n\t\treturn snapPoints;\n\t};\n\n\tthis.getValidInterval = function (props) {\n\t\tvar min = Math.ceil((props.range.end - props.range.start) / 100) || 1;\n\t\tif (!props.interval) {\n\t\t\treturn min;\n\t\t} else if (props.interval < min) {\n\t\t\tconsole.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n\t\t\treturn min;\n\t\t}\n\t\treturn props.interval;\n\t};\n\n\tthis.histogramQuery = function (props) {\n\t\tvar _query;\n\n\t\tvar query = (_query = {}, _query[props.dataField] = {\n\t\t\thistogram: {\n\t\t\t\tfield: props.dataField,\n\t\t\t\tinterval: _this4.getValidInterval(props),\n\t\t\t\toffset: props.range.start\n\t\t\t}\n\t\t}, _query);\n\t\tif (props.nestedField) {\n\t\t\treturn {\n\t\t\t\tinner: {\n\t\t\t\t\taggs: query,\n\t\t\t\t\tnested: {\n\t\t\t\t\t\tpath: props.nestedField\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn query;\n\t};\n\n\tthis.handleChange = function (currentValue) {\n\t\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this4.props;\n\t\tvar hasMounted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tvar handleUpdates = function handleUpdates() {\n\t\t\t\tvar start = currentValue[0],\n\t\t\t\t    end = currentValue[1];\n\n\t\t\t\t_this4.updateQuery([start, end], props);\n\t\t\t\tif (props.onValueChange) {\n\t\t\t\t\tprops.onValueChange({\n\t\t\t\t\t\tstart: start,\n\t\t\t\t\t\tend: end\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar start = currentValue[0],\n\t\t\t    end = currentValue[1];\n\t\t\tvar range = props.range;\n\n\t\t\tif (hasMounted && start <= end && start >= range.start && end <= range.end) {\n\t\t\t\t_this4.setState({\n\t\t\t\t\tcurrentValue: currentValue\n\t\t\t\t}, handleUpdates);\n\t\t\t} else {\n\t\t\t\thandleUpdates();\n\t\t\t}\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, {\n\t\t\tstart: currentValue[0],\n\t\t\tend: currentValue[1]\n\t\t}, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.handleSlider = function (_ref2) {\n\t\tvar values = _ref2.values;\n\n\t\tif (!(0, _helper.isEqual)(values, _this4.state.currentValue)) {\n\t\t\tvar _props2 = _this4.props,\n\t\t\t    value = _props2.value,\n\t\t\t    onChange = _props2.onChange;\n\n\n\t\t\tif (value === undefined) {\n\t\t\t\t_this4.handleChange(values);\n\t\t\t} else if (onChange) {\n\t\t\t\t// force re-rendering to avail the currentValue\n\t\t\t\t// in rheostat component since it doesn't respect\n\t\t\t\t// the controlled behavior properly\n\t\t\t\t_this4.forceUpdate();\n\t\t\t\tonChange(values);\n\t\t\t} else {\n\t\t\t\t// since value prop is set & onChange is not defined\n\t\t\t\t// we need to reset the slider position\n\t\t\t\t// to the original 'value' prop\n\t\t\t\t_this4.setState({\n\t\t\t\t\tcurrentValue: _this4.state.currentValue\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.handleDrag = function (values) {\n\t\tif (_this4.props.onDrag) {\n\t\t\tvar min = values.min,\n\t\t\t    max = values.max,\n\t\t\t    currentValue = values.values;\n\n\t\t\t_this4.props.onDrag(currentValue, [min, max]);\n\t\t}\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar customQuery = props.customQuery;\n\n\t\tvar query = RangeSlider.defaultQuery(value, props);\n\t\tvar customQueryOptions = void 0;\n\t\tif (customQuery) {\n\t\t\tvar _ref3 = customQuery(value, props) || {};\n\n\t\t\tquery = _ref3.query;\n\n\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\t\tvar showFilter = props.showFilter,\n\t\t    _props$range = props.range,\n\t\t    start = _props$range.start,\n\t\t    end = _props$range.end;\n\t\tvar currentStart = value[0],\n\t\t    currentEnd = value[1];\n\t\t// check if the slider is at its initial position\n\n\t\tvar isInitialValue = currentStart === start && currentEnd === end;\n\t\tprops.setQueryOptions(props.componentId, customQueryOptions);\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: showFilter && !isInitialValue,\n\t\t\tURLParams: props.URLParams,\n\t\t\tcomponentType: _constants.componentTypes.rangeSlider\n\t\t});\n\t};\n\n\tthis.updateQueryOptions = function (props) {\n\t\tif (props.showHistogram) {\n\t\t\tvar customQuery = props.customQuery;\n\n\t\t\tvar queryOptions = {\n\t\t\t\tsize: 0,\n\t\t\t\taggs: (props.histogramQuery || _this4.histogramQuery)(props)\n\t\t\t};\n\t\t\tvar value = [props.range.start, props.range.end];\n\t\t\tvar query = customQuery || RangeSlider.defaultQuery;\n\n\t\t\tvar customQueryOptions = customQuery ? (0, _helper.getOptionsFromQuery)(customQuery(value, props)) : null;\n\t\t\tprops.setQueryOptions(_this4.internalComponent, _extends({}, queryOptions, customQueryOptions), false);\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: _this4.internalComponent,\n\t\t\t\tquery: query(value, props),\n\t\t\t\tvalue: value\n\t\t\t});\n\t\t}\n\t};\n};\n\nRangeSlider.propTypes = {\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\toptions: _types2.default.options,\n\tselectedValue: _types2.default.selectedValue,\n\tsetCustomQuery: _types2.default.funcRequired,\n\t// component props\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tcomponentId: _types2.default.stringRequired,\n\tcustomQuery: _types2.default.func,\n\tdataField: _types2.default.stringRequired,\n\tdefaultValue: _types2.default.range,\n\tvalue: _types2.default.range,\n\tfilterLabel: _types2.default.string,\n\tinnerClass: _types2.default.style,\n\tinterval: _types2.default.number,\n\tnestedField: _types2.default.string,\n\tonDrag: _types2.default.func,\n\tonQueryChange: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\trange: _types2.default.range,\n\trangeLabels: _types2.default.rangeLabels,\n\treact: _types2.default.react,\n\tshowHistogram: _types2.default.bool,\n\thistogramQuery: _types2.default.func,\n\tshowFilter: _types2.default.bool,\n\tshowSlider: _types2.default.bool,\n\ttooltipTrigger: _types2.default.tooltipTrigger,\n\trenderTooltipData: _types2.default.func,\n\tsnap: _types2.default.bool,\n\tstepValue: _types2.default.number,\n\tstyle: _types2.default.style,\n\ttitle: _types2.default.title,\n\tURLParams: _types2.default.bool,\n\tincludeNullValues: _types2.default.bool\n};\n\nRangeSlider.defaultProps = {\n\tclassName: null,\n\trange: {\n\t\tstart: 0,\n\t\tend: 10\n\t},\n\tshowHistogram: true,\n\tshowSlider: true,\n\ttooltipTrigger: 'none',\n\tsnap: true,\n\tstepValue: 1,\n\tshowFilter: true,\n\tstyle: {},\n\tURLParams: false,\n\tincludeNullValues: false\n};\n\n// Add componentType for SSR\nRangeSlider.componentType = _constants.componentTypes.rangeSlider;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\tvar aggregation = props.nestedField && state.aggregations[props.componentId] ? state.aggregations[props.componentId].inner : state.aggregations[props.componentId];\n\n\treturn {\n\t\toptions: aggregation ? aggregation[props.dataField] && aggregation[props.dataField].buckets : [],\n\t\tselectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn (0, _core.jsx)(\n\t\t_ComponentWrapper2.default,\n\t\t_extends({}, props, { internalComponent: true, componentType: _constants.componentTypes.rangeSlider }),\n\t\tfunction () {\n\t\t\treturn (0, _core.jsx)(RangeSlider, _extends({ ref: props.myForwardedRef }, props));\n\t\t}\n\t);\n});\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn (0, _core.jsx)(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, RangeSlider);\n\nForwardRefComponent.name = 'RangeSlider';\nexports.default = ForwardRefComponent;"]},"metadata":{},"sourceType":"script"}