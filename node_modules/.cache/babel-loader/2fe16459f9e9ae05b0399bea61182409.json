{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _xdate = require('xdate');\n\nvar _xdate2 = _interopRequireDefault(_xdate);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _DayPickerInput = require('react-day-picker/DayPickerInput');\n\nvar _DayPickerInput2 = _interopRequireDefault(_DayPickerInput);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _DateContainer = require('../../styles/DateContainer');\n\nvar _DateContainer2 = _interopRequireDefault(_DateContainer);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Flex = require('../../styles/Flex');\n\nvar _Flex2 = _interopRequireDefault(_Flex);\n\nvar _utils = require('../../utils');\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DateRange = function (_Component) {\n  _inherits(DateRange, _Component);\n\n  function DateRange(props) {\n    _classCallCheck(this, DateRange);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var currentDate = props.defaultValue || props.value || null;\n\n    if (props.selectedValue) {\n      if (Array.isArray(props.selectedValue)) {\n        currentDate = {\n          start: new _xdate2.default(props.selectedValue[0])[0],\n          end: new _xdate2.default(props.selectedValue[1])[0]\n        };\n      } else {\n        var _props$selectedValue = props.selectedValue,\n            start = _props$selectedValue.start,\n            end = _props$selectedValue.end;\n        currentDate = {\n          start: new _xdate2.default(start)[0],\n          end: new _xdate2.default(end)[0]\n        };\n      }\n    }\n\n    _this.state = {\n      currentDate: currentDate,\n      dateHovered: null,\n      startKey: 'on-start',\n      endKey: 'on-end'\n    };\n    var hasMounted = false; // Set custom query in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentDate);\n\n    if (currentDate) {\n      _this.handleDateChange(currentDate, false, props, hasMounted);\n    }\n\n    return _this;\n  }\n\n  DateRange.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n      this.handleDateChange(this.props.value, false, this.props);\n    } else {\n      var currentDate = this.state.currentDate;\n      var _props = this.props,\n          selectedValue = _props.selectedValue,\n          value = _props.value,\n          onChange = _props.onChange; // comparing array format of selectedValue with object form of the state if not null\n\n      if (!(0, _helper.isEqual)(currentDate ? [this.formatInputDate(currentDate.start), this.formatInputDate(currentDate.end)] // prettier-ignore\n      : null, selectedValue) && !(0, _helper.isEqual)(prevProps.selectedValue, selectedValue)) {\n        var modDate = selectedValue ? {\n          start: this.props.selectedValue[0] || '',\n          end: this.props.selectedValue[1] || '' // prettier-ignore\n\n        } : {\n          start: '',\n          end: ''\n        };\n\n        if ((value === undefined || value && value.start === '' && value.end === '') && !onChange) {\n          this.handleDateChange(modDate, true, this.props);\n        } else if (onChange) {\n          onChange(modDate);\n        }\n      }\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n      return _this2.updateQuery(_this2.state.currentDate ? {\n        // we need the date in correct queryFormat\n        start: (0, _helper.formatDate)(_this2.state.currentDate.start, _this2.props),\n        end: (0, _helper.formatDate)(_this2.state.currentDate.end, _this2.props) // prettier-ignore\n\n      } : _this2.state.currentDate, _this2.props);\n    });\n  };\n\n  DateRange.prototype.render = function render() {\n    var _state = this.state,\n        currentDate = _state.currentDate,\n        dateHovered = _state.dateHovered;\n    var start = currentDate ? currentDate.start : '';\n    var end = currentDate ? currentDate.end : '';\n    var endDay = currentDate ? dateHovered : '';\n    var selectedDays = [start, {\n      from: start,\n      to: endDay\n    }];\n    var modifiers = {\n      start: start,\n      end: endDay\n    };\n    return _react2.default.createElement(_DateContainer2.default, {\n      range: true,\n      style: this.props.style,\n      className: this.props.className,\n      showBorder: !this.props.showClear\n    }, this.props.title && _react2.default.createElement(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), _react2.default.createElement(_Flex2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'input-container') || null\n    }, _react2.default.createElement(_Flex2.default, {\n      flex: 2,\n      showBorder: this.props.showClear,\n      iconPosition: 'right',\n      style: {\n        background: this.props.theme.colors.backgroundColor || 'transparent'\n      }\n    }, _react2.default.createElement(_DayPickerInput2.default, _extends({\n      ref: this.getStartDateRef,\n      showOverlay: this.props.focused,\n      formatDate: this.formatInputDate,\n      value: start,\n      key: this.state.startKey,\n      placeholder: this.props.placeholder.start,\n      dayPickerProps: {\n        numberOfMonths: this.props.numberOfMonths,\n        initialMonth: this.props.initialMonth,\n        disabledDays: {\n          after: this.state.currentDate ? this.state.currentDate.end : ''\n        },\n        selectedDays: selectedDays,\n        modifiers: modifiers\n      },\n      inputProps: {\n        'aria-label': this.props.componentId + '-start-input'\n      },\n      onDayChange: this.handleStartDate,\n      classNames: {\n        container: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n        overlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n        overlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n      }\n    }, this.props.dayPickerInputProps)), this.props.showClear && this.state.currentDate && this.state.currentDate.start && _react2.default.createElement(_CancelSvg2.default, {\n      onClick: this.clearDayPickerStart\n    })), _react2.default.createElement(_Flex2.default, {\n      justifyContent: 'center',\n      alignItems: 'center',\n      basis: '20px'\n    }, '-'), _react2.default.createElement(_Flex2.default, {\n      flex: 2,\n      showBorder: this.props.showClear,\n      iconPosition: 'right',\n      style: {\n        background: this.props.theme.colors.backgroundColor || 'transparent'\n      }\n    }, _react2.default.createElement(_DayPickerInput2.default, _extends({\n      ref: this.getEndDateRef,\n      showOverlay: this.props.focused,\n      formatDate: this.formatInputDate,\n      value: end,\n      key: this.state.endKey,\n      placeholder: this.props.placeholder.end,\n      dayPickerProps: {\n        numberOfMonths: this.props.numberOfMonths,\n        initialMonth: this.props.initialMonth,\n        onDayMouseEnter: this.handleDayMouseEnter,\n        disabledDays: {\n          before: this.state.currentDate ? this.state.currentDate.start : ''\n        },\n        selectedDays: selectedDays,\n        modifiers: modifiers\n      },\n      inputProps: {\n        'aria-label': this.props.componentId + '-end-input'\n      },\n      onDayChange: this.handleEndDate,\n      classNames: {\n        container: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n        overlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n        overlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n      }\n    }, this.props.dayPickerInputProps)), this.props.showClear && this.state.currentDate && this.state.currentDate.end && _react2.default.createElement(_CancelSvg2.default, {\n      onClick: this.clearDayPickerEnd\n    }))));\n  };\n\n  return DateRange;\n}(_react.Component);\n\nDateRange.defaultQuery = function (value, props) {\n  var query = null;\n\n  if (value) {\n    if (Array.isArray(props.dataField) && props.dataField.length === 2) {\n      var _range, _range2;\n\n      query = {\n        bool: {\n          must: [{\n            range: (_range = {}, _range[props.dataField[0]] = {\n              lte: (0, _helper.formatDate)(new _xdate2.default(value.start), props)\n            }, _range)\n          }, {\n            range: (_range2 = {}, _range2[props.dataField[1]] = {\n              gte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n            }, _range2)\n          }]\n        }\n      };\n    } else if (Array.isArray(props.dataField)) {\n      var _range3;\n\n      query = {\n        range: (_range3 = {}, _range3[props.dataField[0]] = {\n          gte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n          lte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n        }, _range3)\n      };\n    } else {\n      var _range4;\n\n      query = {\n        range: (_range4 = {}, _range4[props.dataField] = {\n          gte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n          lte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n        }, _range4)\n      };\n    }\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.formatInputDate = function (date) {\n    var xdate = new _xdate2.default(date);\n    return xdate.valid() ? xdate.toString('yyyy-MM-dd') : '';\n  };\n\n  this.getEndDateRef = function (ref) {\n    _this3.endDateRef = ref;\n  };\n\n  this.getStartDateRef = function (ref) {\n    _this3.startDateRef = ref;\n  };\n\n  this.clearDayPickerStart = function () {\n    if (_this3.state.currentDate && _this3.state.currentDate.start !== '') {\n      var _props2 = _this3.props,\n          value = _props2.value,\n          onChange = _props2.onChange;\n\n      if (value === undefined && !onChange) {\n        _this3.handleStartDate('', false); // resets the day picker component\n\n      } else if (onChange) {\n        onChange({\n          start: '',\n          end: _this3.state.currentDate.end\n        });\n      } else {\n        // Since value prop is defined and onChange is not define\n        // we keep the same date as in store\n        _this3.setState({\n          currentDate: _this3.state.currentDate\n        });\n      }\n    }\n  };\n\n  this.clearDayPickerEnd = function () {\n    if (_this3.state.currentDate && _this3.state.currentDate.end !== '') {\n      _this3.handleEndDate(''); // resets the day picker component\n\n\n      var _props3 = _this3.props,\n          value = _props3.value,\n          onChange = _props3.onChange;\n\n      if (value === undefined && !onChange) {\n        _this3.handleEndDate('', false); // resets the day picker component\n\n      } else if (onChange) {\n        onChange({\n          start: _this3.state.currentDate.start,\n          end: ''\n        });\n      } else {\n        // Since value prop is defined and onChange is not define\n        // we keep the same date as in store\n        _this3.setState({\n          currentDate: _this3.state.currentDate\n        });\n      }\n    }\n  };\n\n  this.handleStartDate = function (date) {\n    var autoFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var currentDate = _this3.state.currentDate;\n    var end = currentDate ? currentDate.end : '';\n    var _props4 = _this3.props,\n        value = _props4.value,\n        onChange = _props4.onChange;\n\n    if ((value === undefined || value && value.start === '') && !onChange) {\n      if (_this3.startDateRef.getInput().value.length === 10) {\n        _this3.handleDateChange({\n          start: date,\n          end: end\n        });\n\n        _this3.setState(function (state) {\n          return {\n            startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n          };\n        }); // focus the end date DayPicker if its empty\n\n\n        if (_this3.props.autoFocusEnd && autoFocus) {\n          _this3.endDateRef.getInput().focus();\n        }\n      }\n    } else if (onChange) {\n      if (_this3.startDateRef.getInput().value.length === 10) {\n        onChange({\n          start: date,\n          end: end\n        }); // focus the end date DayPicker if its empty\n\n        if (_this3.props.autoFocusEnd && autoFocus) {\n          _this3.endDateRef.getInput().focus();\n        } // this will trigger a remount on the date component\n        // since DayPickerInput doesn't respect the controlled behavior setting on its own\n\n\n        _this3.setState(function (state) {\n          return {\n            startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n          };\n        });\n      }\n    } else {\n      // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n      _this3.setState(function (state) {\n        return {\n          startKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n        };\n      });\n    }\n  };\n\n  this.handleEndDate = function (selectedDay) {\n    var currentDate = _this3.state.currentDate;\n    var _props5 = _this3.props,\n        value = _props5.value,\n        onChange = _props5.onChange;\n    var start = currentDate ? currentDate.start : '';\n\n    if ((value === undefined || value && value.end === '') && !onChange) {\n      if (_this3.endDateRef.getInput().value.length === 10) {\n        _this3.handleDayMouseEnter(selectedDay);\n\n        _this3.handleDateChange({\n          start: currentDate ? currentDate.start : '',\n          end: selectedDay\n        });\n\n        _this3.setState(function (state) {\n          return {\n            endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n          };\n        });\n      }\n    } else if (onChange) {\n      if (_this3.endDateRef.getInput().value.length === 10) {\n        onChange({\n          start: start,\n          end: selectedDay\n        });\n      } // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n\n\n      _this3.setState(function (state) {\n        return {\n          endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n        };\n      });\n    } else {\n      // this will trigger a remount on the date component\n      // since DayPickerInput doesn't respect the controlled behavior setting on its own\n      _this3.setState(function (state) {\n        return {\n          endKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n        };\n      });\n    }\n  };\n\n  this.handleDayMouseEnter = function (day) {\n    _this3.setState({\n      dateHovered: day\n    });\n  };\n\n  this.handleDateChange = function (currentDate) {\n    var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n    var hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var value = null;\n\n    if (currentDate && !(currentDate.start === '' && currentDate.end === '')) {\n      value = isDefaultValue ? currentDate : {\n        start: _this3.formatInputDate(currentDate.start),\n        end: _this3.formatInputDate(currentDate.end)\n      }; // prettier-ignore\n    }\n\n    var performUpdate = function performUpdate() {\n      var handleUpdates = function handleUpdates() {\n        _this3.updateQuery(value, props);\n\n        if (props.onValueChange) props.onValueChange(value);\n      };\n\n      if (hasMounted) {\n        _this3.setState({\n          currentDate: currentDate\n        }, handleUpdates);\n      } else {\n        handleUpdates();\n      }\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n  };\n\n  this.updateQuery = function (value, props) {\n    if (!value || value && value.start.length && value.end.length) {\n      var customQuery = props.customQuery;\n      var query = DateRange.defaultQuery(value, props);\n      var customQueryOptions = void 0;\n\n      if (customQuery) {\n        var customQueryObject = customQuery(value, props);\n        query = customQueryObject && customQueryObject.query;\n        customQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n        (0, _helper.updateCustomQuery)(props.componentId, props, value);\n      }\n\n      props.setQueryOptions(props.componentId, customQueryOptions);\n      props.updateQuery({\n        componentId: props.componentId,\n        query: query,\n        value: value ? [value.start, value.end] : null,\n        showFilter: props.showFilter,\n        label: props.filterLabel,\n        URLParams: props.URLParams,\n        componentType: _constants.componentTypes.dateRange\n      });\n    }\n  };\n};\n\nDateRange.propTypes = {\n  updateQuery: _types2.default.funcRequired,\n  selectedValue: _types2.default.selectedValue,\n  setQueryOptions: _types2.default.funcRequired,\n  setCustomQuery: _types2.default.funcRequired,\n  // component props\n  autoFocusEnd: _types2.default.bool,\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  componentId: _types2.default.stringRequired,\n  dataField: _types2.default.dataFieldArray,\n  dayPickerInputProps: _types2.default.props,\n  defaultValue: _types2.default.dateObject,\n  value: _types2.default.dateObject,\n  filterLabel: _types2.default.string,\n  focused: _types2.default.bool,\n  initialMonth: _types2.default.dateObject,\n  innerClass: _types2.default.style,\n  numberOfMonths: _types2.default.number,\n  onQueryChange: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  placeholder: _types2.default.rangeLabels,\n  nestedField: _types2.default.string,\n  queryFormat: _types2.default.queryFormatDate,\n  parseDate: _types2.default.func,\n  react: _types2.default.react,\n  showClear: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  style: _types2.default.style,\n  theme: _types2.default.style,\n  title: _types2.default.string\n};\nDateRange.defaultProps = {\n  autoFocusEnd: true,\n  numberOfMonths: 2,\n  placeholder: {\n    start: 'Start date',\n    end: 'End date'\n  },\n  showClear: true,\n  showFilter: true,\n  queryFormat: 'epoch_millis'\n}; // Add componentType for SSR\n\nDateRange.componentType = _constants.componentTypes.dateRange;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    selectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    setQueryOptions: function setQueryOptions(component, props) {\n      return dispatch((0, _actions.setQueryOptions)(component, props));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n  return _react2.default.createElement(_ComponentWrapper2.default, _extends({}, props, {\n    componentType: _constants.componentTypes.dateRange\n  }), function () {\n    return _react2.default.createElement(DateRange, _extends({\n      ref: props.myForwardedRef\n    }, props));\n  });\n})); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DateRange);\nForwardRefComponent.name = 'DateRange';\nexports.default = ForwardRefComponent;","map":{"version":3,"sources":["/Users/rogetgeoffroy/Desktop/Folders/react_js_folder/react-live-search-app/live-search/node_modules/@appbaseio/reactivesearch/lib/components/date/DateRange.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_actions","_hoistNonReactStatics","_hoistNonReactStatics2","_helper","_types","_types2","_xdate","_xdate2","_constants","_DayPickerInput","_DayPickerInput2","_emotionTheming","_DateContainer","_DateContainer2","_Title","_Title2","_Flex","_Flex2","_utils","_CancelSvg","_CancelSvg2","_ComponentWrapper","_ComponentWrapper2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","DateRange","_Component","props","_this","_initialiseProps","currentDate","defaultValue","selectedValue","Array","isArray","start","end","_props$selectedValue","state","dateHovered","startKey","endKey","hasMounted","updateCustomQuery","componentId","handleDateChange","componentDidUpdate","prevProps","_this2","isEqual","_props","onChange","formatInputDate","modDate","undefined","checkSomePropChange","updateQuery","formatDate","render","_state","endDay","selectedDays","from","to","modifiers","createElement","range","style","className","showBorder","showClear","title","getClassName","innerClass","flex","iconPosition","background","theme","colors","backgroundColor","ref","getStartDateRef","showOverlay","focused","placeholder","dayPickerProps","numberOfMonths","initialMonth","disabledDays","after","inputProps","onDayChange","handleStartDate","classNames","container","overlayWrapper","overlay","dayPickerInputProps","onClick","clearDayPickerStart","justifyContent","alignItems","basis","getEndDateRef","onDayMouseEnter","handleDayMouseEnter","before","handleEndDate","clearDayPickerEnd","Component","defaultQuery","query","dataField","_range","_range2","bool","must","lte","gte","_range3","_range4","nestedField","nested","path","_this3","date","xdate","valid","toString","endDateRef","startDateRef","_props2","setState","_props3","autoFocus","_props4","getInput","autoFocusEnd","focus","selectedDay","_props5","day","isDefaultValue","performUpdate","handleUpdates","onValueChange","checkValueChange","beforeValueChange","customQuery","customQueryOptions","customQueryObject","getOptionsFromQuery","setQueryOptions","showFilter","label","filterLabel","URLParams","componentType","componentTypes","dateRange","propTypes","funcRequired","setCustomQuery","func","string","stringRequired","dataFieldArray","dateObject","number","onQueryChange","rangeLabels","queryFormat","queryFormatDate","parseDate","react","defaultProps","mapStateToProps","selectedValues","mapDispatchtoProps","dispatch","component","updateQueryObject","ConnectedComponent","connect","withTheme","myForwardedRef","ForwardRefComponent","forwardRef","name"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,QAAQ,GAAGH,OAAO,CAAC,qCAAD,CAAtB;;AAEA,IAAII,qBAAqB,GAAGJ,OAAO,CAAC,yBAAD,CAAnC;;AAEA,IAAIK,sBAAsB,GAAGH,sBAAsB,CAACE,qBAAD,CAAnD;;AAEA,IAAIE,OAAO,GAAGN,OAAO,CAAC,0CAAD,CAArB;;AAEA,IAAIO,MAAM,GAAGP,OAAO,CAAC,yCAAD,CAApB;;AAEA,IAAIQ,OAAO,GAAGN,sBAAsB,CAACK,MAAD,CAApC;;AAEA,IAAIE,MAAM,GAAGT,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIU,OAAO,GAAGR,sBAAsB,CAACO,MAAD,CAApC;;AAEA,IAAIE,UAAU,GAAGX,OAAO,CAAC,6CAAD,CAAxB;;AAEA,IAAIY,eAAe,GAAGZ,OAAO,CAAC,iCAAD,CAA7B;;AAEA,IAAIa,gBAAgB,GAAGX,sBAAsB,CAACU,eAAD,CAA7C;;AAEA,IAAIE,eAAe,GAAGd,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAIe,cAAc,GAAGf,OAAO,CAAC,4BAAD,CAA5B;;AAEA,IAAIgB,eAAe,GAAGd,sBAAsB,CAACa,cAAD,CAA5C;;AAEA,IAAIE,MAAM,GAAGjB,OAAO,CAAC,oBAAD,CAApB;;AAEA,IAAIkB,OAAO,GAAGhB,sBAAsB,CAACe,MAAD,CAApC;;AAEA,IAAIE,KAAK,GAAGnB,OAAO,CAAC,mBAAD,CAAnB;;AAEA,IAAIoB,MAAM,GAAGlB,sBAAsB,CAACiB,KAAD,CAAnC;;AAEA,IAAIE,MAAM,GAAGrB,OAAO,CAAC,aAAD,CAApB;;AAEA,IAAIsB,UAAU,GAAGtB,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIuB,WAAW,GAAGrB,sBAAsB,CAACoB,UAAD,CAAxC;;AAEA,IAAIE,iBAAiB,GAAGxB,OAAO,CAAC,2BAAD,CAA/B;;AAEA,IAAIyB,kBAAkB,GAAGvB,sBAAsB,CAACsB,iBAAD,CAA/C;;AAEA,SAAStB,sBAAT,CAAgCwB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACxC,UAAX,GAAwBwC,GAAxB,GAA8B;AAAEC,IAAAA,OAAO,EAAED;AAAX,GAArC;AAAwD;;AAE/F,SAASE,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CnC,IAA1C,EAAgD;AAAE,MAAI,CAACmC,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOpC,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EmC,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACxC,SAAT,GAAqBR,MAAM,CAACkD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACzC,SAAvC,EAAkD;AAAE2C,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAEJ,QAAT;AAAmBK,MAAAA,UAAU,EAAE,KAA/B;AAAsCC,MAAAA,QAAQ,EAAE,IAAhD;AAAsDC,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIN,UAAJ,EAAgBjD,MAAM,CAACwD,cAAP,GAAwBxD,MAAM,CAACwD,cAAP,CAAsBR,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACS,SAAT,GAAqBR,UAA3F;AAAwG;;AAE9e,IAAIS,SAAS,GAAG,UAAUC,UAAV,EAAsB;AACrCZ,EAAAA,SAAS,CAACW,SAAD,EAAYC,UAAZ,CAAT;;AAEA,WAASD,SAAT,CAAmBE,KAAnB,EAA0B;AACzBpB,IAAAA,eAAe,CAAC,IAAD,EAAOkB,SAAP,CAAf;;AAEA,QAAIG,KAAK,GAAGjB,0BAA0B,CAAC,IAAD,EAAOe,UAAU,CAACjD,IAAX,CAAgB,IAAhB,EAAsBkD,KAAtB,CAAP,CAAtC;;AAEAE,IAAAA,gBAAgB,CAACpD,IAAjB,CAAsBmD,KAAtB;;AAEA,QAAIE,WAAW,GAAGH,KAAK,CAACI,YAAN,IAAsBJ,KAAK,CAACR,KAA5B,IAAqC,IAAvD;;AACA,QAAIQ,KAAK,CAACK,aAAV,EAAyB;AACxB,UAAIC,KAAK,CAACC,OAAN,CAAcP,KAAK,CAACK,aAApB,CAAJ,EAAwC;AACvCF,QAAAA,WAAW,GAAG;AACbK,UAAAA,KAAK,EAAE,IAAI9C,OAAO,CAACiB,OAAZ,CAAoBqB,KAAK,CAACK,aAAN,CAAoB,CAApB,CAApB,EAA4C,CAA5C,CADM;AAEbI,UAAAA,GAAG,EAAE,IAAI/C,OAAO,CAACiB,OAAZ,CAAoBqB,KAAK,CAACK,aAAN,CAAoB,CAApB,CAApB,EAA4C,CAA5C;AAFQ,SAAd;AAIA,OALD,MAKO;AACN,YAAIK,oBAAoB,GAAGV,KAAK,CAACK,aAAjC;AAAA,YACIG,KAAK,GAAGE,oBAAoB,CAACF,KADjC;AAAA,YAEIC,GAAG,GAAGC,oBAAoB,CAACD,GAF/B;AAIAN,QAAAA,WAAW,GAAG;AACbK,UAAAA,KAAK,EAAE,IAAI9C,OAAO,CAACiB,OAAZ,CAAoB6B,KAApB,EAA2B,CAA3B,CADM;AAEbC,UAAAA,GAAG,EAAE,IAAI/C,OAAO,CAACiB,OAAZ,CAAoB8B,GAApB,EAAyB,CAAzB;AAFQ,SAAd;AAIA;AACD;;AAEDR,IAAAA,KAAK,CAACU,KAAN,GAAc;AACbR,MAAAA,WAAW,EAAEA,WADA;AAEbS,MAAAA,WAAW,EAAE,IAFA;AAGbC,MAAAA,QAAQ,EAAE,UAHG;AAIbC,MAAAA,MAAM,EAAE;AAJK,KAAd;AAMA,QAAIC,UAAU,GAAG,KAAjB,CAhCyB,CAkCzB;;AACA,KAAC,GAAGzD,OAAO,CAAC0D,iBAAZ,EAA+BhB,KAAK,CAACiB,WAArC,EAAkDjB,KAAlD,EAAyDC,KAAK,CAACU,KAAN,CAAYR,WAArE;;AAEA,QAAIA,WAAJ,EAAiB;AAChBF,MAAAA,KAAK,CAACiB,gBAAN,CAAuBf,WAAvB,EAAoC,KAApC,EAA2CH,KAA3C,EAAkDe,UAAlD;AACA;;AACD,WAAOd,KAAP;AACA;;AAEDH,EAAAA,SAAS,CAAClD,SAAV,CAAoBuE,kBAApB,GAAyC,SAASA,kBAAT,CAA4BC,SAA5B,EAAuC;AAC/E,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAI,CAAC,CAAC,GAAG/D,OAAO,CAACgE,OAAZ,EAAqB,KAAKtB,KAAL,CAAWR,KAAhC,EAAuC4B,SAAS,CAAC5B,KAAjD,CAAL,EAA8D;AAC7D,WAAK0B,gBAAL,CAAsB,KAAKlB,KAAL,CAAWR,KAAjC,EAAwC,KAAxC,EAA+C,KAAKQ,KAApD;AACA,KAFD,MAEO;AACN,UAAIG,WAAW,GAAG,KAAKQ,KAAL,CAAWR,WAA7B;AACA,UAAIoB,MAAM,GAAG,KAAKvB,KAAlB;AAAA,UACIK,aAAa,GAAGkB,MAAM,CAAClB,aAD3B;AAAA,UAEIb,KAAK,GAAG+B,MAAM,CAAC/B,KAFnB;AAAA,UAGIgC,QAAQ,GAAGD,MAAM,CAACC,QAHtB,CAFM,CAMN;;AAEA,UAAI,CAAC,CAAC,GAAGlE,OAAO,CAACgE,OAAZ,EAAqBnB,WAAW,GAAG,CAAC,KAAKsB,eAAL,CAAqBtB,WAAW,CAACK,KAAjC,CAAD,EAA0C,KAAKiB,eAAL,CAAqBtB,WAAW,CAACM,GAAjC,CAA1C,CAAH,CAAoF;AAApF,QACnC,IADG,EACGJ,aADH,CAAD,IACsB,CAAC,CAAC,GAAG/C,OAAO,CAACgE,OAAZ,EAAqBF,SAAS,CAACf,aAA/B,EAA8CA,aAA9C,CAD3B,EACyF;AACxF,YAAIqB,OAAO,GAAGrB,aAAa,GAAG;AAC7BG,UAAAA,KAAK,EAAE,KAAKR,KAAL,CAAWK,aAAX,CAAyB,CAAzB,KAA+B,EADT;AAE7BI,UAAAA,GAAG,EAAE,KAAKT,KAAL,CAAWK,aAAX,CAAyB,CAAzB,KAA+B,EAFP,CAEU;;AAFV,SAAH,GAGvB;AAAEG,UAAAA,KAAK,EAAE,EAAT;AAAaC,UAAAA,GAAG,EAAE;AAAlB,SAHJ;;AAIA,YAAI,CAACjB,KAAK,KAAKmC,SAAV,IAAuBnC,KAAK,IAAIA,KAAK,CAACgB,KAAN,KAAgB,EAAzB,IAA+BhB,KAAK,CAACiB,GAAN,KAAc,EAArE,KAA4E,CAACe,QAAjF,EAA2F;AAC1F,eAAKN,gBAAL,CAAsBQ,OAAtB,EAA+B,IAA/B,EAAqC,KAAK1B,KAA1C;AACA,SAFD,MAEO,IAAIwB,QAAJ,EAAc;AACpBA,UAAAA,QAAQ,CAACE,OAAD,CAAR;AACA;AACD;AACD;;AAED,KAAC,GAAGpE,OAAO,CAACsE,mBAAZ,EAAiC,KAAK5B,KAAtC,EAA6CoB,SAA7C,EAAwD,CAAC,WAAD,EAAc,aAAd,CAAxD,EAAsF,YAAY;AACjG,aAAOC,MAAM,CAACQ,WAAP,CAAmBR,MAAM,CAACV,KAAP,CAAaR,WAAb,GAA2B;AACpD;AACAK,QAAAA,KAAK,EAAE,CAAC,GAAGlD,OAAO,CAACwE,UAAZ,EAAwBT,MAAM,CAACV,KAAP,CAAaR,WAAb,CAAyBK,KAAjD,EAAwDa,MAAM,CAACrB,KAA/D,CAF6C;AAGpDS,QAAAA,GAAG,EAAE,CAAC,GAAGnD,OAAO,CAACwE,UAAZ,EAAwBT,MAAM,CAACV,KAAP,CAAaR,WAAb,CAAyBM,GAAjD,EAAsDY,MAAM,CAACrB,KAA7D,CAH+C,CAGqB;;AAHrB,OAA3B,GAItBqB,MAAM,CAACV,KAAP,CAAaR,WAJV,EAIuBkB,MAAM,CAACrB,KAJ9B,CAAP;AAKA,KAND;AAOA,GAlCD;;AAoCAF,EAAAA,SAAS,CAAClD,SAAV,CAAoBmF,MAApB,GAA6B,SAASA,MAAT,GAAkB;AAC9C,QAAIC,MAAM,GAAG,KAAKrB,KAAlB;AAAA,QACIR,WAAW,GAAG6B,MAAM,CAAC7B,WADzB;AAAA,QAEIS,WAAW,GAAGoB,MAAM,CAACpB,WAFzB;AAIA,QAAIJ,KAAK,GAAGL,WAAW,GAAGA,WAAW,CAACK,KAAf,GAAuB,EAA9C;AACA,QAAIC,GAAG,GAAGN,WAAW,GAAGA,WAAW,CAACM,GAAf,GAAqB,EAA1C;AACA,QAAIwB,MAAM,GAAG9B,WAAW,GAAGS,WAAH,GAAiB,EAAzC;AACA,QAAIsB,YAAY,GAAG,CAAC1B,KAAD,EAAQ;AAAE2B,MAAAA,IAAI,EAAE3B,KAAR;AAAe4B,MAAAA,EAAE,EAAEH;AAAnB,KAAR,CAAnB;AACA,QAAII,SAAS,GAAG;AAAE7B,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,GAAG,EAAEwB;AAArB,KAAhB;AACA,WAAOhF,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACNtE,eAAe,CAACW,OADV,EAEN;AACC4D,MAAAA,KAAK,EAAE,IADR;AAECC,MAAAA,KAAK,EAAE,KAAKxC,KAAL,CAAWwC,KAFnB;AAGCC,MAAAA,SAAS,EAAE,KAAKzC,KAAL,CAAWyC,SAHvB;AAICC,MAAAA,UAAU,EAAE,CAAC,KAAK1C,KAAL,CAAW2C;AAJzB,KAFM,EAQN,KAAK3C,KAAL,CAAW4C,KAAX,IAAoB3F,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACnBpE,OAAO,CAACS,OADW,EAEnB;AAAE8D,MAAAA,SAAS,EAAE,CAAC,GAAGnF,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,OAAjD,KAA6D;AAA1E,KAFmB,EAGnB,KAAK9C,KAAL,CAAW4C,KAHQ,CARd,EAaN3F,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACClE,MAAM,CAACO,OADR,EAEC;AAAE8D,MAAAA,SAAS,EAAE,CAAC,GAAGnF,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,iBAAjD,KAAuE;AAApF,KAFD,EAGC7F,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACClE,MAAM,CAACO,OADR,EAEC;AACCoE,MAAAA,IAAI,EAAE,CADP;AAECL,MAAAA,UAAU,EAAE,KAAK1C,KAAL,CAAW2C,SAFxB;AAGCK,MAAAA,YAAY,EAAE,OAHf;AAICR,MAAAA,KAAK,EAAE;AACNS,QAAAA,UAAU,EAAE,KAAKjD,KAAL,CAAWkD,KAAX,CAAiBC,MAAjB,CAAwBC,eAAxB,IAA2C;AADjD;AAJR,KAFD,EAUCnG,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8BzE,gBAAgB,CAACc,OAA/C,EAAwDxC,QAAQ,CAAC;AAChEkH,MAAAA,GAAG,EAAE,KAAKC,eADsD;AAEhEC,MAAAA,WAAW,EAAE,KAAKvD,KAAL,CAAWwD,OAFwC;AAGhE1B,MAAAA,UAAU,EAAE,KAAKL,eAH+C;AAIhEjC,MAAAA,KAAK,EAAEgB,KAJyD;AAKhE7D,MAAAA,GAAG,EAAE,KAAKgE,KAAL,CAAWE,QALgD;AAMhE4C,MAAAA,WAAW,EAAE,KAAKzD,KAAL,CAAWyD,WAAX,CAAuBjD,KAN4B;AAOhEkD,MAAAA,cAAc,EAAE;AACfC,QAAAA,cAAc,EAAE,KAAK3D,KAAL,CAAW2D,cADZ;AAEfC,QAAAA,YAAY,EAAE,KAAK5D,KAAL,CAAW4D,YAFV;AAGfC,QAAAA,YAAY,EAAE;AACbC,UAAAA,KAAK,EAAE,KAAKnD,KAAL,CAAWR,WAAX,GAAyB,KAAKQ,KAAL,CAAWR,WAAX,CAAuBM,GAAhD,GAAsD;AADhD,SAHC;AAMfyB,QAAAA,YAAY,EAAEA,YANC;AAOfG,QAAAA,SAAS,EAAEA;AAPI,OAPgD;AAgBhE0B,MAAAA,UAAU,EAAE;AACX,sBAAc,KAAK/D,KAAL,CAAWiB,WAAX,GAAyB;AAD5B,OAhBoD;AAmBhE+C,MAAAA,WAAW,EAAE,KAAKC,eAnB8C;AAoBhEC,MAAAA,UAAU,EAAE;AACXC,QAAAA,SAAS,EAAE,CAAC,GAAG7G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,qBAAjD,KAA2E,gBAD3E;AAEXsB,QAAAA,cAAc,EAAE,CAAC,GAAG9G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,2BAAjD,KAAiF,+BAFtF;AAGXuB,QAAAA,OAAO,EAAE,CAAC,GAAG/G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,mBAAjD,KAAyE;AAHvE;AApBoD,KAAD,EAyB7D,KAAK9C,KAAL,CAAWsE,mBAzBkD,CAAhE,CAVD,EAoCC,KAAKtE,KAAL,CAAW2C,SAAX,IAAwB,KAAKhC,KAAL,CAAWR,WAAnC,IAAkD,KAAKQ,KAAL,CAAWR,WAAX,CAAuBK,KAAzE,IAAkFvD,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8B/D,WAAW,CAACI,OAA1C,EAAmD;AAAE4F,MAAAA,OAAO,EAAE,KAAKC;AAAhB,KAAnD,CApCnF,CAHD,EAyCCvH,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACClE,MAAM,CAACO,OADR,EAEC;AAAE8F,MAAAA,cAAc,EAAE,QAAlB;AAA4BC,MAAAA,UAAU,EAAE,QAAxC;AAAkDC,MAAAA,KAAK,EAAE;AAAzD,KAFD,EAGC,GAHD,CAzCD,EA8CC1H,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACClE,MAAM,CAACO,OADR,EAEC;AACCoE,MAAAA,IAAI,EAAE,CADP;AAECL,MAAAA,UAAU,EAAE,KAAK1C,KAAL,CAAW2C,SAFxB;AAGCK,MAAAA,YAAY,EAAE,OAHf;AAICR,MAAAA,KAAK,EAAE;AACNS,QAAAA,UAAU,EAAE,KAAKjD,KAAL,CAAWkD,KAAX,CAAiBC,MAAjB,CAAwBC,eAAxB,IAA2C;AADjD;AAJR,KAFD,EAUCnG,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8BzE,gBAAgB,CAACc,OAA/C,EAAwDxC,QAAQ,CAAC;AAChEkH,MAAAA,GAAG,EAAE,KAAKuB,aADsD;AAEhErB,MAAAA,WAAW,EAAE,KAAKvD,KAAL,CAAWwD,OAFwC;AAGhE1B,MAAAA,UAAU,EAAE,KAAKL,eAH+C;AAIhEjC,MAAAA,KAAK,EAAEiB,GAJyD;AAKhE9D,MAAAA,GAAG,EAAE,KAAKgE,KAAL,CAAWG,MALgD;AAMhE2C,MAAAA,WAAW,EAAE,KAAKzD,KAAL,CAAWyD,WAAX,CAAuBhD,GAN4B;AAOhEiD,MAAAA,cAAc,EAAE;AACfC,QAAAA,cAAc,EAAE,KAAK3D,KAAL,CAAW2D,cADZ;AAEfC,QAAAA,YAAY,EAAE,KAAK5D,KAAL,CAAW4D,YAFV;AAGfiB,QAAAA,eAAe,EAAE,KAAKC,mBAHP;AAIfjB,QAAAA,YAAY,EAAE;AACbkB,UAAAA,MAAM,EAAE,KAAKpE,KAAL,CAAWR,WAAX,GAAyB,KAAKQ,KAAL,CAAWR,WAAX,CAAuBK,KAAhD,GAAwD;AADnD,SAJC;AAOf0B,QAAAA,YAAY,EAAEA,YAPC;AAQfG,QAAAA,SAAS,EAAEA;AARI,OAPgD;AAiBhE0B,MAAAA,UAAU,EAAE;AACX,sBAAc,KAAK/D,KAAL,CAAWiB,WAAX,GAAyB;AAD5B,OAjBoD;AAoBhE+C,MAAAA,WAAW,EAAE,KAAKgB,aApB8C;AAqBhEd,MAAAA,UAAU,EAAE;AACXC,QAAAA,SAAS,EAAE,CAAC,GAAG7G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,qBAAjD,KAA2E,gBAD3E;AAEXsB,QAAAA,cAAc,EAAE,CAAC,GAAG9G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,2BAAjD,KAAiF,+BAFtF;AAGXuB,QAAAA,OAAO,EAAE,CAAC,GAAG/G,OAAO,CAACuF,YAAZ,EAA0B,KAAK7C,KAAL,CAAW8C,UAArC,EAAiD,mBAAjD,KAAyE;AAHvE;AArBoD,KAAD,EA0B7D,KAAK9C,KAAL,CAAWsE,mBA1BkD,CAAhE,CAVD,EAqCC,KAAKtE,KAAL,CAAW2C,SAAX,IAAwB,KAAKhC,KAAL,CAAWR,WAAnC,IAAkD,KAAKQ,KAAL,CAAWR,WAAX,CAAuBM,GAAzE,IAAgFxD,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8B/D,WAAW,CAACI,OAA1C,EAAmD;AAAE4F,MAAAA,OAAO,EAAE,KAAKU;AAAhB,KAAnD,CArCjF,CA9CD,CAbM,CAAP;AAoGA,GA9GD;;AAgHA,SAAOnF,SAAP;AACA,CAnMe,CAmMd/C,MAAM,CAACmI,SAnMO,CAAhB;;AAqMApF,SAAS,CAACqF,YAAV,GAAyB,UAAU3F,KAAV,EAAiBQ,KAAjB,EAAwB;AAChD,MAAIoF,KAAK,GAAG,IAAZ;;AACA,MAAI5F,KAAJ,EAAW;AACV,QAAIc,KAAK,CAACC,OAAN,CAAcP,KAAK,CAACqF,SAApB,KAAkCrF,KAAK,CAACqF,SAAN,CAAgB5I,MAAhB,KAA2B,CAAjE,EAAoE;AACnE,UAAI6I,MAAJ,EAAYC,OAAZ;;AAEAH,MAAAA,KAAK,GAAG;AACPI,QAAAA,IAAI,EAAE;AACLC,UAAAA,IAAI,EAAE,CAAC;AACNlD,YAAAA,KAAK,GAAG+C,MAAM,GAAG,EAAT,EAAaA,MAAM,CAACtF,KAAK,CAACqF,SAAN,CAAgB,CAAhB,CAAD,CAAN,GAA6B;AACjDK,cAAAA,GAAG,EAAE,CAAC,GAAGpI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACgB,KAA1B,CAAxB,EAA0DR,KAA1D;AAD4C,aAA1C,EAELsF,MAFE;AADC,WAAD,EAIH;AACF/C,YAAAA,KAAK,GAAGgD,OAAO,GAAG,EAAV,EAAcA,OAAO,CAACvF,KAAK,CAACqF,SAAN,CAAgB,CAAhB,CAAD,CAAP,GAA8B;AACnDM,cAAAA,GAAG,EAAE,CAAC,GAAGrI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACiB,GAA1B,CAAxB,EAAwDT,KAAxD;AAD8C,aAA5C,EAELuF,OAFE;AADH,WAJG;AADD;AADC,OAAR;AAaA,KAhBD,MAgBO,IAAIjF,KAAK,CAACC,OAAN,CAAcP,KAAK,CAACqF,SAApB,CAAJ,EAAoC;AAC1C,UAAIO,OAAJ;;AAEAR,MAAAA,KAAK,GAAG;AACP7C,QAAAA,KAAK,GAAGqD,OAAO,GAAG,EAAV,EAAcA,OAAO,CAAC5F,KAAK,CAACqF,SAAN,CAAgB,CAAhB,CAAD,CAAP,GAA8B;AACnDM,UAAAA,GAAG,EAAE,CAAC,GAAGrI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACgB,KAA1B,CAAxB,EAA0DR,KAA1D,CAD8C;AAEnD0F,UAAAA,GAAG,EAAE,CAAC,GAAGpI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACiB,GAA1B,CAAxB,EAAwDT,KAAxD;AAF8C,SAA5C,EAGL4F,OAHE;AADE,OAAR;AAMA,KATM,MASA;AACN,UAAIC,OAAJ;;AAEAT,MAAAA,KAAK,GAAG;AACP7C,QAAAA,KAAK,GAAGsD,OAAO,GAAG,EAAV,EAAcA,OAAO,CAAC7F,KAAK,CAACqF,SAAP,CAAP,GAA2B;AAChDM,UAAAA,GAAG,EAAE,CAAC,GAAGrI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACgB,KAA1B,CAAxB,EAA0DR,KAA1D,CAD2C;AAEhD0F,UAAAA,GAAG,EAAE,CAAC,GAAGpI,OAAO,CAACwE,UAAZ,EAAwB,IAAIpE,OAAO,CAACiB,OAAZ,CAAoBa,KAAK,CAACiB,GAA1B,CAAxB,EAAwDT,KAAxD;AAF2C,SAAzC,EAGL6F,OAHE;AADE,OAAR;AAMA;AACD;;AAED,MAAIT,KAAK,IAAIpF,KAAK,CAAC8F,WAAnB,EAAgC;AAC/B,WAAO;AACNC,MAAAA,MAAM,EAAE;AACPC,QAAAA,IAAI,EAAEhG,KAAK,CAAC8F,WADL;AAEPV,QAAAA,KAAK,EAAEA;AAFA;AADF,KAAP;AAMA;;AAED,SAAOA,KAAP;AACA,CAlDD;;AAoDA,IAAIlF,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AAClD,MAAI+F,MAAM,GAAG,IAAb;;AAEA,OAAKxE,eAAL,GAAuB,UAAUyE,IAAV,EAAgB;AACtC,QAAIC,KAAK,GAAG,IAAIzI,OAAO,CAACiB,OAAZ,CAAoBuH,IAApB,CAAZ;AACA,WAAOC,KAAK,CAACC,KAAN,KAAgBD,KAAK,CAACE,QAAN,CAAe,YAAf,CAAhB,GAA+C,EAAtD;AACA,GAHD;;AAKA,OAAKzB,aAAL,GAAqB,UAAUvB,GAAV,EAAe;AACnC4C,IAAAA,MAAM,CAACK,UAAP,GAAoBjD,GAApB;AACA,GAFD;;AAIA,OAAKC,eAAL,GAAuB,UAAUD,GAAV,EAAe;AACrC4C,IAAAA,MAAM,CAACM,YAAP,GAAsBlD,GAAtB;AACA,GAFD;;AAIA,OAAKmB,mBAAL,GAA2B,YAAY;AACtC,QAAIyB,MAAM,CAACtF,KAAP,CAAaR,WAAb,IAA4B8F,MAAM,CAACtF,KAAP,CAAaR,WAAb,CAAyBK,KAAzB,KAAmC,EAAnE,EAAuE;AACtE,UAAIgG,OAAO,GAAGP,MAAM,CAACjG,KAArB;AAAA,UACIR,KAAK,GAAGgH,OAAO,CAAChH,KADpB;AAAA,UAEIgC,QAAQ,GAAGgF,OAAO,CAAChF,QAFvB;;AAKA,UAAIhC,KAAK,KAAKmC,SAAV,IAAuB,CAACH,QAA5B,EAAsC;AACrCyE,QAAAA,MAAM,CAAChC,eAAP,CAAuB,EAAvB,EAA2B,KAA3B,EADqC,CACF;;AACnC,OAFD,MAEO,IAAIzC,QAAJ,EAAc;AACpBA,QAAAA,QAAQ,CAAC;AAAEhB,UAAAA,KAAK,EAAE,EAAT;AAAaC,UAAAA,GAAG,EAAEwF,MAAM,CAACtF,KAAP,CAAaR,WAAb,CAAyBM;AAA3C,SAAD,CAAR;AACA,OAFM,MAEA;AACN;AACA;AACAwF,QAAAA,MAAM,CAACQ,QAAP,CAAgB;AACftG,UAAAA,WAAW,EAAE8F,MAAM,CAACtF,KAAP,CAAaR;AADX,SAAhB;AAGA;AACD;AACD,GAnBD;;AAqBA,OAAK8E,iBAAL,GAAyB,YAAY;AACpC,QAAIgB,MAAM,CAACtF,KAAP,CAAaR,WAAb,IAA4B8F,MAAM,CAACtF,KAAP,CAAaR,WAAb,CAAyBM,GAAzB,KAAiC,EAAjE,EAAqE;AACpEwF,MAAAA,MAAM,CAACjB,aAAP,CAAqB,EAArB,EADoE,CAC1C;;;AAC1B,UAAI0B,OAAO,GAAGT,MAAM,CAACjG,KAArB;AAAA,UACIR,KAAK,GAAGkH,OAAO,CAAClH,KADpB;AAAA,UAEIgC,QAAQ,GAAGkF,OAAO,CAAClF,QAFvB;;AAKA,UAAIhC,KAAK,KAAKmC,SAAV,IAAuB,CAACH,QAA5B,EAAsC;AACrCyE,QAAAA,MAAM,CAACjB,aAAP,CAAqB,EAArB,EAAyB,KAAzB,EADqC,CACJ;;AACjC,OAFD,MAEO,IAAIxD,QAAJ,EAAc;AACpBA,QAAAA,QAAQ,CAAC;AAAEhB,UAAAA,KAAK,EAAEyF,MAAM,CAACtF,KAAP,CAAaR,WAAb,CAAyBK,KAAlC;AAAyCC,UAAAA,GAAG,EAAE;AAA9C,SAAD,CAAR;AACA,OAFM,MAEA;AACN;AACA;AACAwF,QAAAA,MAAM,CAACQ,QAAP,CAAgB;AACftG,UAAAA,WAAW,EAAE8F,MAAM,CAACtF,KAAP,CAAaR;AADX,SAAhB;AAGA;AACD;AACD,GApBD;;AAsBA,OAAK8D,eAAL,GAAuB,UAAUiC,IAAV,EAAgB;AACtC,QAAIS,SAAS,GAAGnK,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBmF,SAAzC,GAAqDnF,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAApF;AACA,QAAI2D,WAAW,GAAG8F,MAAM,CAACtF,KAAP,CAAaR,WAA/B;AAEA,QAAIM,GAAG,GAAGN,WAAW,GAAGA,WAAW,CAACM,GAAf,GAAqB,EAA1C;AACA,QAAImG,OAAO,GAAGX,MAAM,CAACjG,KAArB;AAAA,QACIR,KAAK,GAAGoH,OAAO,CAACpH,KADpB;AAAA,QAEIgC,QAAQ,GAAGoF,OAAO,CAACpF,QAFvB;;AAIA,QAAI,CAAChC,KAAK,KAAKmC,SAAV,IAAuBnC,KAAK,IAAIA,KAAK,CAACgB,KAAN,KAAgB,EAAjD,KAAwD,CAACgB,QAA7D,EAAuE;AACtE,UAAIyE,MAAM,CAACM,YAAP,CAAoBM,QAApB,GAA+BrH,KAA/B,CAAqC/C,MAArC,KAAgD,EAApD,EAAwD;AACvDwJ,QAAAA,MAAM,CAAC/E,gBAAP,CAAwB;AACvBV,UAAAA,KAAK,EAAE0F,IADgB;AAEvBzF,UAAAA,GAAG,EAAEA;AAFkB,SAAxB;;AAIAwF,QAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,iBAAO;AACNE,YAAAA,QAAQ,EAAEF,KAAK,CAACE,QAAN,KAAmB,UAAnB,GAAgC,WAAhC,GAA8C;AADlD,WAAP;AAGA,SAJD,EALuD,CAUvD;;;AACA,YAAIoF,MAAM,CAACjG,KAAP,CAAa8G,YAAb,IAA6BH,SAAjC,EAA4C;AAC3CV,UAAAA,MAAM,CAACK,UAAP,CAAkBO,QAAlB,GAA6BE,KAA7B;AACA;AACD;AACD,KAhBD,MAgBO,IAAIvF,QAAJ,EAAc;AACpB,UAAIyE,MAAM,CAACM,YAAP,CAAoBM,QAApB,GAA+BrH,KAA/B,CAAqC/C,MAArC,KAAgD,EAApD,EAAwD;AACvD+E,QAAAA,QAAQ,CAAC;AACRhB,UAAAA,KAAK,EAAE0F,IADC;AAERzF,UAAAA,GAAG,EAAEA;AAFG,SAAD,CAAR,CADuD,CAKvD;;AACA,YAAIwF,MAAM,CAACjG,KAAP,CAAa8G,YAAb,IAA6BH,SAAjC,EAA4C;AAC3CV,UAAAA,MAAM,CAACK,UAAP,CAAkBO,QAAlB,GAA6BE,KAA7B;AACA,SARsD,CASvD;AACA;;;AACAd,QAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,iBAAO;AACNE,YAAAA,QAAQ,EAAEF,KAAK,CAACE,QAAN,KAAmB,UAAnB,GAAgC,WAAhC,GAA8C;AADlD,WAAP;AAGA,SAJD;AAKA;AACD,KAlBM,MAkBA;AACN;AACA;AACAoF,MAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,eAAO;AACNE,UAAAA,QAAQ,EAAEF,KAAK,CAACE,QAAN,KAAmB,UAAnB,GAAgC,WAAhC,GAA8C;AADlD,SAAP;AAGA,OAJD;AAKA;AACD,GApDD;;AAsDA,OAAKmE,aAAL,GAAqB,UAAUgC,WAAV,EAAuB;AAC3C,QAAI7G,WAAW,GAAG8F,MAAM,CAACtF,KAAP,CAAaR,WAA/B;AACA,QAAI8G,OAAO,GAAGhB,MAAM,CAACjG,KAArB;AAAA,QACIR,KAAK,GAAGyH,OAAO,CAACzH,KADpB;AAAA,QAEIgC,QAAQ,GAAGyF,OAAO,CAACzF,QAFvB;AAIA,QAAIhB,KAAK,GAAGL,WAAW,GAAGA,WAAW,CAACK,KAAf,GAAuB,EAA9C;;AAEA,QAAI,CAAChB,KAAK,KAAKmC,SAAV,IAAuBnC,KAAK,IAAIA,KAAK,CAACiB,GAAN,KAAc,EAA/C,KAAsD,CAACe,QAA3D,EAAqE;AACpE,UAAIyE,MAAM,CAACK,UAAP,CAAkBO,QAAlB,GAA6BrH,KAA7B,CAAmC/C,MAAnC,KAA8C,EAAlD,EAAsD;AACrDwJ,QAAAA,MAAM,CAACnB,mBAAP,CAA2BkC,WAA3B;;AACAf,QAAAA,MAAM,CAAC/E,gBAAP,CAAwB;AACvBV,UAAAA,KAAK,EAAEL,WAAW,GAAGA,WAAW,CAACK,KAAf,GAAuB,EADlB;AAEvBC,UAAAA,GAAG,EAAEuG;AAFkB,SAAxB;;AAIAf,QAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,iBAAO;AACNG,YAAAA,MAAM,EAAEH,KAAK,CAACG,MAAN,KAAiB,QAAjB,GAA4B,SAA5B,GAAwC;AAD1C,WAAP;AAGA,SAJD;AAKA;AACD,KAbD,MAaO,IAAIU,QAAJ,EAAc;AACpB,UAAIyE,MAAM,CAACK,UAAP,CAAkBO,QAAlB,GAA6BrH,KAA7B,CAAmC/C,MAAnC,KAA8C,EAAlD,EAAsD;AACrD+E,QAAAA,QAAQ,CAAC;AACRhB,UAAAA,KAAK,EAAEA,KADC;AAERC,UAAAA,GAAG,EAAEuG;AAFG,SAAD,CAAR;AAIA,OANmB,CAOpB;AACA;;;AACAf,MAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,eAAO;AACNG,UAAAA,MAAM,EAAEH,KAAK,CAACG,MAAN,KAAiB,QAAjB,GAA4B,SAA5B,GAAwC;AAD1C,SAAP;AAGA,OAJD;AAKA,KAdM,MAcA;AACN;AACA;AACAmF,MAAAA,MAAM,CAACQ,QAAP,CAAgB,UAAU9F,KAAV,EAAiB;AAChC,eAAO;AACNG,UAAAA,MAAM,EAAEH,KAAK,CAACG,MAAN,KAAiB,QAAjB,GAA4B,SAA5B,GAAwC;AAD1C,SAAP;AAGA,OAJD;AAKA;AACD,GA5CD;;AA8CA,OAAKgE,mBAAL,GAA2B,UAAUoC,GAAV,EAAe;AACzCjB,IAAAA,MAAM,CAACQ,QAAP,CAAgB;AACf7F,MAAAA,WAAW,EAAEsG;AADE,KAAhB;AAGA,GAJD;;AAMA,OAAKhG,gBAAL,GAAwB,UAAUf,WAAV,EAAuB;AAC9C,QAAIgH,cAAc,GAAG3K,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBmF,SAAzC,GAAqDnF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAzF;AACA,QAAIwD,KAAK,GAAGxD,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBmF,SAAzC,GAAqDnF,SAAS,CAAC,CAAD,CAA9D,GAAoEyJ,MAAM,CAACjG,KAAvF;AACA,QAAIe,UAAU,GAAGvE,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBmF,SAAzC,GAAqDnF,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAArF;AAEA,QAAIgD,KAAK,GAAG,IAAZ;;AACA,QAAIW,WAAW,IAAI,EAAEA,WAAW,CAACK,KAAZ,KAAsB,EAAtB,IAA4BL,WAAW,CAACM,GAAZ,KAAoB,EAAlD,CAAnB,EAA0E;AACzEjB,MAAAA,KAAK,GAAG2H,cAAc,GAAGhH,WAAH,GAAiB;AACtCK,QAAAA,KAAK,EAAEyF,MAAM,CAACxE,eAAP,CAAuBtB,WAAW,CAACK,KAAnC,CAD+B;AAEtCC,QAAAA,GAAG,EAAEwF,MAAM,CAACxE,eAAP,CAAuBtB,WAAW,CAACM,GAAnC;AAFiC,OAAvC,CADyE,CAItE;AACH;;AAED,QAAI2G,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC5C,UAAIC,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC5CpB,QAAAA,MAAM,CAACpE,WAAP,CAAmBrC,KAAnB,EAA0BQ,KAA1B;;AACA,YAAIA,KAAK,CAACsH,aAAV,EAAyBtH,KAAK,CAACsH,aAAN,CAAoB9H,KAApB;AACzB,OAHD;;AAKA,UAAIuB,UAAJ,EAAgB;AACfkF,QAAAA,MAAM,CAACQ,QAAP,CAAgB;AACftG,UAAAA,WAAW,EAAEA;AADE,SAAhB,EAEGkH,aAFH;AAGA,OAJD,MAIO;AACNA,QAAAA,aAAa;AACb;AACD,KAbD;;AAcA,KAAC,GAAG/J,OAAO,CAACiK,gBAAZ,EAA8BvH,KAAK,CAACiB,WAApC,EAAiDzB,KAAjD,EAAwDQ,KAAK,CAACwH,iBAA9D,EAAiFJ,aAAjF;AACA,GA5BD;;AA8BA,OAAKvF,WAAL,GAAmB,UAAUrC,KAAV,EAAiBQ,KAAjB,EAAwB;AAC1C,QAAI,CAACR,KAAD,IAAUA,KAAK,IAAIA,KAAK,CAACgB,KAAN,CAAY/D,MAArB,IAA+B+C,KAAK,CAACiB,GAAN,CAAUhE,MAAvD,EAA+D;AAC9D,UAAIgL,WAAW,GAAGzH,KAAK,CAACyH,WAAxB;AAEA,UAAIrC,KAAK,GAAGtF,SAAS,CAACqF,YAAV,CAAuB3F,KAAvB,EAA8BQ,KAA9B,CAAZ;AACA,UAAI0H,kBAAkB,GAAG,KAAK,CAA9B;;AACA,UAAID,WAAJ,EAAiB;AAChB,YAAIE,iBAAiB,GAAGF,WAAW,CAACjI,KAAD,EAAQQ,KAAR,CAAnC;AACAoF,QAAAA,KAAK,GAAGuC,iBAAiB,IAAIA,iBAAiB,CAACvC,KAA/C;AACAsC,QAAAA,kBAAkB,GAAG,CAAC,GAAGpK,OAAO,CAACsK,mBAAZ,EAAiCH,WAAW,CAACjI,KAAD,EAAQQ,KAAR,CAA5C,CAArB;AACA,SAAC,GAAG1C,OAAO,CAAC0D,iBAAZ,EAA+BhB,KAAK,CAACiB,WAArC,EAAkDjB,KAAlD,EAAyDR,KAAzD;AACA;;AACDQ,MAAAA,KAAK,CAAC6H,eAAN,CAAsB7H,KAAK,CAACiB,WAA5B,EAAyCyG,kBAAzC;AACA1H,MAAAA,KAAK,CAAC6B,WAAN,CAAkB;AACjBZ,QAAAA,WAAW,EAAEjB,KAAK,CAACiB,WADF;AAEjBmE,QAAAA,KAAK,EAAEA,KAFU;AAGjB5F,QAAAA,KAAK,EAAEA,KAAK,GAAG,CAACA,KAAK,CAACgB,KAAP,EAAchB,KAAK,CAACiB,GAApB,CAAH,GAA8B,IAHzB;AAIjBqH,QAAAA,UAAU,EAAE9H,KAAK,CAAC8H,UAJD;AAKjBC,QAAAA,KAAK,EAAE/H,KAAK,CAACgI,WALI;AAMjBC,QAAAA,SAAS,EAAEjI,KAAK,CAACiI,SANA;AAOjBC,QAAAA,aAAa,EAAEvK,UAAU,CAACwK,cAAX,CAA0BC;AAPxB,OAAlB;AASA;AACD,GAvBD;AAwBA,CA3ND;;AA6NAtI,SAAS,CAACuI,SAAV,GAAsB;AACrBxG,EAAAA,WAAW,EAAErE,OAAO,CAACmB,OAAR,CAAgB2J,YADR;AAErBjI,EAAAA,aAAa,EAAE7C,OAAO,CAACmB,OAAR,CAAgB0B,aAFV;AAGrBwH,EAAAA,eAAe,EAAErK,OAAO,CAACmB,OAAR,CAAgB2J,YAHZ;AAIrBC,EAAAA,cAAc,EAAE/K,OAAO,CAACmB,OAAR,CAAgB2J,YAJX;AAKrB;AACAxB,EAAAA,YAAY,EAAEtJ,OAAO,CAACmB,OAAR,CAAgB6G,IANT;AAOrBgC,EAAAA,iBAAiB,EAAEhK,OAAO,CAACmB,OAAR,CAAgB6J,IAPd;AAQrB/F,EAAAA,SAAS,EAAEjF,OAAO,CAACmB,OAAR,CAAgB8J,MARN;AASrBxH,EAAAA,WAAW,EAAEzD,OAAO,CAACmB,OAAR,CAAgB+J,cATR;AAUrBrD,EAAAA,SAAS,EAAE7H,OAAO,CAACmB,OAAR,CAAgBgK,cAVN;AAWrBrE,EAAAA,mBAAmB,EAAE9G,OAAO,CAACmB,OAAR,CAAgBqB,KAXhB;AAYrBI,EAAAA,YAAY,EAAE5C,OAAO,CAACmB,OAAR,CAAgBiK,UAZT;AAarBpJ,EAAAA,KAAK,EAAEhC,OAAO,CAACmB,OAAR,CAAgBiK,UAbF;AAcrBZ,EAAAA,WAAW,EAAExK,OAAO,CAACmB,OAAR,CAAgB8J,MAdR;AAerBjF,EAAAA,OAAO,EAAEhG,OAAO,CAACmB,OAAR,CAAgB6G,IAfJ;AAgBrB5B,EAAAA,YAAY,EAAEpG,OAAO,CAACmB,OAAR,CAAgBiK,UAhBT;AAiBrB9F,EAAAA,UAAU,EAAEtF,OAAO,CAACmB,OAAR,CAAgB6D,KAjBP;AAkBrBmB,EAAAA,cAAc,EAAEnG,OAAO,CAACmB,OAAR,CAAgBkK,MAlBX;AAmBrBC,EAAAA,aAAa,EAAEtL,OAAO,CAACmB,OAAR,CAAgB6J,IAnBV;AAoBrBlB,EAAAA,aAAa,EAAE9J,OAAO,CAACmB,OAAR,CAAgB6J,IApBV;AAqBrBhH,EAAAA,QAAQ,EAAEhE,OAAO,CAACmB,OAAR,CAAgB6J,IArBL;AAsBrB/E,EAAAA,WAAW,EAAEjG,OAAO,CAACmB,OAAR,CAAgBoK,WAtBR;AAuBrBjD,EAAAA,WAAW,EAAEtI,OAAO,CAACmB,OAAR,CAAgB8J,MAvBR;AAwBrBO,EAAAA,WAAW,EAAExL,OAAO,CAACmB,OAAR,CAAgBsK,eAxBR;AAyBrBC,EAAAA,SAAS,EAAE1L,OAAO,CAACmB,OAAR,CAAgB6J,IAzBN;AA0BrBW,EAAAA,KAAK,EAAE3L,OAAO,CAACmB,OAAR,CAAgBwK,KA1BF;AA2BrBxG,EAAAA,SAAS,EAAEnF,OAAO,CAACmB,OAAR,CAAgB6G,IA3BN;AA4BrBsC,EAAAA,UAAU,EAAEtK,OAAO,CAACmB,OAAR,CAAgB6G,IA5BP;AA6BrBhD,EAAAA,KAAK,EAAEhF,OAAO,CAACmB,OAAR,CAAgB6D,KA7BF;AA8BrBU,EAAAA,KAAK,EAAE1F,OAAO,CAACmB,OAAR,CAAgB6D,KA9BF;AA+BrBI,EAAAA,KAAK,EAAEpF,OAAO,CAACmB,OAAR,CAAgB8J;AA/BF,CAAtB;AAkCA3I,SAAS,CAACsJ,YAAV,GAAyB;AACxBtC,EAAAA,YAAY,EAAE,IADU;AAExBnD,EAAAA,cAAc,EAAE,CAFQ;AAGxBF,EAAAA,WAAW,EAAE;AACZjD,IAAAA,KAAK,EAAE,YADK;AAEZC,IAAAA,GAAG,EAAE;AAFO,GAHW;AAOxBkC,EAAAA,SAAS,EAAE,IAPa;AAQxBmF,EAAAA,UAAU,EAAE,IARY;AASxBkB,EAAAA,WAAW,EAAE;AATW,CAAzB,C,CAYA;;AACAlJ,SAAS,CAACoI,aAAV,GAA0BvK,UAAU,CAACwK,cAAX,CAA0BC,SAApD;;AAEA,IAAIiB,eAAe,GAAG,SAASA,eAAT,CAAyB1I,KAAzB,EAAgCX,KAAhC,EAAuC;AAC5D,SAAO;AACNK,IAAAA,aAAa,EAAEM,KAAK,CAAC2I,cAAN,CAAqBtJ,KAAK,CAACiB,WAA3B,IAA0CN,KAAK,CAAC2I,cAAN,CAAqBtJ,KAAK,CAACiB,WAA3B,EAAwCzB,KAAlF,GAA0F;AADnG,GAAP;AAGA,CAJD;;AAMA,IAAI+J,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,QAA5B,EAAsC;AAC9D,SAAO;AACNjB,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBkB,SAAxB,EAAmCrE,KAAnC,EAA0C;AACzD,aAAOoE,QAAQ,CAAC,CAAC,GAAGrM,QAAQ,CAACoL,cAAb,EAA6BkB,SAA7B,EAAwCrE,KAAxC,CAAD,CAAf;AACA,KAHK;AAINvD,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqB6H,iBAArB,EAAwC;AACpD,aAAOF,QAAQ,CAAC,CAAC,GAAGrM,QAAQ,CAAC0E,WAAb,EAA0B6H,iBAA1B,CAAD,CAAf;AACA,KANK;AAON7B,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyB4B,SAAzB,EAAoCzJ,KAApC,EAA2C;AAC3D,aAAOwJ,QAAQ,CAAC,CAAC,GAAGrM,QAAQ,CAAC0K,eAAb,EAA8B4B,SAA9B,EAAyCzJ,KAAzC,CAAD,CAAf;AACA;AATK,GAAP;AAWA,CAZD;;AAcA,IAAI2J,kBAAkB,GAAG,CAAC,GAAGtL,MAAM,CAACuL,OAAX,EAAoBP,eAApB,EAAqCE,kBAArC,EAAyD,CAAC,GAAGzL,eAAe,CAAC+L,SAApB,EAA+B,UAAU7J,KAAV,EAAiB;AACjI,SAAO/C,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CACN7D,kBAAkB,CAACE,OADb,EAENxC,QAAQ,CAAC,EAAD,EAAK6D,KAAL,EAAY;AAAEkI,IAAAA,aAAa,EAAEvK,UAAU,CAACwK,cAAX,CAA0BC;AAA3C,GAAZ,CAFF,EAGN,YAAY;AACX,WAAOnL,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8BxC,SAA9B,EAAyC3D,QAAQ,CAAC;AAAEkH,MAAAA,GAAG,EAAErD,KAAK,CAAC8J;AAAb,KAAD,EAAgC9J,KAAhC,CAAjD,CAAP;AACA,GALK,CAAP;AAOA,CARiF,CAAzD,CAAzB,C,CAUA;;AACA,IAAI+J,mBAAmB,GAAG9M,OAAO,CAAC0B,OAAR,CAAgBqL,UAAhB,CAA2B,UAAUhK,KAAV,EAAiBqD,GAAjB,EAAsB;AAC1E,SAAOpG,OAAO,CAAC0B,OAAR,CAAgB2D,aAAhB,CAA8BqH,kBAA9B,EAAkDxN,QAAQ,CAAC,EAAD,EAAK6D,KAAL,EAAY;AAAE8J,IAAAA,cAAc,EAAEzG;AAAlB,GAAZ,CAA1D,CAAP;AACA,CAFyB,CAA1B;;AAGA,CAAC,GAAGhG,sBAAsB,CAACsB,OAA3B,EAAoCoL,mBAApC,EAAyDjK,SAAzD;AAEAiK,mBAAmB,CAACE,IAApB,GAA2B,WAA3B;AACAhO,OAAO,CAAC0C,OAAR,GAAkBoL,mBAAlB","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _xdate = require('xdate');\n\nvar _xdate2 = _interopRequireDefault(_xdate);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _DayPickerInput = require('react-day-picker/DayPickerInput');\n\nvar _DayPickerInput2 = _interopRequireDefault(_DayPickerInput);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _DateContainer = require('../../styles/DateContainer');\n\nvar _DateContainer2 = _interopRequireDefault(_DateContainer);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Flex = require('../../styles/Flex');\n\nvar _Flex2 = _interopRequireDefault(_Flex);\n\nvar _utils = require('../../utils');\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DateRange = function (_Component) {\n\t_inherits(DateRange, _Component);\n\n\tfunction DateRange(props) {\n\t\t_classCallCheck(this, DateRange);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar currentDate = props.defaultValue || props.value || null;\n\t\tif (props.selectedValue) {\n\t\t\tif (Array.isArray(props.selectedValue)) {\n\t\t\t\tcurrentDate = {\n\t\t\t\t\tstart: new _xdate2.default(props.selectedValue[0])[0],\n\t\t\t\t\tend: new _xdate2.default(props.selectedValue[1])[0]\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tvar _props$selectedValue = props.selectedValue,\n\t\t\t\t    start = _props$selectedValue.start,\n\t\t\t\t    end = _props$selectedValue.end;\n\n\t\t\t\tcurrentDate = {\n\t\t\t\t\tstart: new _xdate2.default(start)[0],\n\t\t\t\t\tend: new _xdate2.default(end)[0]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t_this.state = {\n\t\t\tcurrentDate: currentDate,\n\t\t\tdateHovered: null,\n\t\t\tstartKey: 'on-start',\n\t\t\tendKey: 'on-end'\n\t\t};\n\t\tvar hasMounted = false;\n\n\t\t// Set custom query in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentDate);\n\n\t\tif (currentDate) {\n\t\t\t_this.handleDateChange(currentDate, false, props, hasMounted);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tDateRange.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\tif (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n\t\t\tthis.handleDateChange(this.props.value, false, this.props);\n\t\t} else {\n\t\t\tvar currentDate = this.state.currentDate;\n\t\t\tvar _props = this.props,\n\t\t\t    selectedValue = _props.selectedValue,\n\t\t\t    value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\t\t\t// comparing array format of selectedValue with object form of the state if not null\n\n\t\t\tif (!(0, _helper.isEqual)(currentDate ? [this.formatInputDate(currentDate.start), this.formatInputDate(currentDate.end)] // prettier-ignore\n\t\t\t: null, selectedValue) && !(0, _helper.isEqual)(prevProps.selectedValue, selectedValue)) {\n\t\t\t\tvar modDate = selectedValue ? {\n\t\t\t\t\tstart: this.props.selectedValue[0] || '',\n\t\t\t\t\tend: this.props.selectedValue[1] || '' // prettier-ignore\n\t\t\t\t} : { start: '', end: '' };\n\t\t\t\tif ((value === undefined || value && value.start === '' && value.end === '') && !onChange) {\n\t\t\t\t\tthis.handleDateChange(modDate, true, this.props);\n\t\t\t\t} else if (onChange) {\n\t\t\t\t\tonChange(modDate);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {\n\t\t\treturn _this2.updateQuery(_this2.state.currentDate ? {\n\t\t\t\t// we need the date in correct queryFormat\n\t\t\t\tstart: (0, _helper.formatDate)(_this2.state.currentDate.start, _this2.props),\n\t\t\t\tend: (0, _helper.formatDate)(_this2.state.currentDate.end, _this2.props) // prettier-ignore\n\t\t\t} : _this2.state.currentDate, _this2.props);\n\t\t});\n\t};\n\n\tDateRange.prototype.render = function render() {\n\t\tvar _state = this.state,\n\t\t    currentDate = _state.currentDate,\n\t\t    dateHovered = _state.dateHovered;\n\n\t\tvar start = currentDate ? currentDate.start : '';\n\t\tvar end = currentDate ? currentDate.end : '';\n\t\tvar endDay = currentDate ? dateHovered : '';\n\t\tvar selectedDays = [start, { from: start, to: endDay }];\n\t\tvar modifiers = { start: start, end: endDay };\n\t\treturn _react2.default.createElement(\n\t\t\t_DateContainer2.default,\n\t\t\t{\n\t\t\t\trange: true,\n\t\t\t\tstyle: this.props.style,\n\t\t\t\tclassName: this.props.className,\n\t\t\t\tshowBorder: !this.props.showClear\n\t\t\t},\n\t\t\tthis.props.title && _react2.default.createElement(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\t_react2.default.createElement(\n\t\t\t\t_Flex2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'input-container') || null },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\tshowBorder: this.props.showClear,\n\t\t\t\t\t\ticonPosition: 'right',\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackground: this.props.theme.colors.backgroundColor || 'transparent'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t_react2.default.createElement(_DayPickerInput2.default, _extends({\n\t\t\t\t\t\tref: this.getStartDateRef,\n\t\t\t\t\t\tshowOverlay: this.props.focused,\n\t\t\t\t\t\tformatDate: this.formatInputDate,\n\t\t\t\t\t\tvalue: start,\n\t\t\t\t\t\tkey: this.state.startKey,\n\t\t\t\t\t\tplaceholder: this.props.placeholder.start,\n\t\t\t\t\t\tdayPickerProps: {\n\t\t\t\t\t\t\tnumberOfMonths: this.props.numberOfMonths,\n\t\t\t\t\t\t\tinitialMonth: this.props.initialMonth,\n\t\t\t\t\t\t\tdisabledDays: {\n\t\t\t\t\t\t\t\tafter: this.state.currentDate ? this.state.currentDate.end : ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tselectedDays: selectedDays,\n\t\t\t\t\t\t\tmodifiers: modifiers\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputProps: {\n\t\t\t\t\t\t\t'aria-label': this.props.componentId + '-start-input'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDayChange: this.handleStartDate,\n\t\t\t\t\t\tclassNames: {\n\t\t\t\t\t\t\tcontainer: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n\t\t\t\t\t\t\toverlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n\t\t\t\t\t\t\toverlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.props.dayPickerInputProps)),\n\t\t\t\t\tthis.props.showClear && this.state.currentDate && this.state.currentDate.start && _react2.default.createElement(_CancelSvg2.default, { onClick: this.clearDayPickerStart })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{ justifyContent: 'center', alignItems: 'center', basis: '20px' },\n\t\t\t\t\t'-'\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_Flex2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\tshowBorder: this.props.showClear,\n\t\t\t\t\t\ticonPosition: 'right',\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackground: this.props.theme.colors.backgroundColor || 'transparent'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t_react2.default.createElement(_DayPickerInput2.default, _extends({\n\t\t\t\t\t\tref: this.getEndDateRef,\n\t\t\t\t\t\tshowOverlay: this.props.focused,\n\t\t\t\t\t\tformatDate: this.formatInputDate,\n\t\t\t\t\t\tvalue: end,\n\t\t\t\t\t\tkey: this.state.endKey,\n\t\t\t\t\t\tplaceholder: this.props.placeholder.end,\n\t\t\t\t\t\tdayPickerProps: {\n\t\t\t\t\t\t\tnumberOfMonths: this.props.numberOfMonths,\n\t\t\t\t\t\t\tinitialMonth: this.props.initialMonth,\n\t\t\t\t\t\t\tonDayMouseEnter: this.handleDayMouseEnter,\n\t\t\t\t\t\t\tdisabledDays: {\n\t\t\t\t\t\t\t\tbefore: this.state.currentDate ? this.state.currentDate.start : ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tselectedDays: selectedDays,\n\t\t\t\t\t\t\tmodifiers: modifiers\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputProps: {\n\t\t\t\t\t\t\t'aria-label': this.props.componentId + '-end-input'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDayChange: this.handleEndDate,\n\t\t\t\t\t\tclassNames: {\n\t\t\t\t\t\t\tcontainer: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-container') || 'DayPickerInput',\n\t\t\t\t\t\t\toverlayWrapper: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay-wrapper') || 'DayPickerInput-OverlayWrapper',\n\t\t\t\t\t\t\toverlay: (0, _helper.getClassName)(this.props.innerClass, 'daypicker-overlay') || 'DayPickerInput-Overlay'\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.props.dayPickerInputProps)),\n\t\t\t\t\tthis.props.showClear && this.state.currentDate && this.state.currentDate.end && _react2.default.createElement(_CancelSvg2.default, { onClick: this.clearDayPickerEnd })\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn DateRange;\n}(_react.Component);\n\nDateRange.defaultQuery = function (value, props) {\n\tvar query = null;\n\tif (value) {\n\t\tif (Array.isArray(props.dataField) && props.dataField.length === 2) {\n\t\t\tvar _range, _range2;\n\n\t\t\tquery = {\n\t\t\t\tbool: {\n\t\t\t\t\tmust: [{\n\t\t\t\t\t\trange: (_range = {}, _range[props.dataField[0]] = {\n\t\t\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.start), props)\n\t\t\t\t\t\t}, _range)\n\t\t\t\t\t}, {\n\t\t\t\t\t\trange: (_range2 = {}, _range2[props.dataField[1]] = {\n\t\t\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t\t\t}, _range2)\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t};\n\t\t} else if (Array.isArray(props.dataField)) {\n\t\t\tvar _range3;\n\n\t\t\tquery = {\n\t\t\t\trange: (_range3 = {}, _range3[props.dataField[0]] = {\n\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t}, _range3)\n\t\t\t};\n\t\t} else {\n\t\t\tvar _range4;\n\n\t\t\tquery = {\n\t\t\t\trange: (_range4 = {}, _range4[props.dataField] = {\n\t\t\t\t\tgte: (0, _helper.formatDate)(new _xdate2.default(value.start), props),\n\t\t\t\t\tlte: (0, _helper.formatDate)(new _xdate2.default(value.end), props)\n\t\t\t\t}, _range4)\n\t\t\t};\n\t\t}\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.formatInputDate = function (date) {\n\t\tvar xdate = new _xdate2.default(date);\n\t\treturn xdate.valid() ? xdate.toString('yyyy-MM-dd') : '';\n\t};\n\n\tthis.getEndDateRef = function (ref) {\n\t\t_this3.endDateRef = ref;\n\t};\n\n\tthis.getStartDateRef = function (ref) {\n\t\t_this3.startDateRef = ref;\n\t};\n\n\tthis.clearDayPickerStart = function () {\n\t\tif (_this3.state.currentDate && _this3.state.currentDate.start !== '') {\n\t\t\tvar _props2 = _this3.props,\n\t\t\t    value = _props2.value,\n\t\t\t    onChange = _props2.onChange;\n\n\n\t\t\tif (value === undefined && !onChange) {\n\t\t\t\t_this3.handleStartDate('', false); // resets the day picker component\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange({ start: '', end: _this3.state.currentDate.end });\n\t\t\t} else {\n\t\t\t\t// Since value prop is defined and onChange is not define\n\t\t\t\t// we keep the same date as in store\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: _this3.state.currentDate\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.clearDayPickerEnd = function () {\n\t\tif (_this3.state.currentDate && _this3.state.currentDate.end !== '') {\n\t\t\t_this3.handleEndDate(''); // resets the day picker component\n\t\t\tvar _props3 = _this3.props,\n\t\t\t    value = _props3.value,\n\t\t\t    onChange = _props3.onChange;\n\n\n\t\t\tif (value === undefined && !onChange) {\n\t\t\t\t_this3.handleEndDate('', false); // resets the day picker component\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange({ start: _this3.state.currentDate.start, end: '' });\n\t\t\t} else {\n\t\t\t\t// Since value prop is defined and onChange is not define\n\t\t\t\t// we keep the same date as in store\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: _this3.state.currentDate\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.handleStartDate = function (date) {\n\t\tvar autoFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\tvar currentDate = _this3.state.currentDate;\n\n\t\tvar end = currentDate ? currentDate.end : '';\n\t\tvar _props4 = _this3.props,\n\t\t    value = _props4.value,\n\t\t    onChange = _props4.onChange;\n\n\t\tif ((value === undefined || value && value.start === '') && !onChange) {\n\t\t\tif (_this3.startDateRef.getInput().value.length === 10) {\n\t\t\t\t_this3.handleDateChange({\n\t\t\t\t\tstart: date,\n\t\t\t\t\tend: end\n\t\t\t\t});\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t// focus the end date DayPicker if its empty\n\t\t\t\tif (_this3.props.autoFocusEnd && autoFocus) {\n\t\t\t\t\t_this3.endDateRef.getInput().focus();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onChange) {\n\t\t\tif (_this3.startDateRef.getInput().value.length === 10) {\n\t\t\t\tonChange({\n\t\t\t\t\tstart: date,\n\t\t\t\t\tend: end\n\t\t\t\t});\n\t\t\t\t// focus the end date DayPicker if its empty\n\t\t\t\tif (_this3.props.autoFocusEnd && autoFocus) {\n\t\t\t\t\t_this3.endDateRef.getInput().focus();\n\t\t\t\t}\n\t\t\t\t// this will trigger a remount on the date component\n\t\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tstartKey: state.startKey === 'on-start' ? 'off-start' : 'on-start'\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleEndDate = function (selectedDay) {\n\t\tvar currentDate = _this3.state.currentDate;\n\t\tvar _props5 = _this3.props,\n\t\t    value = _props5.value,\n\t\t    onChange = _props5.onChange;\n\n\t\tvar start = currentDate ? currentDate.start : '';\n\n\t\tif ((value === undefined || value && value.end === '') && !onChange) {\n\t\t\tif (_this3.endDateRef.getInput().value.length === 10) {\n\t\t\t\t_this3.handleDayMouseEnter(selectedDay);\n\t\t\t\t_this3.handleDateChange({\n\t\t\t\t\tstart: currentDate ? currentDate.start : '',\n\t\t\t\t\tend: selectedDay\n\t\t\t\t});\n\t\t\t\t_this3.setState(function (state) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (onChange) {\n\t\t\tif (_this3.endDateRef.getInput().value.length === 10) {\n\t\t\t\tonChange({\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: selectedDay\n\t\t\t\t});\n\t\t\t}\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t};\n\t\t\t});\n\t\t} else {\n\t\t\t// this will trigger a remount on the date component\n\t\t\t// since DayPickerInput doesn't respect the controlled behavior setting on its own\n\t\t\t_this3.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tendKey: state.endKey === 'on-end' ? 'off-end' : 'on-end'\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleDayMouseEnter = function (day) {\n\t\t_this3.setState({\n\t\t\tdateHovered: day\n\t\t});\n\t};\n\n\tthis.handleDateChange = function (currentDate) {\n\t\tvar isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\t\tvar hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n\t\tvar value = null;\n\t\tif (currentDate && !(currentDate.start === '' && currentDate.end === '')) {\n\t\t\tvalue = isDefaultValue ? currentDate : {\n\t\t\t\tstart: _this3.formatInputDate(currentDate.start),\n\t\t\t\tend: _this3.formatInputDate(currentDate.end)\n\t\t\t}; // prettier-ignore\n\t\t}\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tvar handleUpdates = function handleUpdates() {\n\t\t\t\t_this3.updateQuery(value, props);\n\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t};\n\n\t\t\tif (hasMounted) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentDate: currentDate\n\t\t\t\t}, handleUpdates);\n\t\t\t} else {\n\t\t\t\thandleUpdates();\n\t\t\t}\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tif (!value || value && value.start.length && value.end.length) {\n\t\t\tvar customQuery = props.customQuery;\n\n\t\t\tvar query = DateRange.defaultQuery(value, props);\n\t\t\tvar customQueryOptions = void 0;\n\t\t\tif (customQuery) {\n\t\t\t\tvar customQueryObject = customQuery(value, props);\n\t\t\t\tquery = customQueryObject && customQueryObject.query;\n\t\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n\t\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t\t}\n\t\t\tprops.setQueryOptions(props.componentId, customQueryOptions);\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: value ? [value.start, value.end] : null,\n\t\t\t\tshowFilter: props.showFilter,\n\t\t\t\tlabel: props.filterLabel,\n\t\t\t\tURLParams: props.URLParams,\n\t\t\t\tcomponentType: _constants.componentTypes.dateRange\n\t\t\t});\n\t\t}\n\t};\n};\n\nDateRange.propTypes = {\n\tupdateQuery: _types2.default.funcRequired,\n\tselectedValue: _types2.default.selectedValue,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tsetCustomQuery: _types2.default.funcRequired,\n\t// component props\n\tautoFocusEnd: _types2.default.bool,\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tcomponentId: _types2.default.stringRequired,\n\tdataField: _types2.default.dataFieldArray,\n\tdayPickerInputProps: _types2.default.props,\n\tdefaultValue: _types2.default.dateObject,\n\tvalue: _types2.default.dateObject,\n\tfilterLabel: _types2.default.string,\n\tfocused: _types2.default.bool,\n\tinitialMonth: _types2.default.dateObject,\n\tinnerClass: _types2.default.style,\n\tnumberOfMonths: _types2.default.number,\n\tonQueryChange: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\tplaceholder: _types2.default.rangeLabels,\n\tnestedField: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatDate,\n\tparseDate: _types2.default.func,\n\treact: _types2.default.react,\n\tshowClear: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\tstyle: _types2.default.style,\n\ttheme: _types2.default.style,\n\ttitle: _types2.default.string\n};\n\nDateRange.defaultProps = {\n\tautoFocusEnd: true,\n\tnumberOfMonths: 2,\n\tplaceholder: {\n\t\tstart: 'Start date',\n\t\tend: 'End date'\n\t},\n\tshowClear: true,\n\tshowFilter: true,\n\tqueryFormat: 'epoch_millis'\n};\n\n// Add componentType for SSR\nDateRange.componentType = _constants.componentTypes.dateRange;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\tselectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n\treturn _react2.default.createElement(\n\t\t_ComponentWrapper2.default,\n\t\t_extends({}, props, { componentType: _constants.componentTypes.dateRange }),\n\t\tfunction () {\n\t\t\treturn _react2.default.createElement(DateRange, _extends({ ref: props.myForwardedRef }, props));\n\t\t}\n\t);\n}));\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DateRange);\n\nForwardRefComponent.name = 'DateRange';\nexports.default = ForwardRefComponent;"]},"metadata":{},"sourceType":"script"}