{"ast":null,"code":"var _jsxFileName = \"/Users/rogetgeoffroy/Desktop/Folders/react_js_folder/react-live-search-app/live-search/src/components/search.js\";\nimport React from 'react';\nimport '../css/search.css';\nimport axios from 'axios';\nimport Loader from '../loader.gif';\nimport PageNavigation from './pageNavigation';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getPageCount = (total, denominator) => {\n      const divisible = 0 === total % denominator;\n      const valueToBeAdded = divisible ? 0 : 1;\n      return Math.floor(total / denominator) + valueToBeAdded;\n    };\n\n    this.fetchSearchResults = (updatedPageNo = '', query) => {\n      const pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : ''; //const pageNumber = updatedPageNo ? `&count=${updatedPageNo}` : '';\n      //const searchUrl = `https://pixabay.com/api/?key=18255850-16d32335bc5b9c156925ab6b5&q=${query}${pageNumber}`;\n      //const searchUrl = `https://jsonplaceholder.typicode.com/photos&q=${query}${pageNumber}`\n      //const searchUrl = `https://source.unsplash.com/featured/?${query}`\n\n      const searchUrl = `https://api.unsplash.com/search/photos/?${pageNumber}&query=${query}`;\n\n      if (this.cancel) {\n        this.cancel.cancel();\n      }\n\n      this.cancel = axios.CancelToken.source();\n      axios.get(searchUrl, {\n        cancelToken: this.cancel.token\n      }).then(res => {\n        const total = res.data.total;\n        const totalPagesCount = this.getPageCount(total, 20);\n        const resultNotFoundMsg = !res.data.hits.length ? 'There are no more search results. Please try a new search' : '';\n        this.setState({\n          results: res.data.hits,\n          message: resultNotFoundMsg,\n          totalResults: total,\n          totalPages: totalPagesCount,\n          currentPageNo: updatedPageNo,\n          loading: false\n        });\n      }).catch(error => {\n        if (axios.isCancel(error) || error) {\n          this.setState({\n            loading: false,\n            message: 'Failed to fetch the data. Please check network'\n          });\n        }\n      });\n    };\n\n    this.handleOnInputChange = event => {\n      const query = event.target.value;\n\n      if (!query) {\n        this.setState({\n          query,\n          results: {},\n          message: '',\n          totalPages: 0,\n          totalResults: 0\n        });\n      } else {\n        this.setState({\n          query,\n          loading: true,\n          message: ''\n        }, () => {\n          this.fetchSearchResults(1, query);\n        });\n      }\n    };\n\n    this.handlePageClick = type => {\n      type.event.preventDefault();\n      const updatePageNo = 'prev' === type ? this.state.currentPageNo - 1 : this.state.currentPageNo + 1;\n\n      if (!this.state.loading) {\n        this.setState({\n          loading: true,\n          message: ''\n        }, () => {\n          this.fetchSearchResults(updatePageNo, this.state.query);\n        });\n      }\n    };\n\n    this.renderSearchResults = () => {\n      const {\n        results\n      } = this.state;\n\n      if (Object.keys(results).length && results.length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"results-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 5\n          }\n        }, results.map(result => {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: result.id,\n            href: result.previewURL,\n            className: \"result-item\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }\n          }, /*#__PURE__*/React.createElement(\"h6\", {\n            className: \"image-username\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 9\n            }\n          }, result.user), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"image-wrapper\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 9\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"image\",\n            src: result.previewURL,\n            alt: `${result.username}`,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 10\n            }\n          })));\n        }));\n      }\n    };\n\n    this.state = {\n      query: '',\n      results: {},\n      loading: false,\n      message: '',\n      totalResults: 0,\n      totalPages: 0,\n      currentPageNo: 0\n    };\n    this.cancel = '';\n  }\n  /**\n   * Get the Total Pages count.\n   *\n   * @param total\n   * @param denominator Count of results per page\n   * @return {number}\n   */\n\n\n  render() {\n    const {\n      query,\n      loading,\n      message,\n      currentPageNo,\n      totalPages\n    } = this.state;\n    const showPrevLink = 1 < currentPageNo;\n    const showNextLink = totalPages > currentPageNo;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 4\n      }\n    }, \"Live Search: React Application\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"search-label\",\n      htmlFor: \"search-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"query\",\n      value: query,\n      id: \"search-input\",\n      placeholder: \"Search...\",\n      onChange: this.handleOnInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search search-icon\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }\n    })), message && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, message), /*#__PURE__*/React.createElement(\"img\", {\n      src: Loader,\n      className: `search-loading ${loading ? 'show' : 'hide'}`,\n      alt: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(PageNavigation, {\n      loading: loading,\n      showPrevLink: showPrevLink,\n      showNextLink: showNextLink,\n      handlePrevClick: () => this.handlePageClick('prev', this.event),\n      handleNextClick: () => this.handlePageClick('next', this.event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 4\n      }\n    }), this.renderSearchResults(), /*#__PURE__*/React.createElement(PageNavigation, {\n      loading: loading,\n      showPrevLink: showPrevLink,\n      showNextLink: showNextLink,\n      handlePrevClick: () => this.handlePageClick('prev', this.event),\n      handleNextClick: () => this.handlePageClick('next', this.event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 4\n      }\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/rogetgeoffroy/Desktop/Folders/react_js_folder/react-live-search-app/live-search/src/components/search.js"],"names":["React","axios","Loader","PageNavigation","Search","Component","constructor","props","getPageCount","total","denominator","divisible","valueToBeAdded","Math","floor","fetchSearchResults","updatedPageNo","query","pageNumber","searchUrl","cancel","CancelToken","source","get","cancelToken","token","then","res","data","totalPagesCount","resultNotFoundMsg","hits","length","setState","results","message","totalResults","totalPages","currentPageNo","loading","catch","error","isCancel","handleOnInputChange","event","target","value","handlePageClick","type","preventDefault","updatePageNo","state","renderSearchResults","Object","keys","map","result","id","previewURL","user","username","render","showPrevLink","showNextLink"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/search.css';\nimport axios from 'axios';\nimport Loader from '../loader.gif';\nimport PageNavigation from './pageNavigation';\n\nclass Search extends React.Component {\n\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tquery: '',\n\t\t\tresults: {},\n\t\t\tloading: false,\n\t\t\tmessage: '',\n\t\t\ttotalResults: 0,\n\t\t\ttotalPages: 0,\n\t\t\tcurrentPageNo: 0,\n\t\t};\n\n\t\tthis.cancel = '';\n\t}\n\n\n\t/**\n\t * Get the Total Pages count.\n\t *\n\t * @param total\n\t * @param denominator Count of results per page\n\t * @return {number}\n\t */\n\tgetPageCount = ( total, denominator ) => {\n\t\tconst divisible\t= 0 === total % denominator;\n\t\tconst valueToBeAdded = divisible ? 0 : 1;\n\t\treturn Math.floor( total/denominator ) + valueToBeAdded;\n\t};\n\n\t/**\n\t * Fetch the search results and update the state with the result.\n\t * Also cancels the previous query before making the new one.\n\t *\n\t * @param {int} updatedPageNo Updated Page No.\n\t * @param {String} query Search Query.\n\t *\n\t */\n\tfetchSearchResults = ( updatedPageNo = '', query ) => {\n\t\tconst pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : '';\n\t\t//const pageNumber = updatedPageNo ? `&count=${updatedPageNo}` : '';\n\n\t\t//const searchUrl = `https://pixabay.com/api/?key=18255850-16d32335bc5b9c156925ab6b5&q=${query}${pageNumber}`;\n\t\t//const searchUrl = `https://jsonplaceholder.typicode.com/photos&q=${query}${pageNumber}`\n\t\t//const searchUrl = `https://source.unsplash.com/featured/?${query}`\n\t\tconst searchUrl = `https://api.unsplash.com/search/photos/?${pageNumber}&query=${query}`\n\t\tif( this.cancel ) {\n\t\t\tthis.cancel.cancel();\n\t\t}\n\n\t\tthis.cancel = axios.CancelToken.source();\n\n\t\taxios.get( searchUrl, {\n\t\t\tcancelToken: this.cancel.token\n\t\t} )\n\t\t\t.then( res => {\n\t\t\t\tconst total = res.data.total;\n\t\t\t\tconst totalPagesCount = this.getPageCount( total, 20 );\n\t\t\t\tconst resultNotFoundMsg = ! res.data.hits.length\n\t\t\t\t\t\t\t\t\t\t? 'There are no more search results. Please try a new search'\n\t\t\t\t\t\t\t\t\t\t: '';\n\t\t\t\tthis.setState( {\n\t\t\t\t\tresults: res.data.hits,\n\t\t\t\t\tmessage: resultNotFoundMsg,\n\t\t\t\t\ttotalResults: total,\n\t\t\t\t\ttotalPages: totalPagesCount,\n\t\t\t\t\tcurrentPageNo: updatedPageNo,\n\t\t\t\t\tloading: false\n\t\t\t\t} )\n\t\t\t} )\n\t\t\t.catch( error => {\n\t\t\t\tif ( axios.isCancel(error) || error ) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tmessage: 'Failed to fetch the data. Please check network'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} )\n\t};\n\n\thandleOnInputChange = ( event ) => {\n\t\tconst query = event.target.value;\n\t\tif ( ! query ) {\n\t\t\tthis.setState( { query, results: {}, message: '', totalPages: 0, totalResults: 0 } );\n\t\t} else {\n\t\t\tthis.setState( { query, loading: true, message: '' }, () => {\n\t\t\t\tthis.fetchSearchResults( 1, query );\n\t\t\t} );\n\t\t}\n\t};\n\n\t/**\n\t * Fetch results according to the prev or next page requests.\n\t *\n\t * @param {String} type 'prev' or 'next'\n\t */\n\thandlePageClick = ( type ) => {\n\t\ttype.event.preventDefault();\n\t\tconst updatePageNo = 'prev' === type\n\t\t\t? this.state.currentPageNo - 1\n\t\t\t: this.state.currentPageNo + 1;\n\n\t\tif( ! this.state.loading  ) {\n\t\t\tthis.setState( { loading: true, message: '' }, () => {\n\t\t\t\tthis.fetchSearchResults( updatePageNo, this.state.query );\n\t\t\t} );\n\t\t}\n\t};\n\n\trenderSearchResults = () => {\n\t\tconst { results } = this.state;\n\n\t\tif ( Object.keys( results ).length && results.length ) {\n\t\t\treturn (\n\t\t\t\t<div className=\"results-container\">\n\t\t\t\t\t{ results.map( result => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a key={ result.id } href={ result.previewURL } className=\"result-item\">\n\t\t\t\t\t\t\t\t<h6 className=\"image-username\">{result.user}</h6>\n\t\t\t\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t\t\t\t<img className=\"image\" src={ result.previewURL } alt={`${result.username}`}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)\n\t\t\t\t\t} ) }\n\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { query, loading, message, currentPageNo, totalPages } = this.state;\n\n\t\tconst showPrevLink = 1 < currentPageNo;\n\t\tconst showNextLink = totalPages > currentPageNo;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t{/*\tHeading*/}\n\t\t\t<h2 className=\"heading\">Live Search: React Application</h2>\n\t\t\t{/* Search Input*/}\n\t\t\t<label className=\"search-label\" htmlFor=\"search-input\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"query\"\n\t\t\t\t\tvalue={ query }\n\t\t\t\t\tid=\"search-input\"\n\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\tonChange={this.handleOnInputChange}\n\t\t\t\t/>\n\t\t\t\t<i className=\"fa fa-search search-icon\" aria-hidden=\"true\"/>\n\t\t\t</label>\n\n\t\t\t{/*\tError Message*/}\n\t\t\t\t{message && <p className=\"message\">{ message }</p>}\n\n\t\t\t{/*\tLoader*/}\n\t\t\t<img src={ Loader } className={`search-loading ${ loading ? 'show' : 'hide' }`} alt=\"loader\"/>\n\n\t\t\t{/*Navigation*/}\n\t\t\t<PageNavigation\n\t\t\t\tloading={loading}\n\t\t\t\tshowPrevLink={showPrevLink}\n\t\t\t\tshowNextLink={showNextLink}\n\t\t\t\thandlePrevClick={ () => this.handlePageClick('prev', this.event )}\n\t\t\t\thandleNextClick={ () => this.handlePageClick('next', this.event )}\n\t\t\t/>\n\n\t\t\t{/*\tResult*/}\n\t\t\t{ this.renderSearchResults() }\n\n\t\t\t{/*Navigation*/}\n\t\t\t<PageNavigation\n\t\t\t\tloading={loading}\n\t\t\t\tshowPrevLink={showPrevLink}\n\t\t\t\tshowNextLink={showNextLink}\n\t\t\t\thandlePrevClick={ () => this.handlePageClick('prev', this.event )}\n\t\t\t\thandleNextClick={ () => this.handlePageClick('next', this.event )}\n\t\t\t/>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}