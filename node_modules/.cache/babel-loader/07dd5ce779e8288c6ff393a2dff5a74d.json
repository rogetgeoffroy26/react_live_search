{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _SliderConstants = require('./constants/SliderConstants');\n\nvar SliderConstants = _interopRequireWildcard(_SliderConstants);\n\nvar _linear = require('./algorithms/linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* globals document */\n\n/* eslint react/no-array-index-key: 1 */\n\n\nfunction getClassName(props) {\n  var orientation = props.orientation === 'vertical' ? 'rheostat-vertical' : 'rheostat-horizontal';\n  return ['rheostat', orientation].concat(props.className.split(' ')).join(' ');\n}\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes2['default'].arrayOf(_propTypes2['default'].number);\n\nvar PropTypeReactComponent = _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute('data-handle-key'));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function () {\n      function render() {\n        return _react2['default'].createElement('button', _extends({}, this.props, {\n          type: 'button'\n        }));\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Button;\n}(_react2['default'].Component);\n\nvar propTypes = {\n  // the algorithm to use\n  algorithm: _propTypes2['default'].shape({\n    getValue: _propTypes2['default'].func,\n    getPosition: _propTypes2['default'].func\n  }),\n  // any children you pass in\n  children: _propTypes2['default'].node,\n  // standard class name you'd like to apply to the root element\n  className: _propTypes2['default'].string,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes2['default'].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes2['default'].number,\n  // the minimum possible value\n  min: _propTypes2['default'].number,\n  // called on click\n  onClick: _propTypes2['default'].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes2['default'].func,\n  // called on key press\n  onKeyPress: _propTypes2['default'].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes2['default'].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes2['default'].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes2['default'].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes2['default'].func,\n  // the orientation\n  orientation: _propTypes2['default'].oneOf(['horizontal', 'vertical']),\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes2['default'].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // whether a proposed update is valid\n  getNextHandlePosition: _propTypes2['default'].func,\n  // the values\n  values: PropTypeArrOfNumber\n};\nvar defaultProps = {\n  algorithm: _linear2['default'],\n  className: '',\n  children: null,\n  disabled: false,\n  handle: Button,\n  max: SliderConstants.PERCENT_FULL,\n  min: SliderConstants.PERCENT_EMPTY,\n  onClick: null,\n  onChange: null,\n  onKeyPress: null,\n  onSliderDragEnd: null,\n  onSliderDragMove: null,\n  onSliderDragStart: null,\n  onValuesUpdated: null,\n  orientation: 'horizontal',\n  pitComponent: null,\n  pitPoints: [],\n  progressBar: 'div',\n  snap: false,\n  snapPoints: [],\n  getNextHandlePosition: null,\n  values: [SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat = function (_React$Component2) {\n  _inherits(Rheostat, _React$Component2);\n\n  function Rheostat(props) {\n    _classCallCheck(this, Rheostat);\n\n    var _this2 = _possibleConstructorReturn(this, (Rheostat.__proto__ || Object.getPrototypeOf(Rheostat)).call(this, props));\n\n    var _this2$props = _this2.props,\n        algorithm = _this2$props.algorithm,\n        max = _this2$props.max,\n        min = _this2$props.min,\n        values = _this2$props.values;\n    _this2.state = {\n      className: getClassName(_this2.props),\n      handlePos: values.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      // mousePos: null,\n      sliderBox: {},\n      slidingIndex: null,\n      values: values\n    };\n    _this2.getPublicState = _this2.getPublicState.bind(_this2);\n    _this2.getSliderBoundingBox = _this2.getSliderBoundingBox.bind(_this2);\n    _this2.getProgressStyle = _this2.getProgressStyle.bind(_this2);\n    _this2.getMinValue = _this2.getMinValue.bind(_this2);\n    _this2.getMaxValue = _this2.getMaxValue.bind(_this2);\n    _this2.getHandleDimensions = _this2.getHandleDimensions.bind(_this2);\n    _this2.getClosestSnapPoint = _this2.getClosestSnapPoint.bind(_this2);\n    _this2.getSnapPosition = _this2.getSnapPosition.bind(_this2);\n    _this2.getNextPositionForKey = _this2.getNextPositionForKey.bind(_this2);\n    _this2.getNextState = _this2.getNextState.bind(_this2);\n    _this2.handleClick = _this2.handleClick.bind(_this2);\n    _this2.getClosestHandle = _this2.getClosestHandle.bind(_this2);\n    _this2.setStartSlide = _this2.setStartSlide.bind(_this2);\n    _this2.startMouseSlide = _this2.startMouseSlide.bind(_this2);\n    _this2.startTouchSlide = _this2.startTouchSlide.bind(_this2);\n    _this2.handleMouseSlide = _this2.handleMouseSlide.bind(_this2);\n    _this2.handleTouchSlide = _this2.handleTouchSlide.bind(_this2);\n    _this2.handleSlide = _this2.handleSlide.bind(_this2);\n    _this2.endSlide = _this2.endSlide.bind(_this2);\n    _this2.handleKeydown = _this2.handleKeydown.bind(_this2);\n    _this2.validatePosition = _this2.validatePosition.bind(_this2);\n    _this2.validateValues = _this2.validateValues.bind(_this2);\n    _this2.canMove = _this2.canMove.bind(_this2);\n    _this2.fireChangeEvent = _this2.fireChangeEvent.bind(_this2);\n    _this2.slideTo = _this2.slideTo.bind(_this2);\n    _this2.updateNewValues = _this2.updateNewValues.bind(_this2);\n    _this2.setRef = _this2.setRef.bind(_this2);\n    _this2.invalidatePitStyleCache = _this2.invalidatePitStyleCache.bind(_this2);\n    _this2.pitStyleCache = {};\n    return _this2;\n  }\n\n  _createClass(Rheostat, [{\n    key: 'componentWillReceiveProps',\n    value: function () {\n      function componentWillReceiveProps(nextProps) {\n        var _props = this.props,\n            className = _props.className,\n            disabled = _props.disabled,\n            min = _props.min,\n            max = _props.max,\n            orientation = _props.orientation,\n            pitPoints = _props.pitPoints,\n            algorithm = _props.algorithm;\n        var _state = this.state,\n            values = _state.values,\n            slidingIndex = _state.slidingIndex;\n        var minMaxChanged = nextProps.min !== min || nextProps.max !== max;\n        var valuesChanged = values.length !== nextProps.values.length || values.some(function (value, idx) {\n          return nextProps.values[idx] !== value;\n        });\n        var orientationChanged = nextProps.className !== className || nextProps.orientation !== orientation;\n        var algorithmChanged = nextProps.algorithm !== algorithm;\n        var pitPointsChanged = nextProps.pitPoints !== pitPoints;\n        var willBeDisabled = nextProps.disabled && !disabled;\n\n        if (orientationChanged) {\n          this.setState({\n            className: getClassName(nextProps)\n          });\n        }\n\n        if (minMaxChanged || valuesChanged) this.updateNewValues(nextProps);\n\n        if (minMaxChanged || pitPointsChanged || orientationChanged || algorithmChanged) {\n          this.invalidatePitStyleCache();\n        }\n\n        if (willBeDisabled && slidingIndex !== null) {\n          this.endSlide();\n        }\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: 'getPublicState',\n    value: function () {\n      function getPublicState() {\n        var _props2 = this.props,\n            min = _props2.min,\n            max = _props2.max;\n        var values = this.state.values;\n        return {\n          max: max,\n          min: min,\n          values: values\n        };\n      }\n\n      return getPublicState;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'getSliderBoundingBox',\n    value: function () {\n      function getSliderBoundingBox() {\n        var rheostat = this.rheostat;\n        var node = rheostat.getDOMNode ? rheostat.getDOMNode() : rheostat;\n        var rect = node.getBoundingClientRect();\n        return {\n          height: rect.height || node.clientHeight,\n          left: rect.left,\n          top: rect.top,\n          width: rect.width || node.clientWidth\n        };\n      }\n\n      return getSliderBoundingBox;\n    }()\n  }, {\n    key: 'getProgressStyle',\n    value: function () {\n      function getProgressStyle(idx) {\n        var orientation = this.props.orientation;\n        var handlePos = this.state.handlePos;\n        var value = handlePos[idx];\n\n        if (idx === 0) {\n          return orientation === 'vertical' ? {\n            height: String(value) + '%',\n            top: 0\n          } : {\n            left: 0,\n            width: String(value) + '%'\n          };\n        }\n\n        var prevValue = handlePos[idx - 1];\n        var diffValue = value - prevValue;\n        return orientation === 'vertical' ? {\n          height: diffValue + '%',\n          top: String(prevValue) + '%'\n        } : {\n          left: String(prevValue) + '%',\n          width: diffValue + '%'\n        };\n      }\n\n      return getProgressStyle;\n    }()\n  }, {\n    key: 'getMinValue',\n    value: function () {\n      function getMinValue(idx) {\n        var min = this.props.min;\n        var values = this.state.values;\n        return values[idx - 1] ? Math.max(min, values[idx - 1]) : min;\n      }\n\n      return getMinValue;\n    }()\n  }, {\n    key: 'getMaxValue',\n    value: function () {\n      function getMaxValue(idx) {\n        var max = this.props.max;\n        var values = this.state.values;\n        return values[idx + 1] ? Math.min(max, values[idx + 1]) : max;\n      }\n\n      return getMaxValue;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'getHandleDimensions',\n    value: function () {\n      function getHandleDimensions(ev, sliderBox) {\n        var handleNode = ev.currentTarget || null;\n        if (!handleNode) return 0;\n        return this.props.orientation === 'vertical' ? handleNode.clientHeight / sliderBox.height * SliderConstants.PERCENT_FULL / 2 : handleNode.clientWidth / sliderBox.width * SliderConstants.PERCENT_FULL / 2;\n      }\n\n      return getHandleDimensions;\n    }()\n  }, {\n    key: 'getClosestSnapPoint',\n    value: function () {\n      function getClosestSnapPoint(value) {\n        var snapPoints = this.props.snapPoints;\n        if (!snapPoints.length) return value;\n        return snapPoints.reduce(function (snapTo, snap) {\n          return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n        });\n      }\n\n      return getClosestSnapPoint;\n    }()\n  }, {\n    key: 'getSnapPosition',\n    value: function () {\n      function getSnapPosition(positionPercent) {\n        var _props3 = this.props,\n            algorithm = _props3.algorithm,\n            max = _props3.max,\n            min = _props3.min,\n            snap = _props3.snap;\n        if (!snap) return positionPercent;\n        var value = algorithm.getValue(positionPercent, min, max);\n        var snapValue = this.getClosestSnapPoint(value);\n        return algorithm.getPosition(snapValue, min, max);\n      }\n\n      return getSnapPosition;\n    }()\n  }, {\n    key: 'getNextPositionForKey',\n    value: function () {\n      function getNextPositionForKey(idx, keyCode) {\n        var _stepMultiplier;\n\n        var _state2 = this.state,\n            handlePos = _state2.handlePos,\n            values = _state2.values;\n        var _props4 = this.props,\n            algorithm = _props4.algorithm,\n            max = _props4.max,\n            min = _props4.min,\n            snapPoints = _props4.snapPoints,\n            shouldSnap = _props4.snap;\n        var proposedValue = values[idx];\n        var proposedPercentage = handlePos[idx];\n        var originalPercentage = proposedPercentage;\n        var stepValue = 1;\n\n        if (max >= 100) {\n          proposedPercentage = Math.round(proposedPercentage);\n        } else {\n          stepValue = 100 / (max - min);\n        }\n\n        var currentIndex = null;\n\n        if (shouldSnap) {\n          currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n        }\n\n        var stepMultiplier = (_stepMultiplier = {}, _defineProperty(_stepMultiplier, SliderConstants.KEYS.LEFT, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.RIGHT, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.UP, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.DOWN, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_DOWN, function (v) {\n          return v > 1 ? -v : v * -10;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_UP, function (v) {\n          return v > 1 ? v : v * 10;\n        }), _stepMultiplier);\n\n        if (has.call(stepMultiplier, keyCode)) {\n          proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n          if (shouldSnap) {\n            if (proposedPercentage > originalPercentage) {\n              // move cursor right unless overflow\n              if (currentIndex < snapPoints.length - 1) {\n                proposedValue = snapPoints[currentIndex + 1];\n              } // move cursor left unless there is overflow\n\n            } else if (currentIndex > 0) {\n              proposedValue = snapPoints[currentIndex - 1];\n            }\n          }\n        } else if (keyCode === SliderConstants.KEYS.HOME) {\n          proposedPercentage = SliderConstants.PERCENT_EMPTY;\n\n          if (shouldSnap) {\n            var _snapPoints = _slicedToArray(snapPoints, 1);\n\n            proposedValue = _snapPoints[0];\n          }\n        } else if (keyCode === SliderConstants.KEYS.END) {\n          proposedPercentage = SliderConstants.PERCENT_FULL;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[snapPoints.length - 1];\n          }\n        } else {\n          return null;\n        }\n\n        return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n      }\n\n      return getNextPositionForKey;\n    }()\n  }, {\n    key: 'getNextState',\n    value: function () {\n      function getNextState(idx, proposedPosition) {\n        var handlePos = this.state.handlePos;\n        var _props5 = this.props,\n            max = _props5.max,\n            min = _props5.min,\n            algorithm = _props5.algorithm;\n        var actualPosition = this.validatePosition(idx, proposedPosition);\n        var nextHandlePos = handlePos.map(function (pos, index) {\n          return index === idx ? actualPosition : pos;\n        });\n        return {\n          handlePos: nextHandlePos,\n          values: nextHandlePos.map(function (pos) {\n            return algorithm.getValue(pos, min, max);\n          })\n        };\n      }\n\n      return getNextState;\n    }()\n  }, {\n    key: 'getClosestHandle',\n    value: function () {\n      function getClosestHandle(positionPercent) {\n        var handlePos = this.state.handlePos;\n        return handlePos.reduce(function (closestIdx, node, idx) {\n          var challenger = Math.abs(handlePos[idx] - positionPercent);\n          var current = Math.abs(handlePos[closestIdx] - positionPercent);\n          return challenger < current ? idx : closestIdx;\n        }, 0);\n      }\n\n      return getClosestHandle;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'setStartSlide',\n    value: function () {\n      function setStartSlide(ev\n      /* , x, y */\n      ) {\n        var sliderBox = this.getSliderBoundingBox();\n        this.setState({\n          handleDimensions: this.getHandleDimensions(ev, sliderBox),\n          // mousePos: { x, y },\n          sliderBox: sliderBox,\n          slidingIndex: getHandleFor(ev)\n        });\n      }\n\n      return setStartSlide;\n    }()\n  }, {\n    key: 'setRef',\n    value: function () {\n      function setRef(ref) {\n        this.rheostat = ref;\n      }\n\n      return setRef;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'startMouseSlide',\n    value: function () {\n      function startMouseSlide(ev) {\n        this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n        if (typeof document.addEventListener === 'function') {\n          document.addEventListener('mousemove', this.handleMouseSlide, false);\n          document.addEventListener('mouseup', this.endSlide, false);\n        } else {\n          document.attachEvent('onmousemove', this.handleMouseSlide);\n          document.attachEvent('onmouseup', this.endSlide);\n        }\n\n        killEvent(ev);\n      }\n\n      return startMouseSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'startTouchSlide',\n    value: function () {\n      function startTouchSlide(ev) {\n        var onSliderDragStart = this.props.onSliderDragStart;\n        if (ev.changedTouches.length > 1) return;\n        var touch = ev.changedTouches[0];\n        this.setStartSlide(ev, touch.clientX, touch.clientY);\n        document.addEventListener('touchmove', this.handleTouchSlide, false);\n        document.addEventListener('touchend', this.endSlide, false);\n        if (onSliderDragStart) onSliderDragStart();\n        killEvent(ev);\n      }\n\n      return startTouchSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'handleMouseSlide',\n    value: function () {\n      function handleMouseSlide(ev) {\n        var slidingIndex = this.state.slidingIndex;\n        if (slidingIndex === null) return;\n        this.handleSlide(ev.clientX, ev.clientY);\n        killEvent(ev);\n      }\n\n      return handleMouseSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'handleTouchSlide',\n    value: function () {\n      function handleTouchSlide(ev) {\n        var slidingIndex = this.state.slidingIndex;\n        if (slidingIndex === null) return;\n\n        if (ev.changedTouches.length > 1) {\n          this.endSlide();\n          return;\n        }\n\n        var touch = ev.changedTouches[0];\n        this.handleSlide(touch.clientX, touch.clientY);\n        killEvent(ev);\n      }\n\n      return handleTouchSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'handleSlide',\n    value: function () {\n      function handleSlide(x, y) {\n        var _props6 = this.props,\n            orientation = _props6.orientation,\n            onSliderDragMove = _props6.onSliderDragMove;\n        var _state3 = this.state,\n            idx = _state3.slidingIndex,\n            sliderBox = _state3.sliderBox;\n        var positionPercent = orientation === 'vertical' ? (y - sliderBox.top) / sliderBox.height * SliderConstants.PERCENT_FULL : (x - sliderBox.left) / sliderBox.width * SliderConstants.PERCENT_FULL;\n        this.slideTo(idx, positionPercent);\n\n        if (this.canMove(idx, positionPercent)) {\n          if (onSliderDragMove) onSliderDragMove();\n        }\n      }\n\n      return handleSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'endSlide',\n    value: function () {\n      function endSlide() {\n        var _this3 = this;\n\n        var _props7 = this.props,\n            onSliderDragEnd = _props7.onSliderDragEnd,\n            snap = _props7.snap;\n        var _state4 = this.state,\n            slidingIndex = _state4.slidingIndex,\n            handlePos = _state4.handlePos;\n        this.setState({\n          slidingIndex: null\n        });\n\n        if (typeof document.removeEventListener === 'function') {\n          document.removeEventListener('mouseup', this.endSlide, false);\n          document.removeEventListener('touchend', this.endSlide, false);\n          document.removeEventListener('touchmove', this.handleTouchSlide, false);\n          document.removeEventListener('mousemove', this.handleMouseSlide, false);\n        } else {\n          document.detachEvent('onmousemove', this.handleMouseSlide);\n          document.detachEvent('onmouseup', this.endSlide);\n        }\n\n        if (onSliderDragEnd) onSliderDragEnd();\n\n        if (snap) {\n          var positionPercent = this.getSnapPosition(handlePos[slidingIndex]);\n          this.slideTo(slidingIndex, positionPercent, function () {\n            return _this3.fireChangeEvent();\n          });\n        } else {\n          this.fireChangeEvent();\n        }\n      }\n\n      return endSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'handleClick',\n    value: function () {\n      function handleClick(ev) {\n        var _this4 = this;\n\n        if (ev.target.getAttribute('data-handle-key')) {\n          return;\n        }\n\n        var _props8 = this.props,\n            orientation = _props8.orientation,\n            onClick = _props8.onClick; // Calculate the position of the slider on the page so we can determine\n        // the position where you click in relativity.\n\n        var sliderBox = this.getSliderBoundingBox();\n        var positionDecimal = orientation === 'vertical' ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n        var positionPercent = positionDecimal * SliderConstants.PERCENT_FULL;\n        var handleId = this.getClosestHandle(positionPercent);\n        var validPositionPercent = this.getSnapPosition(positionPercent); // Move the handle there\n\n        this.slideTo(handleId, validPositionPercent, function () {\n          return _this4.fireChangeEvent();\n        });\n        if (onClick) onClick();\n      }\n\n      return handleClick;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'handleKeydown',\n    value: function () {\n      function handleKeydown(ev) {\n        var _this5 = this;\n\n        var idx = getHandleFor(ev);\n\n        if (ev.keyCode === SliderConstants.KEYS.ESC) {\n          ev.currentTarget.blur();\n          return;\n        }\n\n        var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n        if (proposedPercentage === null) return;\n\n        if (this.canMove(idx, proposedPercentage)) {\n          this.slideTo(idx, proposedPercentage, function () {\n            return _this5.fireChangeEvent();\n          });\n          var onKeyPress = this.props.onKeyPress;\n          if (onKeyPress) onKeyPress();\n        }\n\n        killEvent(ev);\n      }\n\n      return handleKeydown;\n    }() // Apply user adjustments to position\n\n  }, {\n    key: 'userAdjustPosition',\n    value: function () {\n      function userAdjustPosition(idx, proposedPosition) {\n        var getNextHandlePosition = this.props.getNextHandlePosition;\n        var nextPosition = proposedPosition;\n\n        if (getNextHandlePosition) {\n          nextPosition = parseFloat(getNextHandlePosition(idx, proposedPosition));\n\n          if (Number.isNaN(nextPosition) || nextPosition < SliderConstants.PERCENT_EMPTY || nextPosition > SliderConstants.PERCENT_FULL) {\n            throw new TypeError('getNextHandlePosition returned invalid position. Valid positions are floats between 0 and 100');\n          }\n        }\n\n        return nextPosition;\n      }\n\n      return userAdjustPosition;\n    }() // Make sure the proposed position respects the bounds and\n    // does not collide with other handles too much.\n\n  }, {\n    key: 'validatePosition',\n    value: function () {\n      function validatePosition(idx, proposedPosition) {\n        var _state5 = this.state,\n            handlePos = _state5.handlePos,\n            handleDimensions = _state5.handleDimensions;\n        var nextPosition = this.userAdjustPosition(idx, proposedPosition);\n        return Math.max(Math.min(nextPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : SliderConstants.PERCENT_FULL // 100% is the highest value\n        ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n        );\n      }\n\n      return validatePosition;\n    }()\n  }, {\n    key: 'validateValues',\n    value: function () {\n      function validateValues(proposedValues, props) {\n        var _ref = props || this.props,\n            max = _ref.max,\n            min = _ref.min;\n\n        return proposedValues.map(function (value, idx, values) {\n          var realValue = Math.max(Math.min(value, max), min);\n\n          if (values.length && realValue < values[idx - 1]) {\n            return values[idx - 1];\n          }\n\n          return realValue;\n        });\n      }\n\n      return validateValues;\n    }() // Can we move the slider to the given position?\n\n  }, {\n    key: 'canMove',\n    value: function () {\n      function canMove(idx, proposedPosition) {\n        var _state6 = this.state,\n            handlePos = _state6.handlePos,\n            handleDimensions = _state6.handleDimensions;\n        if (proposedPosition < SliderConstants.PERCENT_EMPTY) return false;\n        if (proposedPosition > SliderConstants.PERCENT_FULL) return false;\n        var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : Infinity;\n        if (proposedPosition > nextHandlePosition) return false;\n        var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : -Infinity;\n        if (proposedPosition < prevHandlePosition) return false;\n        return true;\n      }\n\n      return canMove;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'fireChangeEvent',\n    value: function () {\n      function fireChangeEvent() {\n        var onChange = this.props.onChange;\n        if (onChange) onChange(this.getPublicState());\n      }\n\n      return fireChangeEvent;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'slideTo',\n    value: function () {\n      function slideTo(idx, proposedPosition, onAfterSet) {\n        var _this6 = this;\n\n        var nextState = this.getNextState(idx, proposedPosition);\n        this.setState(nextState, function () {\n          var onValuesUpdated = _this6.props.onValuesUpdated;\n          if (onValuesUpdated) onValuesUpdated(_this6.getPublicState());\n          if (onAfterSet) onAfterSet();\n        });\n      }\n\n      return slideTo;\n    }() // istanbul ignore next\n\n  }, {\n    key: 'updateNewValues',\n    value: function () {\n      function updateNewValues(nextProps) {\n        var _this7 = this;\n\n        var slidingIndex = this.state.slidingIndex; // Don't update while the slider is sliding\n\n        if (slidingIndex !== null) {\n          return;\n        }\n\n        var max = nextProps.max,\n            min = nextProps.min,\n            values = nextProps.values;\n        var algorithm = this.props.algorithm;\n        var nextValues = this.validateValues(values, nextProps);\n        this.setState({\n          handlePos: nextValues.map(function (value) {\n            return algorithm.getPosition(value, min, max);\n          }),\n          values: nextValues\n        }, function () {\n          return _this7.fireChangeEvent();\n        });\n      }\n\n      return updateNewValues;\n    }()\n  }, {\n    key: 'invalidatePitStyleCache',\n    value: function () {\n      function invalidatePitStyleCache() {\n        this.pitStyleCache = {};\n      }\n\n      return invalidatePitStyleCache;\n    }()\n  }, {\n    key: 'render',\n    value: function () {\n      function render() {\n        var _this8 = this;\n\n        var _props9 = this.props,\n            algorithm = _props9.algorithm,\n            children = _props9.children,\n            disabled = _props9.disabled,\n            Handle = _props9.handle,\n            max = _props9.max,\n            min = _props9.min,\n            orientation = _props9.orientation,\n            PitComponent = _props9.pitComponent,\n            pitPoints = _props9.pitPoints,\n            ProgressBar = _props9.progressBar;\n        var _state7 = this.state,\n            className = _state7.className,\n            handlePos = _state7.handlePos,\n            values = _state7.values;\n        return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n          _react2['default'].createElement('div', {\n            className: className,\n            ref: this.setRef,\n            onClick: !disabled ? this.handleClick : undefined,\n            style: {\n              position: 'relative'\n            }\n          }, _react2['default'].createElement('div', {\n            className: 'rheostat-background'\n          }), handlePos.map(function (pos, idx) {\n            var handleStyle = orientation === 'vertical' ? {\n              top: String(pos) + '%',\n              position: 'absolute'\n            } : {\n              left: String(pos) + '%',\n              position: 'absolute'\n            };\n            return _react2['default'].createElement(Handle, {\n              'aria-valuemax': _this8.getMaxValue(idx),\n              'aria-valuemin': _this8.getMinValue(idx),\n              'aria-valuenow': values[idx],\n              'aria-disabled': disabled,\n              'data-handle-key': idx,\n              className: 'rheostat-handle',\n              key: 'handle-' + String(idx),\n              onClick: _this8.killEvent,\n              onKeyDown: !disabled ? _this8.handleKeydown : undefined,\n              onMouseDown: !disabled ? _this8.startMouseSlide : undefined,\n              onTouchStart: !disabled ? _this8.startTouchSlide : undefined,\n              role: 'slider',\n              style: handleStyle,\n              tabIndex: 0\n            });\n          }), handlePos.map(function (node, idx, arr) {\n            if (idx === 0 && arr.length > 1) {\n              return null;\n            }\n\n            return _react2['default'].createElement(ProgressBar, {\n              className: 'rheostat-progress',\n              key: 'progress-bar-' + String(idx),\n              style: _this8.getProgressStyle(idx)\n            });\n          }), PitComponent && pitPoints.map(function (n) {\n            var pitStyle = _this8.pitStyleCache[n];\n\n            if (!pitStyle) {\n              var pos = algorithm.getPosition(n, min, max);\n              pitStyle = orientation === 'vertical' ? {\n                top: String(pos) + '%',\n                position: 'absolute'\n              } : {\n                left: String(pos) + '%',\n                position: 'absolute'\n              };\n              _this8.pitStyleCache[n] = pitStyle;\n            }\n\n            return _react2['default'].createElement(PitComponent, {\n              key: 'pit-' + String(n),\n              style: pitStyle\n            }, n);\n          }), children)\n        );\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Rheostat;\n}(_react2['default'].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\nexports['default'] = Rheostat;","map":{"version":3,"sources":["/Users/rogetgeoffroy/Desktop/Folders/react_js_folder/react-live-search-app/live-search/node_modules/rheostat/lib/Slider.js"],"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_SliderConstants","SliderConstants","_interopRequireWildcard","_linear","_linear2","obj","__esModule","newObj","_defineProperty","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","getClassName","orientation","concat","className","split","join","has","PropTypeArrOfNumber","arrayOf","number","PropTypeReactComponent","oneOfType","func","string","getHandleFor","ev","Number","currentTarget","getAttribute","killEvent","stopPropagation","preventDefault","Button","_React$Component","getPrototypeOf","apply","render","createElement","type","Component","propTypes","algorithm","shape","getValue","getPosition","children","node","disabled","bool","handle","max","min","onClick","onChange","onKeyPress","onSliderDragEnd","onSliderDragMove","onSliderDragStart","onValuesUpdated","oneOf","pitComponent","pitPoints","progressBar","snap","snapPoints","getNextHandlePosition","values","defaultProps","PERCENT_FULL","PERCENT_EMPTY","Rheostat","_React$Component2","_this2","_this2$props","state","handlePos","map","handleDimensions","sliderBox","slidingIndex","getPublicState","bind","getSliderBoundingBox","getProgressStyle","getMinValue","getMaxValue","getHandleDimensions","getClosestSnapPoint","getSnapPosition","getNextPositionForKey","getNextState","handleClick","getClosestHandle","setStartSlide","startMouseSlide","startTouchSlide","handleMouseSlide","handleTouchSlide","handleSlide","endSlide","handleKeydown","validatePosition","validateValues","canMove","fireChangeEvent","slideTo","updateNewValues","setRef","invalidatePitStyleCache","pitStyleCache","componentWillReceiveProps","nextProps","_props","_state","minMaxChanged","valuesChanged","some","idx","orientationChanged","algorithmChanged","pitPointsChanged","willBeDisabled","setState","_props2","rheostat","getDOMNode","rect","getBoundingClientRect","height","clientHeight","left","top","width","clientWidth","String","prevValue","diffValue","Math","handleNode","reduce","snapTo","abs","positionPercent","_props3","snapValue","keyCode","_stepMultiplier","_state2","_props4","shouldSnap","proposedValue","proposedPercentage","originalPercentage","stepValue","round","currentIndex","indexOf","stepMultiplier","KEYS","LEFT","v","RIGHT","UP","DOWN","PAGE_DOWN","PAGE_UP","HOME","_snapPoints","END","proposedPosition","_props5","actualPosition","nextHandlePos","pos","index","closestIdx","challenger","current","ref","clientX","clientY","document","addEventListener","attachEvent","changedTouches","touch","x","y","_props6","_state3","_this3","_props7","_state4","removeEventListener","detachEvent","_this4","_props8","positionDecimal","handleId","validPositionPercent","_this5","ESC","blur","userAdjustPosition","nextPosition","parseFloat","isNaN","_state5","proposedValues","_ref","realValue","_state6","nextHandlePosition","Infinity","prevHandlePosition","onAfterSet","_this6","nextState","_this7","nextValues","_this8","_props9","Handle","PitComponent","ProgressBar","_state7","style","position","handleStyle","onKeyDown","onMouseDown","onTouchStart","role","tabIndex","n","pitStyle"],"mappings":"AAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,cAAc,GAAG,YAAY;AAAE,WAASC,aAAT,CAAuBC,GAAvB,EAA4BC,CAA5B,EAA+B;AAAE,QAAIC,IAAI,GAAG,EAAX;AAAe,QAAIC,EAAE,GAAG,IAAT;AAAe,QAAIC,EAAE,GAAG,KAAT;AAAgB,QAAIC,EAAE,GAAGC,SAAT;;AAAoB,QAAI;AAAE,WAAK,IAAIC,EAAE,GAAGP,GAAG,CAACQ,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCC,EAAtC,EAA0C,EAAEP,EAAE,GAAG,CAACO,EAAE,GAAGH,EAAE,CAACI,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyET,EAAE,GAAG,IAA9E,EAAoF;AAAED,QAAAA,IAAI,CAACW,IAAL,CAAUH,EAAE,CAACb,KAAb;;AAAqB,YAAII,CAAC,IAAIC,IAAI,CAACY,MAAL,KAAgBb,CAAzB,EAA4B;AAAQ;AAAE,KAAvJ,CAAwJ,OAAOc,GAAP,EAAY;AAAEX,MAAAA,EAAE,GAAG,IAAL;AAAWC,MAAAA,EAAE,GAAGU,GAAL;AAAW,KAA5L,SAAqM;AAAE,UAAI;AAAE,YAAI,CAACZ,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAb,EAAyBA,EAAE,CAAC,QAAD,CAAF;AAAiB,OAAhD,SAAyD;AAAE,YAAIH,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE;;AAAC,WAAOH,IAAP;AAAc;;AAAC,SAAO,UAAUF,GAAV,EAAeC,CAAf,EAAkB;AAAE,QAAIe,KAAK,CAACC,OAAN,CAAcjB,GAAd,CAAJ,EAAwB;AAAE,aAAOA,GAAP;AAAa,KAAvC,MAA6C,IAAIQ,MAAM,CAACC,QAAP,IAAmBf,MAAM,CAACM,GAAD,CAA7B,EAAoC;AAAE,aAAOD,aAAa,CAACC,GAAD,EAAMC,CAAN,CAApB;AAA+B,KAArE,MAA2E;AAAE,YAAM,IAAIiB,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,GAArO;AAAwO,CAAhoB,EAArB;;AAEA,IAAIC,QAAQ,GAAGzB,MAAM,CAAC0B,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqB,SAAS,CAACR,MAA9B,EAAsCb,CAAC,EAAvC,EAA2C;AAAE,QAAIsB,MAAM,GAAGD,SAAS,CAACrB,CAAD,CAAtB;;AAA2B,SAAK,IAAIuB,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAI7B,MAAM,CAAC+B,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEH,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOH,MAAP;AAAgB,CAAhQ;;AAEA,IAAIO,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BR,MAA1B,EAAkCS,KAAlC,EAAyC;AAAE,SAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6B,KAAK,CAAChB,MAA1B,EAAkCb,CAAC,EAAnC,EAAuC;AAAE,UAAI8B,UAAU,GAAGD,KAAK,CAAC7B,CAAD,CAAtB;AAA2B8B,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BxC,MAAAA,MAAM,CAACC,cAAP,CAAsB0B,MAAtB,EAA8BU,UAAU,CAACP,GAAzC,EAA8CO,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUI,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBP,gBAAgB,CAACM,WAAW,CAACV,SAAb,EAAwBW,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBR,gBAAgB,CAACM,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAII,WAAW,GAAGF,sBAAsB,CAACC,UAAD,CAAxC;;AAEA,IAAIE,gBAAgB,GAAGL,OAAO,CAAC,6BAAD,CAA9B;;AAEA,IAAIM,eAAe,GAAGC,uBAAuB,CAACF,gBAAD,CAA7C;;AAEA,IAAIG,OAAO,GAAGR,OAAO,CAAC,qBAAD,CAArB;;AAEA,IAAIS,QAAQ,GAAGP,sBAAsB,CAACM,OAAD,CAArC;;AAEA,SAASD,uBAAT,CAAiCG,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIE,MAAM,GAAG,EAAb;;AAAiB,QAAIF,GAAG,IAAI,IAAX,EAAiB;AAAE,WAAK,IAAIzB,GAAT,IAAgByB,GAAhB,EAAqB;AAAE,YAAIvD,MAAM,CAAC+B,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCsB,GAArC,EAA0CzB,GAA1C,CAAJ,EAAoD2B,MAAM,CAAC3B,GAAD,CAAN,GAAcyB,GAAG,CAACzB,GAAD,CAAjB;AAAyB;AAAE;;AAAC2B,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoBF,GAApB;AAAyB,WAAOE,MAAP;AAAgB;AAAE;;AAEhR,SAASV,sBAAT,CAAgCQ,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,SAASG,eAAT,CAAyBH,GAAzB,EAA8BzB,GAA9B,EAAmC3B,KAAnC,EAA0C;AAAE,MAAI2B,GAAG,IAAIyB,GAAX,EAAgB;AAAEvD,IAAAA,MAAM,CAACC,cAAP,CAAsBsD,GAAtB,EAA2BzB,GAA3B,EAAgC;AAAE3B,MAAAA,KAAK,EAAEA,KAAT;AAAgBmC,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEe,IAAAA,GAAG,CAACzB,GAAD,CAAH,GAAW3B,KAAX;AAAmB;;AAAC,SAAOoD,GAAP;AAAa;;AAEjN,SAASI,eAAT,CAAyBC,QAAzB,EAAmCnB,WAAnC,EAAgD;AAAE,MAAI,EAAEmB,QAAQ,YAAYnB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIjB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASqC,0BAAT,CAAoCC,IAApC,EAA0C7B,IAA1C,EAAgD;AAAE,MAAI,CAAC6B,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAO9B,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E6B,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAI1C,SAAJ,CAAc,6DAA6D,OAAO0C,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAClC,SAAT,GAAqB/B,MAAM,CAACmE,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACnC,SAAvC,EAAkD;AAAEqC,IAAAA,WAAW,EAAE;AAAEjE,MAAAA,KAAK,EAAE8D,QAAT;AAAmB3B,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI2B,UAAJ,EAAgBlE,MAAM,CAACqE,cAAP,GAAwBrE,MAAM,CAACqE,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG;AAAC;;AAC/e;;;AAEA,SAASK,YAAT,CAAsBnC,KAAtB,EAA6B;AAC3B,MAAIoC,WAAW,GAAGpC,KAAK,CAACoC,WAAN,KAAsB,UAAtB,GAAmC,mBAAnC,GAAyD,qBAA3E;AAEA,SAAO,CAAC,UAAD,EAAaA,WAAb,EAA0BC,MAA1B,CAAiCrC,KAAK,CAACsC,SAAN,CAAgBC,KAAhB,CAAsB,GAAtB,CAAjC,EAA6DC,IAA7D,CAAkE,GAAlE,CAAP;AACD;;AAED,IAAIC,GAAG,GAAG7E,MAAM,CAAC+B,SAAP,CAAiBC,cAA3B;;AAEA,IAAI8C,mBAAmB,GAAG7B,WAAW,CAAC,SAAD,CAAX,CAAuB8B,OAAvB,CAA+B9B,WAAW,CAAC,SAAD,CAAX,CAAuB+B,MAAtD,CAA1B;;AACA,IAAIC,sBAAsB,GAAGhC,WAAW,CAAC,SAAD,CAAX,CAAuBiC,SAAvB,CAAiC,CAACjC,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IAAxB,EAA8BlC,WAAW,CAAC,SAAD,CAAX,CAAuBmC,MAArD,CAAjC,CAA7B;;AAEA,SAASC,YAAT,CAAsBC,EAAtB,EAA0B;AACxB,SAAOC,MAAM,CAACD,EAAE,CAACE,aAAH,CAAiBC,YAAjB,CAA8B,iBAA9B,CAAD,CAAb;AACD;;AAED,SAASC,SAAT,CAAmBJ,EAAnB,EAAuB;AACrBA,EAAAA,EAAE,CAACK,eAAH;AACAL,EAAAA,EAAE,CAACM,cAAH;AACD;;AAED,IAAIC,MAAM,GAAG,UAAUC,gBAAV,EAA4B;AACvC9B,EAAAA,SAAS,CAAC6B,MAAD,EAASC,gBAAT,CAAT;;AAEA,WAASD,MAAT,GAAkB;AAChBlC,IAAAA,eAAe,CAAC,IAAD,EAAOkC,MAAP,CAAf;;AAEA,WAAOhC,0BAA0B,CAAC,IAAD,EAAO,CAACgC,MAAM,CAACvB,SAAP,IAAoBtE,MAAM,CAAC+F,cAAP,CAAsBF,MAAtB,CAArB,EAAoDG,KAApD,CAA0D,IAA1D,EAAgEpE,SAAhE,CAAP,CAAjC;AACD;;AAEDM,EAAAA,YAAY,CAAC2D,MAAD,EAAS,CAAC;AACpB/D,IAAAA,GAAG,EAAE,QADe;AAEpB3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS8F,MAAT,GAAkB;AAChB,eAAOnD,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CAAiC,QAAjC,EAA2CzE,QAAQ,CAAC,EAAD,EAAK,KAAKW,KAAV,EAAiB;AAAE+D,UAAAA,IAAI,EAAE;AAAR,SAAjB,CAAnD,CAAP;AACD;;AAED,aAAOF,MAAP;AACD,KANM;AAFa,GAAD,CAAT,CAAZ;;AAWA,SAAOJ,MAAP;AACD,CArBY,CAqBX/C,OAAO,CAAC,SAAD,CAAP,CAAmBsD,SArBR,CAAb;;AAuBA,IAAIC,SAAS,GAAG;AACd;AACAC,EAAAA,SAAS,EAAErD,WAAW,CAAC,SAAD,CAAX,CAAuBsD,KAAvB,CAA6B;AACtCC,IAAAA,QAAQ,EAAEvD,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IADK;AAEtCsB,IAAAA,WAAW,EAAExD,WAAW,CAAC,SAAD,CAAX,CAAuBkC;AAFE,GAA7B,CAFG;AAMd;AACAuB,EAAAA,QAAQ,EAAEzD,WAAW,CAAC,SAAD,CAAX,CAAuB0D,IAPnB;AAQd;AACAjC,EAAAA,SAAS,EAAEzB,WAAW,CAAC,SAAD,CAAX,CAAuBmC,MATpB;AAUd;AACAwB,EAAAA,QAAQ,EAAE3D,WAAW,CAAC,SAAD,CAAX,CAAuB4D,IAXnB;AAYd;AACAC,EAAAA,MAAM,EAAE7B,sBAbM;AAcd;AACA8B,EAAAA,GAAG,EAAE9D,WAAW,CAAC,SAAD,CAAX,CAAuB+B,MAfd;AAgBd;AACAgC,EAAAA,GAAG,EAAE/D,WAAW,CAAC,SAAD,CAAX,CAAuB+B,MAjBd;AAkBd;AACAiC,EAAAA,OAAO,EAAEhE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IAnBlB;AAoBd;AACA+B,EAAAA,QAAQ,EAAEjE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IArBnB;AAsBd;AACAgC,EAAAA,UAAU,EAAElE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IAvBrB;AAwBd;AACAiC,EAAAA,eAAe,EAAEnE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IAzB1B;AA0Bd;AACAkC,EAAAA,gBAAgB,EAAEpE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IA3B3B;AA4Bd;AACAmC,EAAAA,iBAAiB,EAAErE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IA7B5B;AA8Bd;AACA;AACAoC,EAAAA,eAAe,EAAEtE,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IAhC1B;AAiCd;AACAX,EAAAA,WAAW,EAAEvB,WAAW,CAAC,SAAD,CAAX,CAAuBuE,KAAvB,CAA6B,CAAC,YAAD,EAAe,UAAf,CAA7B,CAlCC;AAmCd;AACAC,EAAAA,YAAY,EAAExC,sBApCA;AAqCd;AACAyC,EAAAA,SAAS,EAAE5C,mBAtCG;AAuCd;AACA6C,EAAAA,WAAW,EAAE1C,sBAxCC;AAyCd;AACA2C,EAAAA,IAAI,EAAE3E,WAAW,CAAC,SAAD,CAAX,CAAuB4D,IA1Cf;AA2Cd;AACAgB,EAAAA,UAAU,EAAE/C,mBA5CE;AA6Cd;AACAgD,EAAAA,qBAAqB,EAAE7E,WAAW,CAAC,SAAD,CAAX,CAAuBkC,IA9ChC;AA+Cd;AACA4C,EAAAA,MAAM,EAAEjD;AAhDM,CAAhB;AAmDA,IAAIkD,YAAY,GAAG;AACjB1B,EAAAA,SAAS,EAAEhD,QAAQ,CAAC,SAAD,CADF;AAEjBoB,EAAAA,SAAS,EAAE,EAFM;AAGjBgC,EAAAA,QAAQ,EAAE,IAHO;AAIjBE,EAAAA,QAAQ,EAAE,KAJO;AAKjBE,EAAAA,MAAM,EAAEjB,MALS;AAMjBkB,EAAAA,GAAG,EAAE5D,eAAe,CAAC8E,YANJ;AAOjBjB,EAAAA,GAAG,EAAE7D,eAAe,CAAC+E,aAPJ;AAQjBjB,EAAAA,OAAO,EAAE,IARQ;AASjBC,EAAAA,QAAQ,EAAE,IATO;AAUjBC,EAAAA,UAAU,EAAE,IAVK;AAWjBC,EAAAA,eAAe,EAAE,IAXA;AAYjBC,EAAAA,gBAAgB,EAAE,IAZD;AAajBC,EAAAA,iBAAiB,EAAE,IAbF;AAcjBC,EAAAA,eAAe,EAAE,IAdA;AAejB/C,EAAAA,WAAW,EAAE,YAfI;AAgBjBiD,EAAAA,YAAY,EAAE,IAhBG;AAiBjBC,EAAAA,SAAS,EAAE,EAjBM;AAkBjBC,EAAAA,WAAW,EAAE,KAlBI;AAmBjBC,EAAAA,IAAI,EAAE,KAnBW;AAoBjBC,EAAAA,UAAU,EAAE,EApBK;AAqBjBC,EAAAA,qBAAqB,EAAE,IArBN;AAsBjBC,EAAAA,MAAM,EAAE,CAAC5E,eAAe,CAAC+E,aAAjB;AAtBS,CAAnB;;AAyBA,IAAIC,QAAQ,GAAG,UAAUC,iBAAV,EAA6B;AAC1CpE,EAAAA,SAAS,CAACmE,QAAD,EAAWC,iBAAX,CAAT;;AAEA,WAASD,QAAT,CAAkB/F,KAAlB,EAAyB;AACvBuB,IAAAA,eAAe,CAAC,IAAD,EAAOwE,QAAP,CAAf;;AAEA,QAAIE,MAAM,GAAGxE,0BAA0B,CAAC,IAAD,EAAO,CAACsE,QAAQ,CAAC7D,SAAT,IAAsBtE,MAAM,CAAC+F,cAAP,CAAsBoC,QAAtB,CAAvB,EAAwDlG,IAAxD,CAA6D,IAA7D,EAAmEG,KAAnE,CAAP,CAAvC;;AAEA,QAAIkG,YAAY,GAAGD,MAAM,CAACjG,KAA1B;AAAA,QACIkE,SAAS,GAAGgC,YAAY,CAAChC,SAD7B;AAAA,QAEIS,GAAG,GAAGuB,YAAY,CAACvB,GAFvB;AAAA,QAGIC,GAAG,GAAGsB,YAAY,CAACtB,GAHvB;AAAA,QAIIe,MAAM,GAAGO,YAAY,CAACP,MAJ1B;AAMAM,IAAAA,MAAM,CAACE,KAAP,GAAe;AACb7D,MAAAA,SAAS,EAAEH,YAAY,CAAC8D,MAAM,CAACjG,KAAR,CADV;AAEboG,MAAAA,SAAS,EAAET,MAAM,CAACU,GAAP,CAAW,UAAUtI,KAAV,EAAiB;AACrC,eAAOmG,SAAS,CAACG,WAAV,CAAsBtG,KAAtB,EAA6B6G,GAA7B,EAAkCD,GAAlC,CAAP;AACD,OAFU,CAFE;AAKb2B,MAAAA,gBAAgB,EAAE,CALL;AAMb;AACAC,MAAAA,SAAS,EAAE,EAPE;AAQbC,MAAAA,YAAY,EAAE,IARD;AASbb,MAAAA,MAAM,EAAEA;AATK,KAAf;AAWAM,IAAAA,MAAM,CAACQ,cAAP,GAAwBR,MAAM,CAACQ,cAAP,CAAsBC,IAAtB,CAA2BT,MAA3B,CAAxB;AACAA,IAAAA,MAAM,CAACU,oBAAP,GAA8BV,MAAM,CAACU,oBAAP,CAA4BD,IAA5B,CAAiCT,MAAjC,CAA9B;AACAA,IAAAA,MAAM,CAACW,gBAAP,GAA0BX,MAAM,CAACW,gBAAP,CAAwBF,IAAxB,CAA6BT,MAA7B,CAA1B;AACAA,IAAAA,MAAM,CAACY,WAAP,GAAqBZ,MAAM,CAACY,WAAP,CAAmBH,IAAnB,CAAwBT,MAAxB,CAArB;AACAA,IAAAA,MAAM,CAACa,WAAP,GAAqBb,MAAM,CAACa,WAAP,CAAmBJ,IAAnB,CAAwBT,MAAxB,CAArB;AACAA,IAAAA,MAAM,CAACc,mBAAP,GAA6Bd,MAAM,CAACc,mBAAP,CAA2BL,IAA3B,CAAgCT,MAAhC,CAA7B;AACAA,IAAAA,MAAM,CAACe,mBAAP,GAA6Bf,MAAM,CAACe,mBAAP,CAA2BN,IAA3B,CAAgCT,MAAhC,CAA7B;AACAA,IAAAA,MAAM,CAACgB,eAAP,GAAyBhB,MAAM,CAACgB,eAAP,CAAuBP,IAAvB,CAA4BT,MAA5B,CAAzB;AACAA,IAAAA,MAAM,CAACiB,qBAAP,GAA+BjB,MAAM,CAACiB,qBAAP,CAA6BR,IAA7B,CAAkCT,MAAlC,CAA/B;AACAA,IAAAA,MAAM,CAACkB,YAAP,GAAsBlB,MAAM,CAACkB,YAAP,CAAoBT,IAApB,CAAyBT,MAAzB,CAAtB;AACAA,IAAAA,MAAM,CAACmB,WAAP,GAAqBnB,MAAM,CAACmB,WAAP,CAAmBV,IAAnB,CAAwBT,MAAxB,CAArB;AACAA,IAAAA,MAAM,CAACoB,gBAAP,GAA0BpB,MAAM,CAACoB,gBAAP,CAAwBX,IAAxB,CAA6BT,MAA7B,CAA1B;AACAA,IAAAA,MAAM,CAACqB,aAAP,GAAuBrB,MAAM,CAACqB,aAAP,CAAqBZ,IAArB,CAA0BT,MAA1B,CAAvB;AACAA,IAAAA,MAAM,CAACsB,eAAP,GAAyBtB,MAAM,CAACsB,eAAP,CAAuBb,IAAvB,CAA4BT,MAA5B,CAAzB;AACAA,IAAAA,MAAM,CAACuB,eAAP,GAAyBvB,MAAM,CAACuB,eAAP,CAAuBd,IAAvB,CAA4BT,MAA5B,CAAzB;AACAA,IAAAA,MAAM,CAACwB,gBAAP,GAA0BxB,MAAM,CAACwB,gBAAP,CAAwBf,IAAxB,CAA6BT,MAA7B,CAA1B;AACAA,IAAAA,MAAM,CAACyB,gBAAP,GAA0BzB,MAAM,CAACyB,gBAAP,CAAwBhB,IAAxB,CAA6BT,MAA7B,CAA1B;AACAA,IAAAA,MAAM,CAAC0B,WAAP,GAAqB1B,MAAM,CAAC0B,WAAP,CAAmBjB,IAAnB,CAAwBT,MAAxB,CAArB;AACAA,IAAAA,MAAM,CAAC2B,QAAP,GAAkB3B,MAAM,CAAC2B,QAAP,CAAgBlB,IAAhB,CAAqBT,MAArB,CAAlB;AACAA,IAAAA,MAAM,CAAC4B,aAAP,GAAuB5B,MAAM,CAAC4B,aAAP,CAAqBnB,IAArB,CAA0BT,MAA1B,CAAvB;AACAA,IAAAA,MAAM,CAAC6B,gBAAP,GAA0B7B,MAAM,CAAC6B,gBAAP,CAAwBpB,IAAxB,CAA6BT,MAA7B,CAA1B;AACAA,IAAAA,MAAM,CAAC8B,cAAP,GAAwB9B,MAAM,CAAC8B,cAAP,CAAsBrB,IAAtB,CAA2BT,MAA3B,CAAxB;AACAA,IAAAA,MAAM,CAAC+B,OAAP,GAAiB/B,MAAM,CAAC+B,OAAP,CAAetB,IAAf,CAAoBT,MAApB,CAAjB;AACAA,IAAAA,MAAM,CAACgC,eAAP,GAAyBhC,MAAM,CAACgC,eAAP,CAAuBvB,IAAvB,CAA4BT,MAA5B,CAAzB;AACAA,IAAAA,MAAM,CAACiC,OAAP,GAAiBjC,MAAM,CAACiC,OAAP,CAAexB,IAAf,CAAoBT,MAApB,CAAjB;AACAA,IAAAA,MAAM,CAACkC,eAAP,GAAyBlC,MAAM,CAACkC,eAAP,CAAuBzB,IAAvB,CAA4BT,MAA5B,CAAzB;AACAA,IAAAA,MAAM,CAACmC,MAAP,GAAgBnC,MAAM,CAACmC,MAAP,CAAc1B,IAAd,CAAmBT,MAAnB,CAAhB;AACAA,IAAAA,MAAM,CAACoC,uBAAP,GAAiCpC,MAAM,CAACoC,uBAAP,CAA+B3B,IAA/B,CAAoCT,MAApC,CAAjC;AAEAA,IAAAA,MAAM,CAACqC,aAAP,GAAuB,EAAvB;AACA,WAAOrC,MAAP;AACD;;AAEDnG,EAAAA,YAAY,CAACiG,QAAD,EAAW,CAAC;AACtBrG,IAAAA,GAAG,EAAE,2BADiB;AAEtB3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASwK,yBAAT,CAAmCC,SAAnC,EAA8C;AAC5C,YAAIC,MAAM,GAAG,KAAKzI,KAAlB;AAAA,YACIsC,SAAS,GAAGmG,MAAM,CAACnG,SADvB;AAAA,YAEIkC,QAAQ,GAAGiE,MAAM,CAACjE,QAFtB;AAAA,YAGII,GAAG,GAAG6D,MAAM,CAAC7D,GAHjB;AAAA,YAIID,GAAG,GAAG8D,MAAM,CAAC9D,GAJjB;AAAA,YAKIvC,WAAW,GAAGqG,MAAM,CAACrG,WALzB;AAAA,YAMIkD,SAAS,GAAGmD,MAAM,CAACnD,SANvB;AAAA,YAOIpB,SAAS,GAAGuE,MAAM,CAACvE,SAPvB;AAQA,YAAIwE,MAAM,GAAG,KAAKvC,KAAlB;AAAA,YACIR,MAAM,GAAG+C,MAAM,CAAC/C,MADpB;AAAA,YAEIa,YAAY,GAAGkC,MAAM,CAAClC,YAF1B;AAKA,YAAImC,aAAa,GAAGH,SAAS,CAAC5D,GAAV,KAAkBA,GAAlB,IAAyB4D,SAAS,CAAC7D,GAAV,KAAkBA,GAA/D;AAEA,YAAIiE,aAAa,GAAGjD,MAAM,CAAC3G,MAAP,KAAkBwJ,SAAS,CAAC7C,MAAV,CAAiB3G,MAAnC,IAA6C2G,MAAM,CAACkD,IAAP,CAAY,UAAU9K,KAAV,EAAiB+K,GAAjB,EAAsB;AACjG,iBAAON,SAAS,CAAC7C,MAAV,CAAiBmD,GAAjB,MAA0B/K,KAAjC;AACD,SAFgE,CAAjE;AAIA,YAAIgL,kBAAkB,GAAGP,SAAS,CAAClG,SAAV,KAAwBA,SAAxB,IAAqCkG,SAAS,CAACpG,WAAV,KAA0BA,WAAxF;AAEA,YAAI4G,gBAAgB,GAAGR,SAAS,CAACtE,SAAV,KAAwBA,SAA/C;AAEA,YAAI+E,gBAAgB,GAAGT,SAAS,CAAClD,SAAV,KAAwBA,SAA/C;AAEA,YAAI4D,cAAc,GAAGV,SAAS,CAAChE,QAAV,IAAsB,CAACA,QAA5C;;AAEA,YAAIuE,kBAAJ,EAAwB;AACtB,eAAKI,QAAL,CAAc;AACZ7G,YAAAA,SAAS,EAAEH,YAAY,CAACqG,SAAD;AADX,WAAd;AAGD;;AAED,YAAIG,aAAa,IAAIC,aAArB,EAAoC,KAAKT,eAAL,CAAqBK,SAArB;;AAEpC,YAAIG,aAAa,IAAIM,gBAAjB,IAAqCF,kBAArC,IAA2DC,gBAA/D,EAAiF;AAC/E,eAAKX,uBAAL;AACD;;AAED,YAAIa,cAAc,IAAI1C,YAAY,KAAK,IAAvC,EAA6C;AAC3C,eAAKoB,QAAL;AACD;AACF;;AAED,aAAOW,yBAAP;AACD,KA/CM;AAFe,GAAD,EAkDpB;AACD7I,IAAAA,GAAG,EAAE,gBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS0I,cAAT,GAA0B;AACxB,YAAI2C,OAAO,GAAG,KAAKpJ,KAAnB;AAAA,YACI4E,GAAG,GAAGwE,OAAO,CAACxE,GADlB;AAAA,YAEID,GAAG,GAAGyE,OAAO,CAACzE,GAFlB;AAGA,YAAIgB,MAAM,GAAG,KAAKQ,KAAL,CAAWR,MAAxB;AAGA,eAAO;AAAEhB,UAAAA,GAAG,EAAEA,GAAP;AAAYC,UAAAA,GAAG,EAAEA,GAAjB;AAAsBe,UAAAA,MAAM,EAAEA;AAA9B,SAAP;AACD;;AAED,aAAOc,cAAP;AACD,KAZM,EAFN,CAgBD;;AAhBC,GAlDoB,EAoEpB;AACD/G,IAAAA,GAAG,EAAE,sBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS4I,oBAAT,GAAgC;AAC9B,YAAI0C,QAAQ,GAAG,KAAKA,QAApB;AAEA,YAAI9E,IAAI,GAAG8E,QAAQ,CAACC,UAAT,GAAsBD,QAAQ,CAACC,UAAT,EAAtB,GAA8CD,QAAzD;AACA,YAAIE,IAAI,GAAGhF,IAAI,CAACiF,qBAAL,EAAX;AAEA,eAAO;AACLC,UAAAA,MAAM,EAAEF,IAAI,CAACE,MAAL,IAAelF,IAAI,CAACmF,YADvB;AAELC,UAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFN;AAGLC,UAAAA,GAAG,EAAEL,IAAI,CAACK,GAHL;AAILC,UAAAA,KAAK,EAAEN,IAAI,CAACM,KAAL,IAActF,IAAI,CAACuF;AAJrB,SAAP;AAMD;;AAED,aAAOnD,oBAAP;AACD,KAhBM;AAFN,GApEoB,EAuFpB;AACDjH,IAAAA,GAAG,EAAE,kBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS6I,gBAAT,CAA0BkC,GAA1B,EAA+B;AAC7B,YAAI1G,WAAW,GAAG,KAAKpC,KAAL,CAAWoC,WAA7B;AACA,YAAIgE,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAA3B;AAGA,YAAIrI,KAAK,GAAGqI,SAAS,CAAC0C,GAAD,CAArB;;AAEA,YAAIA,GAAG,KAAK,CAAZ,EAAe;AACb,iBAAO1G,WAAW,KAAK,UAAhB,GAA6B;AAAEqH,YAAAA,MAAM,EAAEM,MAAM,CAAChM,KAAD,CAAN,GAAgB,GAA1B;AAA+B6L,YAAAA,GAAG,EAAE;AAApC,WAA7B,GAAuE;AAAED,YAAAA,IAAI,EAAE,CAAR;AAAWE,YAAAA,KAAK,EAAEE,MAAM,CAAChM,KAAD,CAAN,GAAgB;AAAlC,WAA9E;AACD;;AAED,YAAIiM,SAAS,GAAG5D,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAzB;AACA,YAAImB,SAAS,GAAGlM,KAAK,GAAGiM,SAAxB;AAEA,eAAO5H,WAAW,KAAK,UAAhB,GAA6B;AAAEqH,UAAAA,MAAM,EAAEQ,SAAS,GAAG,GAAtB;AAA2BL,UAAAA,GAAG,EAAEG,MAAM,CAACC,SAAD,CAAN,GAAoB;AAApD,SAA7B,GAAyF;AAAEL,UAAAA,IAAI,EAAEI,MAAM,CAACC,SAAD,CAAN,GAAoB,GAA5B;AAAiCH,UAAAA,KAAK,EAAEI,SAAS,GAAG;AAApD,SAAhG;AACD;;AAED,aAAOrD,gBAAP;AACD,KAnBM;AAFN,GAvFoB,EA6GpB;AACDlH,IAAAA,GAAG,EAAE,aADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS8I,WAAT,CAAqBiC,GAArB,EAA0B;AACxB,YAAIlE,GAAG,GAAG,KAAK5E,KAAL,CAAW4E,GAArB;AACA,YAAIe,MAAM,GAAG,KAAKQ,KAAL,CAAWR,MAAxB;AAEA,eAAOA,MAAM,CAACmD,GAAG,GAAG,CAAP,CAAN,GAAkBoB,IAAI,CAACvF,GAAL,CAASC,GAAT,EAAce,MAAM,CAACmD,GAAG,GAAG,CAAP,CAApB,CAAlB,GAAmDlE,GAA1D;AACD;;AAED,aAAOiC,WAAP;AACD,KATM;AAFN,GA7GoB,EAyHpB;AACDnH,IAAAA,GAAG,EAAE,aADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS+I,WAAT,CAAqBgC,GAArB,EAA0B;AACxB,YAAInE,GAAG,GAAG,KAAK3E,KAAL,CAAW2E,GAArB;AACA,YAAIgB,MAAM,GAAG,KAAKQ,KAAL,CAAWR,MAAxB;AAEA,eAAOA,MAAM,CAACmD,GAAG,GAAG,CAAP,CAAN,GAAkBoB,IAAI,CAACtF,GAAL,CAASD,GAAT,EAAcgB,MAAM,CAACmD,GAAG,GAAG,CAAP,CAApB,CAAlB,GAAmDnE,GAA1D;AACD;;AAED,aAAOmC,WAAP;AACD,KATM,EAFN,CAaD;;AAbC,GAzHoB,EAwIpB;AACDpH,IAAAA,GAAG,EAAE,qBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASgJ,mBAAT,CAA6B7D,EAA7B,EAAiCqD,SAAjC,EAA4C;AAC1C,YAAI4D,UAAU,GAAGjH,EAAE,CAACE,aAAH,IAAoB,IAArC;AAEA,YAAI,CAAC+G,UAAL,EAAiB,OAAO,CAAP;AAEjB,eAAO,KAAKnK,KAAL,CAAWoC,WAAX,KAA2B,UAA3B,GAAwC+H,UAAU,CAACT,YAAX,GAA0BnD,SAAS,CAACkD,MAApC,GAA6C1I,eAAe,CAAC8E,YAA7D,GAA4E,CAApH,GAAwHsE,UAAU,CAACL,WAAX,GAAyBvD,SAAS,CAACsD,KAAnC,GAA2C9I,eAAe,CAAC8E,YAA3D,GAA0E,CAAzM;AACD;;AAED,aAAOkB,mBAAP;AACD,KAVM;AAFN,GAxIoB,EAqJpB;AACDrH,IAAAA,GAAG,EAAE,qBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASiJ,mBAAT,CAA6BjJ,KAA7B,EAAoC;AAClC,YAAI0H,UAAU,GAAG,KAAKzF,KAAL,CAAWyF,UAA5B;AAEA,YAAI,CAACA,UAAU,CAACzG,MAAhB,EAAwB,OAAOjB,KAAP;AAExB,eAAO0H,UAAU,CAAC2E,MAAX,CAAkB,UAAUC,MAAV,EAAkB7E,IAAlB,EAAwB;AAC/C,iBAAO0E,IAAI,CAACI,GAAL,CAASD,MAAM,GAAGtM,KAAlB,IAA2BmM,IAAI,CAACI,GAAL,CAAS9E,IAAI,GAAGzH,KAAhB,CAA3B,GAAoDsM,MAApD,GAA6D7E,IAApE;AACD,SAFM,CAAP;AAGD;;AAED,aAAOwB,mBAAP;AACD,KAZM;AAFN,GArJoB,EAoKpB;AACDtH,IAAAA,GAAG,EAAE,iBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASkJ,eAAT,CAAyBsD,eAAzB,EAA0C;AACxC,YAAIC,OAAO,GAAG,KAAKxK,KAAnB;AAAA,YACIkE,SAAS,GAAGsG,OAAO,CAACtG,SADxB;AAAA,YAEIS,GAAG,GAAG6F,OAAO,CAAC7F,GAFlB;AAAA,YAGIC,GAAG,GAAG4F,OAAO,CAAC5F,GAHlB;AAAA,YAIIY,IAAI,GAAGgF,OAAO,CAAChF,IAJnB;AAOA,YAAI,CAACA,IAAL,EAAW,OAAO+E,eAAP;AAEX,YAAIxM,KAAK,GAAGmG,SAAS,CAACE,QAAV,CAAmBmG,eAAnB,EAAoC3F,GAApC,EAAyCD,GAAzC,CAAZ;AAEA,YAAI8F,SAAS,GAAG,KAAKzD,mBAAL,CAAyBjJ,KAAzB,CAAhB;AAEA,eAAOmG,SAAS,CAACG,WAAV,CAAsBoG,SAAtB,EAAiC7F,GAAjC,EAAsCD,GAAtC,CAAP;AACD;;AAED,aAAOsC,eAAP;AACD,KAnBM;AAFN,GApKoB,EA0LpB;AACDvH,IAAAA,GAAG,EAAE,uBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASmJ,qBAAT,CAA+B4B,GAA/B,EAAoC4B,OAApC,EAA6C;AAC3C,YAAIC,eAAJ;;AAEA,YAAIC,OAAO,GAAG,KAAKzE,KAAnB;AAAA,YACIC,SAAS,GAAGwE,OAAO,CAACxE,SADxB;AAAA,YAEIT,MAAM,GAAGiF,OAAO,CAACjF,MAFrB;AAGA,YAAIkF,OAAO,GAAG,KAAK7K,KAAnB;AAAA,YACIkE,SAAS,GAAG2G,OAAO,CAAC3G,SADxB;AAAA,YAEIS,GAAG,GAAGkG,OAAO,CAAClG,GAFlB;AAAA,YAGIC,GAAG,GAAGiG,OAAO,CAACjG,GAHlB;AAAA,YAIIa,UAAU,GAAGoF,OAAO,CAACpF,UAJzB;AAAA,YAKIqF,UAAU,GAAGD,OAAO,CAACrF,IALzB;AAQA,YAAIuF,aAAa,GAAGpF,MAAM,CAACmD,GAAD,CAA1B;AACA,YAAIkC,kBAAkB,GAAG5E,SAAS,CAAC0C,GAAD,CAAlC;AACA,YAAImC,kBAAkB,GAAGD,kBAAzB;AACA,YAAIE,SAAS,GAAG,CAAhB;;AAEA,YAAIvG,GAAG,IAAI,GAAX,EAAgB;AACdqG,UAAAA,kBAAkB,GAAGd,IAAI,CAACiB,KAAL,CAAWH,kBAAX,CAArB;AACD,SAFD,MAEO;AACLE,UAAAA,SAAS,GAAG,OAAOvG,GAAG,GAAGC,GAAb,CAAZ;AACD;;AAED,YAAIwG,YAAY,GAAG,IAAnB;;AAEA,YAAIN,UAAJ,EAAgB;AACdM,UAAAA,YAAY,GAAG3F,UAAU,CAAC4F,OAAX,CAAmB,KAAKrE,mBAAL,CAAyBrB,MAAM,CAACmD,GAAD,CAA/B,CAAnB,CAAf;AACD;;AAED,YAAIwC,cAAc,IAAIX,eAAe,GAAG,EAAlB,EAAsBrJ,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBC,IAAvC,EAA6C,UAAUC,CAAV,EAAa;AACnH,iBAAOA,CAAC,GAAG,CAAC,CAAZ;AACD,SAF0D,CAArC,EAElBnK,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBG,KAAvC,EAA8C,UAAUD,CAAV,EAAa;AAC5E,iBAAOA,CAAC,GAAG,CAAX;AACD,SAFkB,CAFG,EAIlBnK,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBI,EAAvC,EAA2C,UAAUF,CAAV,EAAa;AACzE,iBAAOA,CAAC,GAAG,CAAX;AACD,SAFkB,CAJG,EAMlBnK,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBK,IAAvC,EAA6C,UAAUH,CAAV,EAAa;AAC3E,iBAAOA,CAAC,GAAG,CAAC,CAAZ;AACD,SAFkB,CANG,EAQlBnK,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBM,SAAvC,EAAkD,UAAUJ,CAAV,EAAa;AAChF,iBAAOA,CAAC,GAAG,CAAJ,GAAQ,CAACA,CAAT,GAAaA,CAAC,GAAG,CAAC,EAAzB;AACD,SAFkB,CARG,EAUlBnK,eAAe,CAACqJ,eAAD,EAAkB5J,eAAe,CAACwK,IAAhB,CAAqBO,OAAvC,EAAgD,UAAUL,CAAV,EAAa;AAC9E,iBAAOA,CAAC,GAAG,CAAJ,GAAQA,CAAR,GAAYA,CAAC,GAAG,EAAvB;AACD,SAFkB,CAVG,EAYlBd,eAZc,CAAlB;;AAcA,YAAIlI,GAAG,CAAC5C,IAAJ,CAASyL,cAAT,EAAyBZ,OAAzB,CAAJ,EAAuC;AACrCM,UAAAA,kBAAkB,IAAIM,cAAc,CAACZ,OAAD,CAAd,CAAwBQ,SAAxB,CAAtB;;AAEA,cAAIJ,UAAJ,EAAgB;AACd,gBAAIE,kBAAkB,GAAGC,kBAAzB,EAA6C;AAC3C;AACA,kBAAIG,YAAY,GAAG3F,UAAU,CAACzG,MAAX,GAAoB,CAAvC,EAA0C;AACxC+L,gBAAAA,aAAa,GAAGtF,UAAU,CAAC2F,YAAY,GAAG,CAAhB,CAA1B;AACD,eAJ0C,CAK3C;;AACD,aAND,MAMO,IAAIA,YAAY,GAAG,CAAnB,EAAsB;AAC3BL,cAAAA,aAAa,GAAGtF,UAAU,CAAC2F,YAAY,GAAG,CAAhB,CAA1B;AACD;AACF;AACF,SAdD,MAcO,IAAIV,OAAO,KAAK3J,eAAe,CAACwK,IAAhB,CAAqBQ,IAArC,EAA2C;AAChDf,UAAAA,kBAAkB,GAAGjK,eAAe,CAAC+E,aAArC;;AAEA,cAAIgF,UAAJ,EAAgB;AACd,gBAAIkB,WAAW,GAAGhO,cAAc,CAACyH,UAAD,EAAa,CAAb,CAAhC;;AAEAsF,YAAAA,aAAa,GAAGiB,WAAW,CAAC,CAAD,CAA3B;AACD;AACF,SARM,MAQA,IAAItB,OAAO,KAAK3J,eAAe,CAACwK,IAAhB,CAAqBU,GAArC,EAA0C;AAC/CjB,UAAAA,kBAAkB,GAAGjK,eAAe,CAAC8E,YAArC;;AAEA,cAAIiF,UAAJ,EAAgB;AACdC,YAAAA,aAAa,GAAGtF,UAAU,CAACA,UAAU,CAACzG,MAAX,GAAoB,CAArB,CAA1B;AACD;AACF,SANM,MAMA;AACL,iBAAO,IAAP;AACD;;AAED,eAAO8L,UAAU,GAAG5G,SAAS,CAACG,WAAV,CAAsB0G,aAAtB,EAAqCnG,GAArC,EAA0CD,GAA1C,CAAH,GAAoDqG,kBAArE;AACD;;AAED,aAAO9D,qBAAP;AACD,KAlFM;AAFN,GA1LoB,EA+QpB;AACDxH,IAAAA,GAAG,EAAE,cADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASoJ,YAAT,CAAsB2B,GAAtB,EAA2BoD,gBAA3B,EAA6C;AAC3C,YAAI9F,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAA3B;AACA,YAAI+F,OAAO,GAAG,KAAKnM,KAAnB;AAAA,YACI2E,GAAG,GAAGwH,OAAO,CAACxH,GADlB;AAAA,YAEIC,GAAG,GAAGuH,OAAO,CAACvH,GAFlB;AAAA,YAGIV,SAAS,GAAGiI,OAAO,CAACjI,SAHxB;AAMA,YAAIkI,cAAc,GAAG,KAAKtE,gBAAL,CAAsBgB,GAAtB,EAA2BoD,gBAA3B,CAArB;AAEA,YAAIG,aAAa,GAAGjG,SAAS,CAACC,GAAV,CAAc,UAAUiG,GAAV,EAAeC,KAAf,EAAsB;AACtD,iBAAOA,KAAK,KAAKzD,GAAV,GAAgBsD,cAAhB,GAAiCE,GAAxC;AACD,SAFmB,CAApB;AAIA,eAAO;AACLlG,UAAAA,SAAS,EAAEiG,aADN;AAEL1G,UAAAA,MAAM,EAAE0G,aAAa,CAAChG,GAAd,CAAkB,UAAUiG,GAAV,EAAe;AACvC,mBAAOpI,SAAS,CAACE,QAAV,CAAmBkI,GAAnB,EAAwB1H,GAAxB,EAA6BD,GAA7B,CAAP;AACD,WAFO;AAFH,SAAP;AAMD;;AAED,aAAOwC,YAAP;AACD,KAxBM;AAFN,GA/QoB,EA0SpB;AACDzH,IAAAA,GAAG,EAAE,kBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASsJ,gBAAT,CAA0BkD,eAA1B,EAA2C;AACzC,YAAInE,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAA3B;AAGA,eAAOA,SAAS,CAACgE,MAAV,CAAiB,UAAUoC,UAAV,EAAsBjI,IAAtB,EAA4BuE,GAA5B,EAAiC;AACvD,cAAI2D,UAAU,GAAGvC,IAAI,CAACI,GAAL,CAASlE,SAAS,CAAC0C,GAAD,CAAT,GAAiByB,eAA1B,CAAjB;AACA,cAAImC,OAAO,GAAGxC,IAAI,CAACI,GAAL,CAASlE,SAAS,CAACoG,UAAD,CAAT,GAAwBjC,eAAjC,CAAd;AACA,iBAAOkC,UAAU,GAAGC,OAAb,GAAuB5D,GAAvB,GAA6B0D,UAApC;AACD,SAJM,EAIJ,CAJI,CAAP;AAKD;;AAED,aAAOnF,gBAAP;AACD,KAbM,EAFN,CAiBD;;AAjBC,GA1SoB,EA6TpB;AACD3H,IAAAA,GAAG,EAAE,eADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASuJ,aAAT,CAAuBpE;AAAG;AAA1B,QAAwC;AACtC,YAAIqD,SAAS,GAAG,KAAKI,oBAAL,EAAhB;AAEA,aAAKwC,QAAL,CAAc;AACZ7C,UAAAA,gBAAgB,EAAE,KAAKS,mBAAL,CAAyB7D,EAAzB,EAA6BqD,SAA7B,CADN;AAEZ;AACAA,UAAAA,SAAS,EAAEA,SAHC;AAIZC,UAAAA,YAAY,EAAEvD,YAAY,CAACC,EAAD;AAJd,SAAd;AAMD;;AAED,aAAOoE,aAAP;AACD,KAbM;AAFN,GA7ToB,EA6UpB;AACD5H,IAAAA,GAAG,EAAE,QADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASqK,MAAT,CAAgBuE,GAAhB,EAAqB;AACnB,aAAKtD,QAAL,GAAgBsD,GAAhB;AACD;;AAED,aAAOvE,MAAP;AACD,KANM,EAFN,CAUD;;AAVC,GA7UoB,EAyVpB;AACD1I,IAAAA,GAAG,EAAE,iBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASwJ,eAAT,CAAyBrE,EAAzB,EAA6B;AAC3B,aAAKoE,aAAL,CAAmBpE,EAAnB,EAAuBA,EAAE,CAAC0J,OAA1B,EAAmC1J,EAAE,CAAC2J,OAAtC;;AAEA,YAAI,OAAOC,QAAQ,CAACC,gBAAhB,KAAqC,UAAzC,EAAqD;AACnDD,UAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKtF,gBAA5C,EAA8D,KAA9D;AACAqF,UAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKnF,QAA1C,EAAoD,KAApD;AACD,SAHD,MAGO;AACLkF,UAAAA,QAAQ,CAACE,WAAT,CAAqB,aAArB,EAAoC,KAAKvF,gBAAzC;AACAqF,UAAAA,QAAQ,CAACE,WAAT,CAAqB,WAArB,EAAkC,KAAKpF,QAAvC;AACD;;AAEDtE,QAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;;AAED,aAAOqE,eAAP;AACD,KAhBM,EAFN,CAoBD;;AApBC,GAzVoB,EA+WpB;AACD7H,IAAAA,GAAG,EAAE,iBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASyJ,eAAT,CAAyBtE,EAAzB,EAA6B;AAC3B,YAAIgC,iBAAiB,GAAG,KAAKlF,KAAL,CAAWkF,iBAAnC;AAGA,YAAIhC,EAAE,CAAC+J,cAAH,CAAkBjO,MAAlB,GAA2B,CAA/B,EAAkC;AAElC,YAAIkO,KAAK,GAAGhK,EAAE,CAAC+J,cAAH,CAAkB,CAAlB,CAAZ;AAEA,aAAK3F,aAAL,CAAmBpE,EAAnB,EAAuBgK,KAAK,CAACN,OAA7B,EAAsCM,KAAK,CAACL,OAA5C;AAEAC,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKrF,gBAA5C,EAA8D,KAA9D;AACAoF,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,EAAsC,KAAKnF,QAA3C,EAAqD,KAArD;AAEA,YAAI1C,iBAAJ,EAAuBA,iBAAiB;AAExC5B,QAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;;AAED,aAAOsE,eAAP;AACD,KApBM,EAFN,CAwBD;;AAxBC,GA/WoB,EAyYpB;AACD9H,IAAAA,GAAG,EAAE,kBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS0J,gBAAT,CAA0BvE,EAA1B,EAA8B;AAC5B,YAAIsD,YAAY,GAAG,KAAKL,KAAL,CAAWK,YAA9B;AAEA,YAAIA,YAAY,KAAK,IAArB,EAA2B;AAC3B,aAAKmB,WAAL,CAAiBzE,EAAE,CAAC0J,OAApB,EAA6B1J,EAAE,CAAC2J,OAAhC;AACAvJ,QAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;;AAED,aAAOuE,gBAAP;AACD,KAVM,EAFN,CAcD;;AAdC,GAzYoB,EAyZpB;AACD/H,IAAAA,GAAG,EAAE,kBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS2J,gBAAT,CAA0BxE,EAA1B,EAA8B;AAC5B,YAAIsD,YAAY,GAAG,KAAKL,KAAL,CAAWK,YAA9B;AAEA,YAAIA,YAAY,KAAK,IAArB,EAA2B;;AAE3B,YAAItD,EAAE,CAAC+J,cAAH,CAAkBjO,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,eAAK4I,QAAL;AACA;AACD;;AAED,YAAIsF,KAAK,GAAGhK,EAAE,CAAC+J,cAAH,CAAkB,CAAlB,CAAZ;AAEA,aAAKtF,WAAL,CAAiBuF,KAAK,CAACN,OAAvB,EAAgCM,KAAK,CAACL,OAAtC;AACAvJ,QAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;;AAED,aAAOwE,gBAAP;AACD,KAlBM,EAFN,CAsBD;;AAtBC,GAzZoB,EAibpB;AACDhI,IAAAA,GAAG,EAAE,aADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS4J,WAAT,CAAqBwF,CAArB,EAAwBC,CAAxB,EAA2B;AACzB,YAAIC,OAAO,GAAG,KAAKrN,KAAnB;AAAA,YACIoC,WAAW,GAAGiL,OAAO,CAACjL,WAD1B;AAAA,YAEI6C,gBAAgB,GAAGoI,OAAO,CAACpI,gBAF/B;AAGA,YAAIqI,OAAO,GAAG,KAAKnH,KAAnB;AAAA,YACI2C,GAAG,GAAGwE,OAAO,CAAC9G,YADlB;AAAA,YAEID,SAAS,GAAG+G,OAAO,CAAC/G,SAFxB;AAKA,YAAIgE,eAAe,GAAGnI,WAAW,KAAK,UAAhB,GAA6B,CAACgL,CAAC,GAAG7G,SAAS,CAACqD,GAAf,IAAsBrD,SAAS,CAACkD,MAAhC,GAAyC1I,eAAe,CAAC8E,YAAtF,GAAqG,CAACsH,CAAC,GAAG5G,SAAS,CAACoD,IAAf,IAAuBpD,SAAS,CAACsD,KAAjC,GAAyC9I,eAAe,CAAC8E,YAApL;AAEA,aAAKqC,OAAL,CAAaY,GAAb,EAAkByB,eAAlB;;AAEA,YAAI,KAAKvC,OAAL,CAAac,GAAb,EAAkByB,eAAlB,CAAJ,EAAwC;AACtC,cAAItF,gBAAJ,EAAsBA,gBAAgB;AACvC;AACF;;AAED,aAAO0C,WAAP;AACD,KApBM,EAFN,CAwBD;;AAxBC,GAjboB,EA2cpB;AACDjI,IAAAA,GAAG,EAAE,UADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS6J,QAAT,GAAoB;AAClB,YAAI2F,MAAM,GAAG,IAAb;;AAEA,YAAIC,OAAO,GAAG,KAAKxN,KAAnB;AAAA,YACIgF,eAAe,GAAGwI,OAAO,CAACxI,eAD9B;AAAA,YAEIQ,IAAI,GAAGgI,OAAO,CAAChI,IAFnB;AAGA,YAAIiI,OAAO,GAAG,KAAKtH,KAAnB;AAAA,YACIK,YAAY,GAAGiH,OAAO,CAACjH,YAD3B;AAAA,YAEIJ,SAAS,GAAGqH,OAAO,CAACrH,SAFxB;AAKA,aAAK+C,QAAL,CAAc;AAAE3C,UAAAA,YAAY,EAAE;AAAhB,SAAd;;AAEA,YAAI,OAAOsG,QAAQ,CAACY,mBAAhB,KAAwC,UAA5C,EAAwD;AACtDZ,UAAAA,QAAQ,CAACY,mBAAT,CAA6B,SAA7B,EAAwC,KAAK9F,QAA7C,EAAuD,KAAvD;AACAkF,UAAAA,QAAQ,CAACY,mBAAT,CAA6B,UAA7B,EAAyC,KAAK9F,QAA9C,EAAwD,KAAxD;AACAkF,UAAAA,QAAQ,CAACY,mBAAT,CAA6B,WAA7B,EAA0C,KAAKhG,gBAA/C,EAAiE,KAAjE;AACAoF,UAAAA,QAAQ,CAACY,mBAAT,CAA6B,WAA7B,EAA0C,KAAKjG,gBAA/C,EAAiE,KAAjE;AACD,SALD,MAKO;AACLqF,UAAAA,QAAQ,CAACa,WAAT,CAAqB,aAArB,EAAoC,KAAKlG,gBAAzC;AACAqF,UAAAA,QAAQ,CAACa,WAAT,CAAqB,WAArB,EAAkC,KAAK/F,QAAvC;AACD;;AAED,YAAI5C,eAAJ,EAAqBA,eAAe;;AACpC,YAAIQ,IAAJ,EAAU;AACR,cAAI+E,eAAe,GAAG,KAAKtD,eAAL,CAAqBb,SAAS,CAACI,YAAD,CAA9B,CAAtB;AACA,eAAK0B,OAAL,CAAa1B,YAAb,EAA2B+D,eAA3B,EAA4C,YAAY;AACtD,mBAAOgD,MAAM,CAACtF,eAAP,EAAP;AACD,WAFD;AAGD,SALD,MAKO;AACL,eAAKA,eAAL;AACD;AACF;;AAED,aAAOL,QAAP;AACD,KApCM,EAFN,CAwCD;;AAxCC,GA3coB,EAqfpB;AACDlI,IAAAA,GAAG,EAAE,aADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASqJ,WAAT,CAAqBlE,EAArB,EAAyB;AACvB,YAAI0K,MAAM,GAAG,IAAb;;AAEA,YAAI1K,EAAE,CAAC3D,MAAH,CAAU8D,YAAV,CAAuB,iBAAvB,CAAJ,EAA+C;AAC7C;AACD;;AAED,YAAIwK,OAAO,GAAG,KAAK7N,KAAnB;AAAA,YACIoC,WAAW,GAAGyL,OAAO,CAACzL,WAD1B;AAAA,YAEIyC,OAAO,GAAGgJ,OAAO,CAAChJ,OAFtB,CAPuB,CAWvB;AACA;;AAEA,YAAI0B,SAAS,GAAG,KAAKI,oBAAL,EAAhB;AAEA,YAAImH,eAAe,GAAG1L,WAAW,KAAK,UAAhB,GAA6B,CAACc,EAAE,CAAC2J,OAAH,GAAatG,SAAS,CAACqD,GAAxB,IAA+BrD,SAAS,CAACkD,MAAtE,GAA+E,CAACvG,EAAE,CAAC0J,OAAH,GAAarG,SAAS,CAACoD,IAAxB,IAAgCpD,SAAS,CAACsD,KAA/I;AAEA,YAAIU,eAAe,GAAGuD,eAAe,GAAG/M,eAAe,CAAC8E,YAAxD;AAEA,YAAIkI,QAAQ,GAAG,KAAK1G,gBAAL,CAAsBkD,eAAtB,CAAf;AAEA,YAAIyD,oBAAoB,GAAG,KAAK/G,eAAL,CAAqBsD,eAArB,CAA3B,CAtBuB,CAwBvB;;AACA,aAAKrC,OAAL,CAAa6F,QAAb,EAAuBC,oBAAvB,EAA6C,YAAY;AACvD,iBAAOJ,MAAM,CAAC3F,eAAP,EAAP;AACD,SAFD;AAIA,YAAIpD,OAAJ,EAAaA,OAAO;AACrB;;AAED,aAAOuC,WAAP;AACD,KAlCM,EAFN,CAsCD;;AAtCC,GArfoB,EA6hBpB;AACD1H,IAAAA,GAAG,EAAE,eADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS8J,aAAT,CAAuB3E,EAAvB,EAA2B;AACzB,YAAI+K,MAAM,GAAG,IAAb;;AAEA,YAAInF,GAAG,GAAG7F,YAAY,CAACC,EAAD,CAAtB;;AAEA,YAAIA,EAAE,CAACwH,OAAH,KAAe3J,eAAe,CAACwK,IAAhB,CAAqB2C,GAAxC,EAA6C;AAC3ChL,UAAAA,EAAE,CAACE,aAAH,CAAiB+K,IAAjB;AACA;AACD;;AAED,YAAInD,kBAAkB,GAAG,KAAK9D,qBAAL,CAA2B4B,GAA3B,EAAgC5F,EAAE,CAACwH,OAAnC,CAAzB;AAEA,YAAIM,kBAAkB,KAAK,IAA3B,EAAiC;;AAEjC,YAAI,KAAKhD,OAAL,CAAac,GAAb,EAAkBkC,kBAAlB,CAAJ,EAA2C;AACzC,eAAK9C,OAAL,CAAaY,GAAb,EAAkBkC,kBAAlB,EAAsC,YAAY;AAChD,mBAAOiD,MAAM,CAAChG,eAAP,EAAP;AACD,WAFD;AAGA,cAAIlD,UAAU,GAAG,KAAK/E,KAAL,CAAW+E,UAA5B;AAEA,cAAIA,UAAJ,EAAgBA,UAAU;AAC3B;;AAEDzB,QAAAA,SAAS,CAACJ,EAAD,CAAT;AACD;;AAED,aAAO2E,aAAP;AACD,KA5BM,EAFN,CAgCD;;AAhCC,GA7hBoB,EA+jBpB;AACDnI,IAAAA,GAAG,EAAE,oBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASqQ,kBAAT,CAA4BtF,GAA5B,EAAiCoD,gBAAjC,EAAmD;AACjD,YAAIxG,qBAAqB,GAAG,KAAK1F,KAAL,CAAW0F,qBAAvC;AAEA,YAAI2I,YAAY,GAAGnC,gBAAnB;;AACA,YAAIxG,qBAAJ,EAA2B;AACzB2I,UAAAA,YAAY,GAAGC,UAAU,CAAC5I,qBAAqB,CAACoD,GAAD,EAAMoD,gBAAN,CAAtB,CAAzB;;AAEA,cAAI/I,MAAM,CAACoL,KAAP,CAAaF,YAAb,KAA8BA,YAAY,GAAGtN,eAAe,CAAC+E,aAA7D,IAA8EuI,YAAY,GAAGtN,eAAe,CAAC8E,YAAjH,EAA+H;AAC7H,kBAAM,IAAIzG,SAAJ,CAAc,+FAAd,CAAN;AACD;AACF;;AAED,eAAOiP,YAAP;AACD;;AAED,aAAOD,kBAAP;AACD,KAjBM,EAFN,CAqBD;AACA;;AAtBC,GA/jBoB,EAulBpB;AACD1O,IAAAA,GAAG,EAAE,kBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS+J,gBAAT,CAA0BgB,GAA1B,EAA+BoD,gBAA/B,EAAiD;AAC/C,YAAIsC,OAAO,GAAG,KAAKrI,KAAnB;AAAA,YACIC,SAAS,GAAGoI,OAAO,CAACpI,SADxB;AAAA,YAEIE,gBAAgB,GAAGkI,OAAO,CAAClI,gBAF/B;AAKA,YAAI+H,YAAY,GAAG,KAAKD,kBAAL,CAAwBtF,GAAxB,EAA6BoD,gBAA7B,CAAnB;AAEA,eAAOhC,IAAI,CAACvF,GAAL,CAASuF,IAAI,CAACtF,GAAL,CAASyJ,YAAT,EAAuBjI,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,KAAuBtK,SAAvB,GAAmC4H,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,GAAqBxC,gBAAxD,GAA2EvF,eAAe,CAAC8E,YAAlH,CAA+H;AAA/H,SAAT,EACJO,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,KAAuBtK,SAAvB,GAAmC4H,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,GAAqBxC,gBAAxD,GAA2EvF,eAAe,CAAC+E,aADvF,CACqG;AADrG,SAAP;AAGD;;AAED,aAAOgC,gBAAP;AACD,KAfM;AAFN,GAvlBoB,EAymBpB;AACDpI,IAAAA,GAAG,EAAE,gBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASgK,cAAT,CAAwB0G,cAAxB,EAAwCzO,KAAxC,EAA+C;AAC7C,YAAI0O,IAAI,GAAG1O,KAAK,IAAI,KAAKA,KAAzB;AAAA,YACI2E,GAAG,GAAG+J,IAAI,CAAC/J,GADf;AAAA,YAEIC,GAAG,GAAG8J,IAAI,CAAC9J,GAFf;;AAIA,eAAO6J,cAAc,CAACpI,GAAf,CAAmB,UAAUtI,KAAV,EAAiB+K,GAAjB,EAAsBnD,MAAtB,EAA8B;AACtD,cAAIgJ,SAAS,GAAGzE,IAAI,CAACvF,GAAL,CAASuF,IAAI,CAACtF,GAAL,CAAS7G,KAAT,EAAgB4G,GAAhB,CAAT,EAA+BC,GAA/B,CAAhB;;AAEA,cAAIe,MAAM,CAAC3G,MAAP,IAAiB2P,SAAS,GAAGhJ,MAAM,CAACmD,GAAG,GAAG,CAAP,CAAvC,EAAkD;AAChD,mBAAOnD,MAAM,CAACmD,GAAG,GAAG,CAAP,CAAb;AACD;;AAED,iBAAO6F,SAAP;AACD,SARM,CAAP;AASD;;AAED,aAAO5G,cAAP;AACD,KAlBM,EAFN,CAsBD;;AAtBC,GAzmBoB,EAioBpB;AACDrI,IAAAA,GAAG,EAAE,SADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASiK,OAAT,CAAiBc,GAAjB,EAAsBoD,gBAAtB,EAAwC;AACtC,YAAI0C,OAAO,GAAG,KAAKzI,KAAnB;AAAA,YACIC,SAAS,GAAGwI,OAAO,CAACxI,SADxB;AAAA,YAEIE,gBAAgB,GAAGsI,OAAO,CAACtI,gBAF/B;AAKA,YAAI4F,gBAAgB,GAAGnL,eAAe,CAAC+E,aAAvC,EAAsD,OAAO,KAAP;AACtD,YAAIoG,gBAAgB,GAAGnL,eAAe,CAAC8E,YAAvC,EAAqD,OAAO,KAAP;AAErD,YAAIgJ,kBAAkB,GAAGzI,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,KAAuBtK,SAAvB,GAAmC4H,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,GAAqBxC,gBAAxD,GAA2EwI,QAApG;AAEA,YAAI5C,gBAAgB,GAAG2C,kBAAvB,EAA2C,OAAO,KAAP;AAE3C,YAAIE,kBAAkB,GAAG3I,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,KAAuBtK,SAAvB,GAAmC4H,SAAS,CAAC0C,GAAG,GAAG,CAAP,CAAT,GAAqBxC,gBAAxD,GAA2E,CAACwI,QAArG;AAEA,YAAI5C,gBAAgB,GAAG6C,kBAAvB,EAA2C,OAAO,KAAP;AAE3C,eAAO,IAAP;AACD;;AAED,aAAO/G,OAAP;AACD,KAtBM,EAFN,CA0BD;;AA1BC,GAjoBoB,EA6pBpB;AACDtI,IAAAA,GAAG,EAAE,iBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASkK,eAAT,GAA2B;AACzB,YAAInD,QAAQ,GAAG,KAAK9E,KAAL,CAAW8E,QAA1B;AAEA,YAAIA,QAAJ,EAAcA,QAAQ,CAAC,KAAK2B,cAAL,EAAD,CAAR;AACf;;AAED,aAAOwB,eAAP;AACD,KARM,EAFN,CAYD;;AAZC,GA7pBoB,EA2qBpB;AACDvI,IAAAA,GAAG,EAAE,SADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASmK,OAAT,CAAiBY,GAAjB,EAAsBoD,gBAAtB,EAAwC8C,UAAxC,EAAoD;AAClD,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIC,SAAS,GAAG,KAAK/H,YAAL,CAAkB2B,GAAlB,EAAuBoD,gBAAvB,CAAhB;AAEA,aAAK/C,QAAL,CAAc+F,SAAd,EAAyB,YAAY;AACnC,cAAI/J,eAAe,GAAG8J,MAAM,CAACjP,KAAP,CAAamF,eAAnC;AAEA,cAAIA,eAAJ,EAAqBA,eAAe,CAAC8J,MAAM,CAACxI,cAAP,EAAD,CAAf;AACrB,cAAIuI,UAAJ,EAAgBA,UAAU;AAC3B,SALD;AAMD;;AAED,aAAO9G,OAAP;AACD,KAfM,EAFN,CAmBD;;AAnBC,GA3qBoB,EAgsBpB;AACDxI,IAAAA,GAAG,EAAE,iBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASoK,eAAT,CAAyBK,SAAzB,EAAoC;AAClC,YAAI2G,MAAM,GAAG,IAAb;;AAEA,YAAI3I,YAAY,GAAG,KAAKL,KAAL,CAAWK,YAA9B,CAHkC,CAKlC;;AAEA,YAAIA,YAAY,KAAK,IAArB,EAA2B;AACzB;AACD;;AAED,YAAI7B,GAAG,GAAG6D,SAAS,CAAC7D,GAApB;AAAA,YACIC,GAAG,GAAG4D,SAAS,CAAC5D,GADpB;AAAA,YAEIe,MAAM,GAAG6C,SAAS,CAAC7C,MAFvB;AAGA,YAAIzB,SAAS,GAAG,KAAKlE,KAAL,CAAWkE,SAA3B;AAGA,YAAIkL,UAAU,GAAG,KAAKrH,cAAL,CAAoBpC,MAApB,EAA4B6C,SAA5B,CAAjB;AAEA,aAAKW,QAAL,CAAc;AACZ/C,UAAAA,SAAS,EAAEgJ,UAAU,CAAC/I,GAAX,CAAe,UAAUtI,KAAV,EAAiB;AACzC,mBAAOmG,SAAS,CAACG,WAAV,CAAsBtG,KAAtB,EAA6B6G,GAA7B,EAAkCD,GAAlC,CAAP;AACD,WAFU,CADC;AAIZgB,UAAAA,MAAM,EAAEyJ;AAJI,SAAd,EAKG,YAAY;AACb,iBAAOD,MAAM,CAAClH,eAAP,EAAP;AACD,SAPD;AAQD;;AAED,aAAOE,eAAP;AACD,KA/BM;AAFN,GAhsBoB,EAkuBpB;AACDzI,IAAAA,GAAG,EAAE,yBADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAASsK,uBAAT,GAAmC;AACjC,aAAKC,aAAL,GAAqB,EAArB;AACD;;AAED,aAAOD,uBAAP;AACD,KANM;AAFN,GAluBoB,EA2uBpB;AACD3I,IAAAA,GAAG,EAAE,QADJ;AAED3B,IAAAA,KAAK,EAAE,YAAY;AACjB,eAAS8F,MAAT,GAAkB;AAChB,YAAIwL,MAAM,GAAG,IAAb;;AAEA,YAAIC,OAAO,GAAG,KAAKtP,KAAnB;AAAA,YACIkE,SAAS,GAAGoL,OAAO,CAACpL,SADxB;AAAA,YAEII,QAAQ,GAAGgL,OAAO,CAAChL,QAFvB;AAAA,YAGIE,QAAQ,GAAG8K,OAAO,CAAC9K,QAHvB;AAAA,YAII+K,MAAM,GAAGD,OAAO,CAAC5K,MAJrB;AAAA,YAKIC,GAAG,GAAG2K,OAAO,CAAC3K,GALlB;AAAA,YAMIC,GAAG,GAAG0K,OAAO,CAAC1K,GANlB;AAAA,YAOIxC,WAAW,GAAGkN,OAAO,CAAClN,WAP1B;AAAA,YAQIoN,YAAY,GAAGF,OAAO,CAACjK,YAR3B;AAAA,YASIC,SAAS,GAAGgK,OAAO,CAAChK,SATxB;AAAA,YAUImK,WAAW,GAAGH,OAAO,CAAC/J,WAV1B;AAWA,YAAImK,OAAO,GAAG,KAAKvJ,KAAnB;AAAA,YACI7D,SAAS,GAAGoN,OAAO,CAACpN,SADxB;AAAA,YAEI8D,SAAS,GAAGsJ,OAAO,CAACtJ,SAFxB;AAAA,YAGIT,MAAM,GAAG+J,OAAO,CAAC/J,MAHrB;AAMA,eACE;AACAjF,UAAAA,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CACE,KADF,EAEE;AACExB,YAAAA,SAAS,EAAEA,SADb;AAEEqK,YAAAA,GAAG,EAAE,KAAKvE,MAFZ;AAGEvD,YAAAA,OAAO,EAAE,CAACL,QAAD,GAAY,KAAK4C,WAAjB,GAA+B5I,SAH1C;AAIEmR,YAAAA,KAAK,EAAE;AAAEC,cAAAA,QAAQ,EAAE;AAAZ;AAJT,WAFF,EAQElP,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CAAiC,KAAjC,EAAwC;AAAExB,YAAAA,SAAS,EAAE;AAAb,WAAxC,CARF,EASE8D,SAAS,CAACC,GAAV,CAAc,UAAUiG,GAAV,EAAexD,GAAf,EAAoB;AAChC,gBAAI+G,WAAW,GAAGzN,WAAW,KAAK,UAAhB,GAA6B;AAAEwH,cAAAA,GAAG,EAAEG,MAAM,CAACuC,GAAD,CAAN,GAAc,GAArB;AAA0BsD,cAAAA,QAAQ,EAAE;AAApC,aAA7B,GAAgF;AAAEjG,cAAAA,IAAI,EAAEI,MAAM,CAACuC,GAAD,CAAN,GAAc,GAAtB;AAA2BsD,cAAAA,QAAQ,EAAE;AAArC,aAAlG;AAEA,mBAAOlP,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CAAiCyL,MAAjC,EAAyC;AAC9C,+BAAiBF,MAAM,CAACvI,WAAP,CAAmBgC,GAAnB,CAD6B;AAE9C,+BAAiBuG,MAAM,CAACxI,WAAP,CAAmBiC,GAAnB,CAF6B;AAG9C,+BAAiBnD,MAAM,CAACmD,GAAD,CAHuB;AAI9C,+BAAiBtE,QAJ6B;AAK9C,iCAAmBsE,GAL2B;AAM9CxG,cAAAA,SAAS,EAAE,iBANmC;AAO9C5C,cAAAA,GAAG,EAAE,YAAYqK,MAAM,CAACjB,GAAD,CAPuB;AAQ9CjE,cAAAA,OAAO,EAAEwK,MAAM,CAAC/L,SAR8B;AAS9CwM,cAAAA,SAAS,EAAE,CAACtL,QAAD,GAAY6K,MAAM,CAACxH,aAAnB,GAAmCrJ,SATA;AAU9CuR,cAAAA,WAAW,EAAE,CAACvL,QAAD,GAAY6K,MAAM,CAAC9H,eAAnB,GAAqC/I,SAVJ;AAW9CwR,cAAAA,YAAY,EAAE,CAACxL,QAAD,GAAY6K,MAAM,CAAC7H,eAAnB,GAAqChJ,SAXL;AAY9CyR,cAAAA,IAAI,EAAE,QAZwC;AAa9CN,cAAAA,KAAK,EAAEE,WAbuC;AAc9CK,cAAAA,QAAQ,EAAE;AAdoC,aAAzC,CAAP;AAgBD,WAnBD,CATF,EA6BE9J,SAAS,CAACC,GAAV,CAAc,UAAU9B,IAAV,EAAgBuE,GAAhB,EAAqB5K,GAArB,EAA0B;AACtC,gBAAI4K,GAAG,KAAK,CAAR,IAAa5K,GAAG,CAACc,MAAJ,GAAa,CAA9B,EAAiC;AAC/B,qBAAO,IAAP;AACD;;AAED,mBAAO0B,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CAAiC2L,WAAjC,EAA8C;AACnDnN,cAAAA,SAAS,EAAE,mBADwC;AAEnD5C,cAAAA,GAAG,EAAE,kBAAkBqK,MAAM,CAACjB,GAAD,CAFsB;AAGnD6G,cAAAA,KAAK,EAAEN,MAAM,CAACzI,gBAAP,CAAwBkC,GAAxB;AAH4C,aAA9C,CAAP;AAKD,WAVD,CA7BF,EAwCE0G,YAAY,IAAIlK,SAAS,CAACe,GAAV,CAAc,UAAU8J,CAAV,EAAa;AACzC,gBAAIC,QAAQ,GAAGf,MAAM,CAAC/G,aAAP,CAAqB6H,CAArB,CAAf;;AAEA,gBAAI,CAACC,QAAL,EAAe;AACb,kBAAI9D,GAAG,GAAGpI,SAAS,CAACG,WAAV,CAAsB8L,CAAtB,EAAyBvL,GAAzB,EAA8BD,GAA9B,CAAV;AACAyL,cAAAA,QAAQ,GAAGhO,WAAW,KAAK,UAAhB,GAA6B;AAAEwH,gBAAAA,GAAG,EAAEG,MAAM,CAACuC,GAAD,CAAN,GAAc,GAArB;AAA0BsD,gBAAAA,QAAQ,EAAE;AAApC,eAA7B,GAAgF;AAAEjG,gBAAAA,IAAI,EAAEI,MAAM,CAACuC,GAAD,CAAN,GAAc,GAAtB;AAA2BsD,gBAAAA,QAAQ,EAAE;AAArC,eAA3F;AACAP,cAAAA,MAAM,CAAC/G,aAAP,CAAqB6H,CAArB,IAA0BC,QAA1B;AACD;;AAED,mBAAO1P,OAAO,CAAC,SAAD,CAAP,CAAmBoD,aAAnB,CACL0L,YADK,EAEL;AAAE9P,cAAAA,GAAG,EAAE,SAASqK,MAAM,CAACoG,CAAD,CAAtB;AAA2BR,cAAAA,KAAK,EAAES;AAAlC,aAFK,EAGLD,CAHK,CAAP;AAKD,WAde,CAxClB,EAuDE7L,QAvDF;AAFF;AA4DD;;AAED,aAAOT,MAAP;AACD,KApFM;AAFN,GA3uBoB,CAAX,CAAZ;;AAo0BA,SAAOkC,QAAP;AACD,CA/3Bc,CA+3BbrF,OAAO,CAAC,SAAD,CAAP,CAAmBsD,SA/3BN,CAAf;;AAi4BA+B,QAAQ,CAAC9B,SAAT,GAAqBA,SAArB;AACA8B,QAAQ,CAACH,YAAT,GAAwBA,YAAxB;AAEA9H,OAAO,CAAC,SAAD,CAAP,GAAqBiI,QAArB","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _SliderConstants = require('./constants/SliderConstants');\n\nvar SliderConstants = _interopRequireWildcard(_SliderConstants);\n\nvar _linear = require('./algorithms/linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* globals document */\n/* eslint react/no-array-index-key: 1 */\n\nfunction getClassName(props) {\n  var orientation = props.orientation === 'vertical' ? 'rheostat-vertical' : 'rheostat-horizontal';\n\n  return ['rheostat', orientation].concat(props.className.split(' ')).join(' ');\n}\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes2['default'].arrayOf(_propTypes2['default'].number);\nvar PropTypeReactComponent = _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute('data-handle-key'));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function () {\n      function render() {\n        return _react2['default'].createElement('button', _extends({}, this.props, { type: 'button' }));\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Button;\n}(_react2['default'].Component);\n\nvar propTypes = {\n  // the algorithm to use\n  algorithm: _propTypes2['default'].shape({\n    getValue: _propTypes2['default'].func,\n    getPosition: _propTypes2['default'].func\n  }),\n  // any children you pass in\n  children: _propTypes2['default'].node,\n  // standard class name you'd like to apply to the root element\n  className: _propTypes2['default'].string,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes2['default'].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes2['default'].number,\n  // the minimum possible value\n  min: _propTypes2['default'].number,\n  // called on click\n  onClick: _propTypes2['default'].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes2['default'].func,\n  // called on key press\n  onKeyPress: _propTypes2['default'].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes2['default'].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes2['default'].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes2['default'].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes2['default'].func,\n  // the orientation\n  orientation: _propTypes2['default'].oneOf(['horizontal', 'vertical']),\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes2['default'].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // whether a proposed update is valid\n  getNextHandlePosition: _propTypes2['default'].func,\n  // the values\n  values: PropTypeArrOfNumber\n};\n\nvar defaultProps = {\n  algorithm: _linear2['default'],\n  className: '',\n  children: null,\n  disabled: false,\n  handle: Button,\n  max: SliderConstants.PERCENT_FULL,\n  min: SliderConstants.PERCENT_EMPTY,\n  onClick: null,\n  onChange: null,\n  onKeyPress: null,\n  onSliderDragEnd: null,\n  onSliderDragMove: null,\n  onSliderDragStart: null,\n  onValuesUpdated: null,\n  orientation: 'horizontal',\n  pitComponent: null,\n  pitPoints: [],\n  progressBar: 'div',\n  snap: false,\n  snapPoints: [],\n  getNextHandlePosition: null,\n  values: [SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat = function (_React$Component2) {\n  _inherits(Rheostat, _React$Component2);\n\n  function Rheostat(props) {\n    _classCallCheck(this, Rheostat);\n\n    var _this2 = _possibleConstructorReturn(this, (Rheostat.__proto__ || Object.getPrototypeOf(Rheostat)).call(this, props));\n\n    var _this2$props = _this2.props,\n        algorithm = _this2$props.algorithm,\n        max = _this2$props.max,\n        min = _this2$props.min,\n        values = _this2$props.values;\n\n    _this2.state = {\n      className: getClassName(_this2.props),\n      handlePos: values.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      // mousePos: null,\n      sliderBox: {},\n      slidingIndex: null,\n      values: values\n    };\n    _this2.getPublicState = _this2.getPublicState.bind(_this2);\n    _this2.getSliderBoundingBox = _this2.getSliderBoundingBox.bind(_this2);\n    _this2.getProgressStyle = _this2.getProgressStyle.bind(_this2);\n    _this2.getMinValue = _this2.getMinValue.bind(_this2);\n    _this2.getMaxValue = _this2.getMaxValue.bind(_this2);\n    _this2.getHandleDimensions = _this2.getHandleDimensions.bind(_this2);\n    _this2.getClosestSnapPoint = _this2.getClosestSnapPoint.bind(_this2);\n    _this2.getSnapPosition = _this2.getSnapPosition.bind(_this2);\n    _this2.getNextPositionForKey = _this2.getNextPositionForKey.bind(_this2);\n    _this2.getNextState = _this2.getNextState.bind(_this2);\n    _this2.handleClick = _this2.handleClick.bind(_this2);\n    _this2.getClosestHandle = _this2.getClosestHandle.bind(_this2);\n    _this2.setStartSlide = _this2.setStartSlide.bind(_this2);\n    _this2.startMouseSlide = _this2.startMouseSlide.bind(_this2);\n    _this2.startTouchSlide = _this2.startTouchSlide.bind(_this2);\n    _this2.handleMouseSlide = _this2.handleMouseSlide.bind(_this2);\n    _this2.handleTouchSlide = _this2.handleTouchSlide.bind(_this2);\n    _this2.handleSlide = _this2.handleSlide.bind(_this2);\n    _this2.endSlide = _this2.endSlide.bind(_this2);\n    _this2.handleKeydown = _this2.handleKeydown.bind(_this2);\n    _this2.validatePosition = _this2.validatePosition.bind(_this2);\n    _this2.validateValues = _this2.validateValues.bind(_this2);\n    _this2.canMove = _this2.canMove.bind(_this2);\n    _this2.fireChangeEvent = _this2.fireChangeEvent.bind(_this2);\n    _this2.slideTo = _this2.slideTo.bind(_this2);\n    _this2.updateNewValues = _this2.updateNewValues.bind(_this2);\n    _this2.setRef = _this2.setRef.bind(_this2);\n    _this2.invalidatePitStyleCache = _this2.invalidatePitStyleCache.bind(_this2);\n\n    _this2.pitStyleCache = {};\n    return _this2;\n  }\n\n  _createClass(Rheostat, [{\n    key: 'componentWillReceiveProps',\n    value: function () {\n      function componentWillReceiveProps(nextProps) {\n        var _props = this.props,\n            className = _props.className,\n            disabled = _props.disabled,\n            min = _props.min,\n            max = _props.max,\n            orientation = _props.orientation,\n            pitPoints = _props.pitPoints,\n            algorithm = _props.algorithm;\n        var _state = this.state,\n            values = _state.values,\n            slidingIndex = _state.slidingIndex;\n\n\n        var minMaxChanged = nextProps.min !== min || nextProps.max !== max;\n\n        var valuesChanged = values.length !== nextProps.values.length || values.some(function (value, idx) {\n          return nextProps.values[idx] !== value;\n        });\n\n        var orientationChanged = nextProps.className !== className || nextProps.orientation !== orientation;\n\n        var algorithmChanged = nextProps.algorithm !== algorithm;\n\n        var pitPointsChanged = nextProps.pitPoints !== pitPoints;\n\n        var willBeDisabled = nextProps.disabled && !disabled;\n\n        if (orientationChanged) {\n          this.setState({\n            className: getClassName(nextProps)\n          });\n        }\n\n        if (minMaxChanged || valuesChanged) this.updateNewValues(nextProps);\n\n        if (minMaxChanged || pitPointsChanged || orientationChanged || algorithmChanged) {\n          this.invalidatePitStyleCache();\n        }\n\n        if (willBeDisabled && slidingIndex !== null) {\n          this.endSlide();\n        }\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: 'getPublicState',\n    value: function () {\n      function getPublicState() {\n        var _props2 = this.props,\n            min = _props2.min,\n            max = _props2.max;\n        var values = this.state.values;\n\n\n        return { max: max, min: min, values: values };\n      }\n\n      return getPublicState;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'getSliderBoundingBox',\n    value: function () {\n      function getSliderBoundingBox() {\n        var rheostat = this.rheostat;\n\n        var node = rheostat.getDOMNode ? rheostat.getDOMNode() : rheostat;\n        var rect = node.getBoundingClientRect();\n\n        return {\n          height: rect.height || node.clientHeight,\n          left: rect.left,\n          top: rect.top,\n          width: rect.width || node.clientWidth\n        };\n      }\n\n      return getSliderBoundingBox;\n    }()\n  }, {\n    key: 'getProgressStyle',\n    value: function () {\n      function getProgressStyle(idx) {\n        var orientation = this.props.orientation;\n        var handlePos = this.state.handlePos;\n\n\n        var value = handlePos[idx];\n\n        if (idx === 0) {\n          return orientation === 'vertical' ? { height: String(value) + '%', top: 0 } : { left: 0, width: String(value) + '%' };\n        }\n\n        var prevValue = handlePos[idx - 1];\n        var diffValue = value - prevValue;\n\n        return orientation === 'vertical' ? { height: diffValue + '%', top: String(prevValue) + '%' } : { left: String(prevValue) + '%', width: diffValue + '%' };\n      }\n\n      return getProgressStyle;\n    }()\n  }, {\n    key: 'getMinValue',\n    value: function () {\n      function getMinValue(idx) {\n        var min = this.props.min;\n        var values = this.state.values;\n\n        return values[idx - 1] ? Math.max(min, values[idx - 1]) : min;\n      }\n\n      return getMinValue;\n    }()\n  }, {\n    key: 'getMaxValue',\n    value: function () {\n      function getMaxValue(idx) {\n        var max = this.props.max;\n        var values = this.state.values;\n\n        return values[idx + 1] ? Math.min(max, values[idx + 1]) : max;\n      }\n\n      return getMaxValue;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'getHandleDimensions',\n    value: function () {\n      function getHandleDimensions(ev, sliderBox) {\n        var handleNode = ev.currentTarget || null;\n\n        if (!handleNode) return 0;\n\n        return this.props.orientation === 'vertical' ? handleNode.clientHeight / sliderBox.height * SliderConstants.PERCENT_FULL / 2 : handleNode.clientWidth / sliderBox.width * SliderConstants.PERCENT_FULL / 2;\n      }\n\n      return getHandleDimensions;\n    }()\n  }, {\n    key: 'getClosestSnapPoint',\n    value: function () {\n      function getClosestSnapPoint(value) {\n        var snapPoints = this.props.snapPoints;\n\n        if (!snapPoints.length) return value;\n\n        return snapPoints.reduce(function (snapTo, snap) {\n          return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n        });\n      }\n\n      return getClosestSnapPoint;\n    }()\n  }, {\n    key: 'getSnapPosition',\n    value: function () {\n      function getSnapPosition(positionPercent) {\n        var _props3 = this.props,\n            algorithm = _props3.algorithm,\n            max = _props3.max,\n            min = _props3.min,\n            snap = _props3.snap;\n\n\n        if (!snap) return positionPercent;\n\n        var value = algorithm.getValue(positionPercent, min, max);\n\n        var snapValue = this.getClosestSnapPoint(value);\n\n        return algorithm.getPosition(snapValue, min, max);\n      }\n\n      return getSnapPosition;\n    }()\n  }, {\n    key: 'getNextPositionForKey',\n    value: function () {\n      function getNextPositionForKey(idx, keyCode) {\n        var _stepMultiplier;\n\n        var _state2 = this.state,\n            handlePos = _state2.handlePos,\n            values = _state2.values;\n        var _props4 = this.props,\n            algorithm = _props4.algorithm,\n            max = _props4.max,\n            min = _props4.min,\n            snapPoints = _props4.snapPoints,\n            shouldSnap = _props4.snap;\n\n\n        var proposedValue = values[idx];\n        var proposedPercentage = handlePos[idx];\n        var originalPercentage = proposedPercentage;\n        var stepValue = 1;\n\n        if (max >= 100) {\n          proposedPercentage = Math.round(proposedPercentage);\n        } else {\n          stepValue = 100 / (max - min);\n        }\n\n        var currentIndex = null;\n\n        if (shouldSnap) {\n          currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n        }\n\n        var stepMultiplier = (_stepMultiplier = {}, _defineProperty(_stepMultiplier, SliderConstants.KEYS.LEFT, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.RIGHT, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.UP, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.DOWN, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_DOWN, function (v) {\n          return v > 1 ? -v : v * -10;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_UP, function (v) {\n          return v > 1 ? v : v * 10;\n        }), _stepMultiplier);\n\n        if (has.call(stepMultiplier, keyCode)) {\n          proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n          if (shouldSnap) {\n            if (proposedPercentage > originalPercentage) {\n              // move cursor right unless overflow\n              if (currentIndex < snapPoints.length - 1) {\n                proposedValue = snapPoints[currentIndex + 1];\n              }\n              // move cursor left unless there is overflow\n            } else if (currentIndex > 0) {\n              proposedValue = snapPoints[currentIndex - 1];\n            }\n          }\n        } else if (keyCode === SliderConstants.KEYS.HOME) {\n          proposedPercentage = SliderConstants.PERCENT_EMPTY;\n\n          if (shouldSnap) {\n            var _snapPoints = _slicedToArray(snapPoints, 1);\n\n            proposedValue = _snapPoints[0];\n          }\n        } else if (keyCode === SliderConstants.KEYS.END) {\n          proposedPercentage = SliderConstants.PERCENT_FULL;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[snapPoints.length - 1];\n          }\n        } else {\n          return null;\n        }\n\n        return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n      }\n\n      return getNextPositionForKey;\n    }()\n  }, {\n    key: 'getNextState',\n    value: function () {\n      function getNextState(idx, proposedPosition) {\n        var handlePos = this.state.handlePos;\n        var _props5 = this.props,\n            max = _props5.max,\n            min = _props5.min,\n            algorithm = _props5.algorithm;\n\n\n        var actualPosition = this.validatePosition(idx, proposedPosition);\n\n        var nextHandlePos = handlePos.map(function (pos, index) {\n          return index === idx ? actualPosition : pos;\n        });\n\n        return {\n          handlePos: nextHandlePos,\n          values: nextHandlePos.map(function (pos) {\n            return algorithm.getValue(pos, min, max);\n          })\n        };\n      }\n\n      return getNextState;\n    }()\n  }, {\n    key: 'getClosestHandle',\n    value: function () {\n      function getClosestHandle(positionPercent) {\n        var handlePos = this.state.handlePos;\n\n\n        return handlePos.reduce(function (closestIdx, node, idx) {\n          var challenger = Math.abs(handlePos[idx] - positionPercent);\n          var current = Math.abs(handlePos[closestIdx] - positionPercent);\n          return challenger < current ? idx : closestIdx;\n        }, 0);\n      }\n\n      return getClosestHandle;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'setStartSlide',\n    value: function () {\n      function setStartSlide(ev /* , x, y */) {\n        var sliderBox = this.getSliderBoundingBox();\n\n        this.setState({\n          handleDimensions: this.getHandleDimensions(ev, sliderBox),\n          // mousePos: { x, y },\n          sliderBox: sliderBox,\n          slidingIndex: getHandleFor(ev)\n        });\n      }\n\n      return setStartSlide;\n    }()\n  }, {\n    key: 'setRef',\n    value: function () {\n      function setRef(ref) {\n        this.rheostat = ref;\n      }\n\n      return setRef;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'startMouseSlide',\n    value: function () {\n      function startMouseSlide(ev) {\n        this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n        if (typeof document.addEventListener === 'function') {\n          document.addEventListener('mousemove', this.handleMouseSlide, false);\n          document.addEventListener('mouseup', this.endSlide, false);\n        } else {\n          document.attachEvent('onmousemove', this.handleMouseSlide);\n          document.attachEvent('onmouseup', this.endSlide);\n        }\n\n        killEvent(ev);\n      }\n\n      return startMouseSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'startTouchSlide',\n    value: function () {\n      function startTouchSlide(ev) {\n        var onSliderDragStart = this.props.onSliderDragStart;\n\n\n        if (ev.changedTouches.length > 1) return;\n\n        var touch = ev.changedTouches[0];\n\n        this.setStartSlide(ev, touch.clientX, touch.clientY);\n\n        document.addEventListener('touchmove', this.handleTouchSlide, false);\n        document.addEventListener('touchend', this.endSlide, false);\n\n        if (onSliderDragStart) onSliderDragStart();\n\n        killEvent(ev);\n      }\n\n      return startTouchSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'handleMouseSlide',\n    value: function () {\n      function handleMouseSlide(ev) {\n        var slidingIndex = this.state.slidingIndex;\n\n        if (slidingIndex === null) return;\n        this.handleSlide(ev.clientX, ev.clientY);\n        killEvent(ev);\n      }\n\n      return handleMouseSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'handleTouchSlide',\n    value: function () {\n      function handleTouchSlide(ev) {\n        var slidingIndex = this.state.slidingIndex;\n\n        if (slidingIndex === null) return;\n\n        if (ev.changedTouches.length > 1) {\n          this.endSlide();\n          return;\n        }\n\n        var touch = ev.changedTouches[0];\n\n        this.handleSlide(touch.clientX, touch.clientY);\n        killEvent(ev);\n      }\n\n      return handleTouchSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'handleSlide',\n    value: function () {\n      function handleSlide(x, y) {\n        var _props6 = this.props,\n            orientation = _props6.orientation,\n            onSliderDragMove = _props6.onSliderDragMove;\n        var _state3 = this.state,\n            idx = _state3.slidingIndex,\n            sliderBox = _state3.sliderBox;\n\n\n        var positionPercent = orientation === 'vertical' ? (y - sliderBox.top) / sliderBox.height * SliderConstants.PERCENT_FULL : (x - sliderBox.left) / sliderBox.width * SliderConstants.PERCENT_FULL;\n\n        this.slideTo(idx, positionPercent);\n\n        if (this.canMove(idx, positionPercent)) {\n          if (onSliderDragMove) onSliderDragMove();\n        }\n      }\n\n      return handleSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'endSlide',\n    value: function () {\n      function endSlide() {\n        var _this3 = this;\n\n        var _props7 = this.props,\n            onSliderDragEnd = _props7.onSliderDragEnd,\n            snap = _props7.snap;\n        var _state4 = this.state,\n            slidingIndex = _state4.slidingIndex,\n            handlePos = _state4.handlePos;\n\n\n        this.setState({ slidingIndex: null });\n\n        if (typeof document.removeEventListener === 'function') {\n          document.removeEventListener('mouseup', this.endSlide, false);\n          document.removeEventListener('touchend', this.endSlide, false);\n          document.removeEventListener('touchmove', this.handleTouchSlide, false);\n          document.removeEventListener('mousemove', this.handleMouseSlide, false);\n        } else {\n          document.detachEvent('onmousemove', this.handleMouseSlide);\n          document.detachEvent('onmouseup', this.endSlide);\n        }\n\n        if (onSliderDragEnd) onSliderDragEnd();\n        if (snap) {\n          var positionPercent = this.getSnapPosition(handlePos[slidingIndex]);\n          this.slideTo(slidingIndex, positionPercent, function () {\n            return _this3.fireChangeEvent();\n          });\n        } else {\n          this.fireChangeEvent();\n        }\n      }\n\n      return endSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'handleClick',\n    value: function () {\n      function handleClick(ev) {\n        var _this4 = this;\n\n        if (ev.target.getAttribute('data-handle-key')) {\n          return;\n        }\n\n        var _props8 = this.props,\n            orientation = _props8.orientation,\n            onClick = _props8.onClick;\n\n        // Calculate the position of the slider on the page so we can determine\n        // the position where you click in relativity.\n\n        var sliderBox = this.getSliderBoundingBox();\n\n        var positionDecimal = orientation === 'vertical' ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n\n        var positionPercent = positionDecimal * SliderConstants.PERCENT_FULL;\n\n        var handleId = this.getClosestHandle(positionPercent);\n\n        var validPositionPercent = this.getSnapPosition(positionPercent);\n\n        // Move the handle there\n        this.slideTo(handleId, validPositionPercent, function () {\n          return _this4.fireChangeEvent();\n        });\n\n        if (onClick) onClick();\n      }\n\n      return handleClick;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'handleKeydown',\n    value: function () {\n      function handleKeydown(ev) {\n        var _this5 = this;\n\n        var idx = getHandleFor(ev);\n\n        if (ev.keyCode === SliderConstants.KEYS.ESC) {\n          ev.currentTarget.blur();\n          return;\n        }\n\n        var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n\n        if (proposedPercentage === null) return;\n\n        if (this.canMove(idx, proposedPercentage)) {\n          this.slideTo(idx, proposedPercentage, function () {\n            return _this5.fireChangeEvent();\n          });\n          var onKeyPress = this.props.onKeyPress;\n\n          if (onKeyPress) onKeyPress();\n        }\n\n        killEvent(ev);\n      }\n\n      return handleKeydown;\n    }()\n\n    // Apply user adjustments to position\n\n  }, {\n    key: 'userAdjustPosition',\n    value: function () {\n      function userAdjustPosition(idx, proposedPosition) {\n        var getNextHandlePosition = this.props.getNextHandlePosition;\n\n        var nextPosition = proposedPosition;\n        if (getNextHandlePosition) {\n          nextPosition = parseFloat(getNextHandlePosition(idx, proposedPosition));\n\n          if (Number.isNaN(nextPosition) || nextPosition < SliderConstants.PERCENT_EMPTY || nextPosition > SliderConstants.PERCENT_FULL) {\n            throw new TypeError('getNextHandlePosition returned invalid position. Valid positions are floats between 0 and 100');\n          }\n        }\n\n        return nextPosition;\n      }\n\n      return userAdjustPosition;\n    }()\n\n    // Make sure the proposed position respects the bounds and\n    // does not collide with other handles too much.\n\n  }, {\n    key: 'validatePosition',\n    value: function () {\n      function validatePosition(idx, proposedPosition) {\n        var _state5 = this.state,\n            handlePos = _state5.handlePos,\n            handleDimensions = _state5.handleDimensions;\n\n\n        var nextPosition = this.userAdjustPosition(idx, proposedPosition);\n\n        return Math.max(Math.min(nextPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : SliderConstants.PERCENT_FULL // 100% is the highest value\n        ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n        );\n      }\n\n      return validatePosition;\n    }()\n  }, {\n    key: 'validateValues',\n    value: function () {\n      function validateValues(proposedValues, props) {\n        var _ref = props || this.props,\n            max = _ref.max,\n            min = _ref.min;\n\n        return proposedValues.map(function (value, idx, values) {\n          var realValue = Math.max(Math.min(value, max), min);\n\n          if (values.length && realValue < values[idx - 1]) {\n            return values[idx - 1];\n          }\n\n          return realValue;\n        });\n      }\n\n      return validateValues;\n    }()\n\n    // Can we move the slider to the given position?\n\n  }, {\n    key: 'canMove',\n    value: function () {\n      function canMove(idx, proposedPosition) {\n        var _state6 = this.state,\n            handlePos = _state6.handlePos,\n            handleDimensions = _state6.handleDimensions;\n\n\n        if (proposedPosition < SliderConstants.PERCENT_EMPTY) return false;\n        if (proposedPosition > SliderConstants.PERCENT_FULL) return false;\n\n        var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : Infinity;\n\n        if (proposedPosition > nextHandlePosition) return false;\n\n        var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : -Infinity;\n\n        if (proposedPosition < prevHandlePosition) return false;\n\n        return true;\n      }\n\n      return canMove;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'fireChangeEvent',\n    value: function () {\n      function fireChangeEvent() {\n        var onChange = this.props.onChange;\n\n        if (onChange) onChange(this.getPublicState());\n      }\n\n      return fireChangeEvent;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'slideTo',\n    value: function () {\n      function slideTo(idx, proposedPosition, onAfterSet) {\n        var _this6 = this;\n\n        var nextState = this.getNextState(idx, proposedPosition);\n\n        this.setState(nextState, function () {\n          var onValuesUpdated = _this6.props.onValuesUpdated;\n\n          if (onValuesUpdated) onValuesUpdated(_this6.getPublicState());\n          if (onAfterSet) onAfterSet();\n        });\n      }\n\n      return slideTo;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: 'updateNewValues',\n    value: function () {\n      function updateNewValues(nextProps) {\n        var _this7 = this;\n\n        var slidingIndex = this.state.slidingIndex;\n\n        // Don't update while the slider is sliding\n\n        if (slidingIndex !== null) {\n          return;\n        }\n\n        var max = nextProps.max,\n            min = nextProps.min,\n            values = nextProps.values;\n        var algorithm = this.props.algorithm;\n\n\n        var nextValues = this.validateValues(values, nextProps);\n\n        this.setState({\n          handlePos: nextValues.map(function (value) {\n            return algorithm.getPosition(value, min, max);\n          }),\n          values: nextValues\n        }, function () {\n          return _this7.fireChangeEvent();\n        });\n      }\n\n      return updateNewValues;\n    }()\n  }, {\n    key: 'invalidatePitStyleCache',\n    value: function () {\n      function invalidatePitStyleCache() {\n        this.pitStyleCache = {};\n      }\n\n      return invalidatePitStyleCache;\n    }()\n  }, {\n    key: 'render',\n    value: function () {\n      function render() {\n        var _this8 = this;\n\n        var _props9 = this.props,\n            algorithm = _props9.algorithm,\n            children = _props9.children,\n            disabled = _props9.disabled,\n            Handle = _props9.handle,\n            max = _props9.max,\n            min = _props9.min,\n            orientation = _props9.orientation,\n            PitComponent = _props9.pitComponent,\n            pitPoints = _props9.pitPoints,\n            ProgressBar = _props9.progressBar;\n        var _state7 = this.state,\n            className = _state7.className,\n            handlePos = _state7.handlePos,\n            values = _state7.values;\n\n\n        return (\n          // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n          _react2['default'].createElement(\n            'div',\n            {\n              className: className,\n              ref: this.setRef,\n              onClick: !disabled ? this.handleClick : undefined,\n              style: { position: 'relative' }\n            },\n            _react2['default'].createElement('div', { className: 'rheostat-background' }),\n            handlePos.map(function (pos, idx) {\n              var handleStyle = orientation === 'vertical' ? { top: String(pos) + '%', position: 'absolute' } : { left: String(pos) + '%', position: 'absolute' };\n\n              return _react2['default'].createElement(Handle, {\n                'aria-valuemax': _this8.getMaxValue(idx),\n                'aria-valuemin': _this8.getMinValue(idx),\n                'aria-valuenow': values[idx],\n                'aria-disabled': disabled,\n                'data-handle-key': idx,\n                className: 'rheostat-handle',\n                key: 'handle-' + String(idx),\n                onClick: _this8.killEvent,\n                onKeyDown: !disabled ? _this8.handleKeydown : undefined,\n                onMouseDown: !disabled ? _this8.startMouseSlide : undefined,\n                onTouchStart: !disabled ? _this8.startTouchSlide : undefined,\n                role: 'slider',\n                style: handleStyle,\n                tabIndex: 0\n              });\n            }),\n            handlePos.map(function (node, idx, arr) {\n              if (idx === 0 && arr.length > 1) {\n                return null;\n              }\n\n              return _react2['default'].createElement(ProgressBar, {\n                className: 'rheostat-progress',\n                key: 'progress-bar-' + String(idx),\n                style: _this8.getProgressStyle(idx)\n              });\n            }),\n            PitComponent && pitPoints.map(function (n) {\n              var pitStyle = _this8.pitStyleCache[n];\n\n              if (!pitStyle) {\n                var pos = algorithm.getPosition(n, min, max);\n                pitStyle = orientation === 'vertical' ? { top: String(pos) + '%', position: 'absolute' } : { left: String(pos) + '%', position: 'absolute' };\n                _this8.pitStyleCache[n] = pitStyle;\n              }\n\n              return _react2['default'].createElement(\n                PitComponent,\n                { key: 'pit-' + String(n), style: pitStyle },\n                n\n              );\n            }),\n            children\n          )\n        );\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Rheostat;\n}(_react2['default'].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\n\nexports['default'] = Rheostat;"]},"metadata":{},"sourceType":"script"}